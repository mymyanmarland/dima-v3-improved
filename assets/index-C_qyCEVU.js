var oS=n=>{throw TypeError(n)};var mg=(n,e,t)=>e.has(n)||oS("Cannot "+t);var oe=(n,e,t)=>(mg(n,e,"read from private field"),t?t.call(n):e.get(n)),it=(n,e,t)=>e.has(n)?oS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),He=(n,e,t,i)=>(mg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),vn=(n,e,t)=>(mg(n,e,"access private method"),t);var nh=(n,e,t,i)=>({set _(r){He(n,e,r,t)},get _(){return oe(n,e,i)}});function $N(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var tK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zE={exports:{}},ef={},UE={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.element"),qN=Symbol.for("react.portal"),YN=Symbol.for("react.fragment"),KN=Symbol.for("react.strict_mode"),XN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),QN=Symbol.for("react.context"),ZN=Symbol.for("react.forward_ref"),eI=Symbol.for("react.suspense"),tI=Symbol.for("react.memo"),nI=Symbol.for("react.lazy"),lS=Symbol.iterator;function iI(n){return n===null||typeof n!="object"?null:(n=lS&&n[lS]||n["@@iterator"],typeof n=="function"?n:null)}var GE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HE=Object.assign,VE={};function Ec(n,e,t){this.props=n,this.context=e,this.refs=VE,this.updater=t||GE}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ec.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function WE(){}WE.prototype=Ec.prototype;function kb(n,e,t){this.props=n,this.context=e,this.refs=VE,this.updater=t||GE}var Ab=kb.prototype=new WE;Ab.constructor=kb;HE(Ab,Ec.prototype);Ab.isPureReactComponent=!0;var cS=Array.isArray,$E=Object.prototype.hasOwnProperty,Pb={current:null},qE={key:!0,ref:!0,__self:!0,__source:!0};function YE(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)$E.call(e,i)&&!qE.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Pu,type:n,key:s,ref:a,props:r,_owner:Pb.current}}function rI(n,e){return{$$typeof:Pu,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Rb(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pu}function sI(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var dS=/\/+/g;function fg(n,e){return typeof n=="object"&&n!==null&&n.key!=null?sI(""+n.key):e.toString(36)}function Gp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Pu:case qN:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+fg(a,0):i,cS(r)?(t="",n!=null&&(t=n.replace(dS,"$&/")+"/"),Gp(r,e,t,"",function(c){return c})):r!=null&&(Rb(r)&&(r=rI(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(dS,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",cS(n))for(var o=0;o<n.length;o++){s=n[o];var l=i+fg(s,o);a+=Gp(s,e,t,l,r)}else if(l=iI(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=i+fg(s,o++),a+=Gp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ih(n,e,t){if(n==null)return n;var i=[],r=0;return Gp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function aI(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ln={current:null},Hp={transition:null},oI={ReactCurrentDispatcher:Ln,ReactCurrentBatchConfig:Hp,ReactCurrentOwner:Pb};function KE(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:ih,forEach:function(n,e,t){ih(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ih(n,function(){e++}),e},toArray:function(n){return ih(n,function(e){return e})||[]},only:function(n){if(!Rb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Xe.Component=Ec;Xe.Fragment=YN;Xe.Profiler=XN;Xe.PureComponent=kb;Xe.StrictMode=KN;Xe.Suspense=eI;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI;Xe.act=KE;Xe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=HE({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Pb.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)$E.call(e,l)&&!qE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Pu,type:n.type,key:r,ref:s,props:i,_owner:a}};Xe.createContext=function(n){return n={$$typeof:QN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:JN,_context:n},n.Consumer=n};Xe.createElement=YE;Xe.createFactory=function(n){var e=YE.bind(null,n);return e.type=n,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(n){return{$$typeof:ZN,render:n}};Xe.isValidElement=Rb;Xe.lazy=function(n){return{$$typeof:nI,_payload:{_status:-1,_result:n},_init:aI}};Xe.memo=function(n,e){return{$$typeof:tI,type:n,compare:e===void 0?null:e}};Xe.startTransition=function(n){var e=Hp.transition;Hp.transition={};try{n()}finally{Hp.transition=e}};Xe.unstable_act=KE;Xe.useCallback=function(n,e){return Ln.current.useCallback(n,e)};Xe.useContext=function(n){return Ln.current.useContext(n)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(n){return Ln.current.useDeferredValue(n)};Xe.useEffect=function(n,e){return Ln.current.useEffect(n,e)};Xe.useId=function(){return Ln.current.useId()};Xe.useImperativeHandle=function(n,e,t){return Ln.current.useImperativeHandle(n,e,t)};Xe.useInsertionEffect=function(n,e){return Ln.current.useInsertionEffect(n,e)};Xe.useLayoutEffect=function(n,e){return Ln.current.useLayoutEffect(n,e)};Xe.useMemo=function(n,e){return Ln.current.useMemo(n,e)};Xe.useReducer=function(n,e,t){return Ln.current.useReducer(n,e,t)};Xe.useRef=function(n){return Ln.current.useRef(n)};Xe.useState=function(n){return Ln.current.useState(n)};Xe.useSyncExternalStore=function(n,e,t){return Ln.current.useSyncExternalStore(n,e,t)};Xe.useTransition=function(){return Ln.current.useTransition()};Xe.version="18.3.1";UE.exports=Xe;var S=UE.exports;const ye=BE(S),Lb=$N({__proto__:null,default:ye},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI=S,cI=Symbol.for("react.element"),dI=Symbol.for("react.fragment"),uI=Object.prototype.hasOwnProperty,hI=lI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pI={key:!0,ref:!0,__self:!0,__source:!0};function XE(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)uI.call(e,i)&&!pI.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:cI,type:n,key:s,ref:a,props:r,_owner:hI.current}}ef.Fragment=dI;ef.jsx=XE;ef.jsxs=XE;zE.exports=ef;var d=zE.exports,JE={exports:{}},si={},QE={exports:{}},ZE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,M){var q=V.length;V.push(M);e:for(;0<q;){var X=q-1>>>1,ne=V[X];if(0<r(ne,M))V[X]=M,V[q]=ne,q=X;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var M=V[0],q=V.pop();if(q!==M){V[0]=q;e:for(var X=0,ne=V.length,Y=ne>>>1;X<Y;){var H=2*(X+1)-1,k=V[H],O=H+1,D=V[O];if(0>r(k,q))O<ne&&0>r(D,k)?(V[X]=D,V[O]=q,X=O):(V[X]=k,V[H]=q,X=H);else if(O<ne&&0>r(D,q))V[X]=D,V[O]=q,X=O;else break e}}return M}function r(V,M){var q=V.sortIndex-M.sortIndex;return q!==0?q:V.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var M=t(c);M!==null;){if(M.callback===null)i(c);else if(M.startTime<=V)i(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=t(c)}}function w(V){if(y=!1,b(V),!v)if(t(l)!==null)v=!0,U(T);else{var M=t(c);M!==null&&W(w,M.startTime-V)}}function T(V,M){v=!1,y&&(y=!1,g(C),C=-1),m=!0;var q=p;try{for(b(M),h=t(l);h!==null&&(!(h.expirationTime>M)||V&&!R());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var ne=X(h.expirationTime<=M);M=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(l)&&i(l),b(M)}else i(l);h=t(l)}if(h!==null)var Y=!0;else{var H=t(c);H!==null&&W(w,H.startTime-M),Y=!1}return Y}finally{h=null,p=q,m=!1}}var E=!1,_=null,C=-1,A=5,P=-1;function R(){return!(n.unstable_now()-P<A)}function G(){if(_!==null){var V=n.unstable_now();P=V;var M=!0;try{M=_(!0,V)}finally{M?I():(E=!1,_=null)}}else E=!1}var I;if(typeof f=="function")I=function(){f(G)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,z=j.port2;j.port1.onmessage=G,I=function(){z.postMessage(null)}}else I=function(){x(G,0)};function U(V){_=V,E||(E=!0,I())}function W(V,M){C=x(function(){V(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,U(T))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var q=p;p=M;try{return V()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,M){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=p;p=V;try{return M()}finally{p=q}},n.unstable_scheduleCallback=function(V,M,q){var X=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=q+ne,V={id:u++,callback:M,priorityLevel:V,startTime:q,expirationTime:ne,sortIndex:-1},q>X?(V.sortIndex=q,e(c,V),t(l)===null&&V===t(c)&&(y?(g(C),C=-1):y=!0,W(w,q-X))):(V.sortIndex=ne,e(l,V),v||m||(v=!0,U(T))),V},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(V){var M=p;return function(){var q=p;p=M;try{return V.apply(this,arguments)}finally{p=q}}}})(ZE);QE.exports=ZE;var mI=QE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=S,ii=mI;function fe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eC=new Set,Id={};function yo(n,e){Zl(n,e),Zl(n+"Capture",e)}function Zl(n,e){for(Id[n]=e,n=0;n<e.length;n++)eC.add(e[n])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cv=Object.prototype.hasOwnProperty,gI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uS={},hS={};function yI(n){return Cv.call(hS,n)?!0:Cv.call(uS,n)?!1:gI.test(n)?hS[n]=!0:(uS[n]=!0,!1)}function vI(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function xI(n,e,t,i){if(e===null||typeof e>"u"||vI(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fn[n]=new Nn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fn[e]=new Nn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fn[n]=new Nn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fn[n]=new Nn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fn[n]=new Nn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fn[n]=new Nn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fn[n]=new Nn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fn[n]=new Nn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fn[n]=new Nn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Nb=/[\-:]([a-z])/g;function Ib(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Nb,Ib);fn[e]=new Nn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Nb,Ib);fn[e]=new Nn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Nb,Ib);fn[e]=new Nn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fn[n]=new Nn(n,1,!1,n.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fn[n]=new Nn(n,1,!1,n.toLowerCase(),null,!0,!0)});function jb(n,e,t,i){var r=fn.hasOwnProperty(e)?fn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xI(e,t,r,i)&&(t=null),i||r===null?yI(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Kr=fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),ml=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),Db=Symbol.for("react.strict_mode"),Mv=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),nC=Symbol.for("react.context"),Ob=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Av=Symbol.for("react.suspense_list"),Fb=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),iC=Symbol.for("react.offscreen"),pS=Symbol.iterator;function Vc(n){return n===null||typeof n!="object"?null:(n=pS&&n[pS]||n["@@iterator"],typeof n=="function"?n:null)}var Ct=Object.assign,gg;function ud(n){if(gg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);gg=e&&e[1]||""}return`
`+gg+n}var yg=!1;function vg(n,e){if(!n||yg)return"";yg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{yg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ud(n):""}function bI(n){switch(n.tag){case 5:return ud(n.type);case 16:return ud("Lazy");case 13:return ud("Suspense");case 19:return ud("SuspenseList");case 0:case 2:case 15:return n=vg(n.type,!1),n;case 11:return n=vg(n.type.render,!1),n;case 1:return n=vg(n.type,!0),n;default:return""}}function Pv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case fl:return"Fragment";case ml:return"Portal";case Mv:return"Profiler";case Db:return"StrictMode";case kv:return"Suspense";case Av:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case nC:return(n.displayName||"Context")+".Consumer";case tC:return(n._context.displayName||"Context")+".Provider";case Ob:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Fb:return e=n.displayName||null,e!==null?e:Pv(n.type)||"Memo";case ms:e=n._payload,n=n._init;try{return Pv(n(e))}catch{}}return null}function wI(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pv(e);case 8:return e===Db?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rC(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SI(n){var e=rC(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sh(n){n._valueTracker||(n._valueTracker=SI(n))}function sC(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=rC(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function om(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Rv(n,e){var t=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function mS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Us(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aC(n,e){e=e.checked,e!=null&&jb(n,"checked",e,!1)}function Lv(n,e){aC(n,e);var t=Us(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Nv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Nv(n,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function fS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Nv(n,e,t){(e!=="number"||om(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var hd=Array.isArray;function Pl(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Us(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Iv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(fe(92));if(hd(t)){if(1<t.length)throw Error(fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Us(t)}}function oC(n,e){var t=Us(e.value),i=Us(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function yS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function lC(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?lC(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ah,cC=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function jd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_I=["Webkit","ms","Moz","O"];Object.keys(vd).forEach(function(n){_I.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),vd[e]=vd[n]})});function dC(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||vd.hasOwnProperty(n)&&vd[n]?(""+e).trim():e+"px"}function uC(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=dC(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var TI=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dv(n,e){if(e){if(TI[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Ov(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fv=null;function Bb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bv=null,Rl=null,Ll=null;function vS(n){if(n=Nu(n)){if(typeof Bv!="function")throw Error(fe(280));var e=n.stateNode;e&&(e=af(e),Bv(n.stateNode,n.type,e))}}function hC(n){Rl?Ll?Ll.push(n):Ll=[n]:Rl=n}function pC(){if(Rl){var n=Rl,e=Ll;if(Ll=Rl=null,vS(n),e)for(n=0;n<e.length;n++)vS(e[n])}}function mC(n,e){return n(e)}function fC(){}var xg=!1;function gC(n,e,t){if(xg)return n(e,t);xg=!0;try{return mC(n,e,t)}finally{xg=!1,(Rl!==null||Ll!==null)&&(fC(),pC())}}function Dd(n,e){var t=n.stateNode;if(t===null)return null;var i=af(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(fe(231,e,typeof t));return t}var zv=!1;if(Or)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){zv=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{zv=!1}function EI(n,e,t,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var xd=!1,lm=null,cm=!1,Uv=null,CI={onError:function(n){xd=!0,lm=n}};function MI(n,e,t,i,r,s,a,o,l){xd=!1,lm=null,EI.apply(CI,arguments)}function kI(n,e,t,i,r,s,a,o,l){if(MI.apply(this,arguments),xd){if(xd){var c=lm;xd=!1,lm=null}else throw Error(fe(198));cm||(cm=!0,Uv=c)}}function vo(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function yC(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function xS(n){if(vo(n)!==n)throw Error(fe(188))}function AI(n){var e=n.alternate;if(!e){if(e=vo(n),e===null)throw Error(fe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return xS(r),n;if(s===i)return xS(r),e;s=s.sibling}throw Error(fe(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(fe(189))}}if(t.alternate!==i)throw Error(fe(190))}if(t.tag!==3)throw Error(fe(188));return t.stateNode.current===t?n:e}function vC(n){return n=AI(n),n!==null?xC(n):null}function xC(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xC(n);if(e!==null)return e;n=n.sibling}return null}var bC=ii.unstable_scheduleCallback,bS=ii.unstable_cancelCallback,PI=ii.unstable_shouldYield,RI=ii.unstable_requestPaint,Dt=ii.unstable_now,LI=ii.unstable_getCurrentPriorityLevel,zb=ii.unstable_ImmediatePriority,wC=ii.unstable_UserBlockingPriority,dm=ii.unstable_NormalPriority,NI=ii.unstable_LowPriority,SC=ii.unstable_IdlePriority,tf=null,or=null;function II(n){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(tf,n,void 0,(n.current.flags&128)===128)}catch{}}var Bi=Math.clz32?Math.clz32:OI,jI=Math.log,DI=Math.LN2;function OI(n){return n>>>=0,n===0?32:31-(jI(n)/DI|0)|0}var oh=64,lh=4194304;function pd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function um(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=pd(o):(s&=a,s!==0&&(i=pd(s)))}else a=t&~r,a!==0?i=pd(a):s!==0&&(i=pd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Bi(e),r=1<<t,i|=n[t],e&=~r;return i}function FI(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BI(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Bi(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=FI(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function Gv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function _C(){var n=oh;return oh<<=1,!(oh&4194240)&&(oh=64),n}function bg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ru(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Bi(e),n[e]=t}function zI(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Bi(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Ub(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Bi(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var lt=0;function TC(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var EC,Gb,CC,MC,kC,Hv=!1,ch=[],ks=null,As=null,Ps=null,Od=new Map,Fd=new Map,ys=[],UI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wS(n,e){switch(n){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(e.pointerId)}}function $c(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Nu(e),e!==null&&Gb(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function GI(n,e,t,i,r){switch(e){case"focusin":return ks=$c(ks,n,e,t,i,r),!0;case"dragenter":return As=$c(As,n,e,t,i,r),!0;case"mouseover":return Ps=$c(Ps,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Od.set(s,$c(Od.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Fd.set(s,$c(Fd.get(s)||null,n,e,t,i,r)),!0}return!1}function AC(n){var e=Aa(n.target);if(e!==null){var t=vo(e);if(t!==null){if(e=t.tag,e===13){if(e=yC(t),e!==null){n.blockedOn=e,kC(n.priority,function(){CC(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Vv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Fv=i,t.target.dispatchEvent(i),Fv=null}else return e=Nu(t),e!==null&&Gb(e),n.blockedOn=t,!1;e.shift()}return!0}function SS(n,e,t){Vp(n)&&t.delete(e)}function HI(){Hv=!1,ks!==null&&Vp(ks)&&(ks=null),As!==null&&Vp(As)&&(As=null),Ps!==null&&Vp(Ps)&&(Ps=null),Od.forEach(SS),Fd.forEach(SS)}function qc(n,e){n.blockedOn===e&&(n.blockedOn=null,Hv||(Hv=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,HI)))}function Bd(n){function e(r){return qc(r,n)}if(0<ch.length){qc(ch[0],n);for(var t=1;t<ch.length;t++){var i=ch[t];i.blockedOn===n&&(i.blockedOn=null)}}for(ks!==null&&qc(ks,n),As!==null&&qc(As,n),Ps!==null&&qc(Ps,n),Od.forEach(e),Fd.forEach(e),t=0;t<ys.length;t++)i=ys[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ys.length&&(t=ys[0],t.blockedOn===null);)AC(t),t.blockedOn===null&&ys.shift()}var Nl=Kr.ReactCurrentBatchConfig,hm=!0;function VI(n,e,t,i){var r=lt,s=Nl.transition;Nl.transition=null;try{lt=1,Hb(n,e,t,i)}finally{lt=r,Nl.transition=s}}function WI(n,e,t,i){var r=lt,s=Nl.transition;Nl.transition=null;try{lt=4,Hb(n,e,t,i)}finally{lt=r,Nl.transition=s}}function Hb(n,e,t,i){if(hm){var r=Vv(n,e,t,i);if(r===null)Pg(n,e,i,pm,t),wS(n,i);else if(GI(r,n,e,t,i))i.stopPropagation();else if(wS(n,i),e&4&&-1<UI.indexOf(n)){for(;r!==null;){var s=Nu(r);if(s!==null&&EC(s),s=Vv(n,e,t,i),s===null&&Pg(n,e,i,pm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Pg(n,e,i,null,t)}}var pm=null;function Vv(n,e,t,i){if(pm=null,n=Bb(i),n=Aa(n),n!==null)if(e=vo(n),e===null)n=null;else if(t=e.tag,t===13){if(n=yC(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return pm=n,null}function PC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LI()){case zb:return 1;case wC:return 4;case dm:case NI:return 16;case SC:return 536870912;default:return 16}default:return 16}}var Es=null,Vb=null,Wp=null;function RC(){if(Wp)return Wp;var n,e=Vb,t=e.length,i,r="value"in Es?Es.value:Es.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return Wp=r.slice(n,1<i?1-i:void 0)}function $p(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function dh(){return!0}function _S(){return!1}function ai(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dh:_S,this.isPropagationStopped=_S,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var Cc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wb=ai(Cc),Lu=Ct({},Cc,{view:0,detail:0}),$I=ai(Lu),wg,Sg,Yc,nf=Ct({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yc&&(Yc&&n.type==="mousemove"?(wg=n.screenX-Yc.screenX,Sg=n.screenY-Yc.screenY):Sg=wg=0,Yc=n),wg)},movementY:function(n){return"movementY"in n?n.movementY:Sg}}),TS=ai(nf),qI=Ct({},nf,{dataTransfer:0}),YI=ai(qI),KI=Ct({},Lu,{relatedTarget:0}),_g=ai(KI),XI=Ct({},Cc,{animationName:0,elapsedTime:0,pseudoElement:0}),JI=ai(XI),QI=Ct({},Cc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ZI=ai(QI),e3=Ct({},Cc,{data:0}),ES=ai(e3),t3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r3(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=i3[n])?!!e[n]:!1}function $b(){return r3}var s3=Ct({},Lu,{key:function(n){if(n.key){var e=t3[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=$p(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?n3[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(n){return n.type==="keypress"?$p(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$p(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),a3=ai(s3),o3=Ct({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CS=ai(o3),l3=Ct({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),c3=ai(l3),d3=Ct({},Cc,{propertyName:0,elapsedTime:0,pseudoElement:0}),u3=ai(d3),h3=Ct({},nf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),p3=ai(h3),m3=[9,13,27,32],qb=Or&&"CompositionEvent"in window,bd=null;Or&&"documentMode"in document&&(bd=document.documentMode);var f3=Or&&"TextEvent"in window&&!bd,LC=Or&&(!qb||bd&&8<bd&&11>=bd),MS=" ",kS=!1;function NC(n,e){switch(n){case"keyup":return m3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gl=!1;function g3(n,e){switch(n){case"compositionend":return IC(e);case"keypress":return e.which!==32?null:(kS=!0,MS);case"textInput":return n=e.data,n===MS&&kS?null:n;default:return null}}function y3(n,e){if(gl)return n==="compositionend"||!qb&&NC(n,e)?(n=RC(),Wp=Vb=Es=null,gl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LC&&e.locale!=="ko"?null:e.data;default:return null}}var v3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!v3[n.type]:e==="textarea"}function jC(n,e,t,i){hC(i),e=mm(e,"onChange"),0<e.length&&(t=new Wb("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var wd=null,zd=null;function x3(n){$C(n,0)}function rf(n){var e=xl(n);if(sC(e))return n}function b3(n,e){if(n==="change")return e}var DC=!1;if(Or){var Tg;if(Or){var Eg="oninput"in document;if(!Eg){var PS=document.createElement("div");PS.setAttribute("oninput","return;"),Eg=typeof PS.oninput=="function"}Tg=Eg}else Tg=!1;DC=Tg&&(!document.documentMode||9<document.documentMode)}function RS(){wd&&(wd.detachEvent("onpropertychange",OC),zd=wd=null)}function OC(n){if(n.propertyName==="value"&&rf(zd)){var e=[];jC(e,zd,n,Bb(n)),gC(x3,e)}}function w3(n,e,t){n==="focusin"?(RS(),wd=e,zd=t,wd.attachEvent("onpropertychange",OC)):n==="focusout"&&RS()}function S3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rf(zd)}function _3(n,e){if(n==="click")return rf(e)}function T3(n,e){if(n==="input"||n==="change")return rf(e)}function E3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Gi=typeof Object.is=="function"?Object.is:E3;function Ud(n,e){if(Gi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Cv.call(e,r)||!Gi(n[r],e[r]))return!1}return!0}function LS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function NS(n,e){var t=LS(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=LS(t)}}function FC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?FC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function BC(){for(var n=window,e=om();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=om(n.document)}return e}function Yb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function C3(n){var e=BC(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&FC(t.ownerDocument.documentElement,t)){if(i!==null&&Yb(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=NS(t,s);var a=NS(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var M3=Or&&"documentMode"in document&&11>=document.documentMode,yl=null,Wv=null,Sd=null,$v=!1;function IS(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;$v||yl==null||yl!==om(i)||(i=yl,"selectionStart"in i&&Yb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sd&&Ud(Sd,i)||(Sd=i,i=mm(Wv,"onSelect"),0<i.length&&(e=new Wb("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=yl)))}function uh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var vl={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Cg={},zC={};Or&&(zC=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function sf(n){if(Cg[n])return Cg[n];if(!vl[n])return n;var e=vl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in zC)return Cg[n]=e[t];return n}var UC=sf("animationend"),GC=sf("animationiteration"),HC=sf("animationstart"),VC=sf("transitionend"),WC=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(n,e){WC.set(n,e),yo(e,[n])}for(var Mg=0;Mg<jS.length;Mg++){var kg=jS[Mg],k3=kg.toLowerCase(),A3=kg[0].toUpperCase()+kg.slice(1);Ks(k3,"on"+A3)}Ks(UC,"onAnimationEnd");Ks(GC,"onAnimationIteration");Ks(HC,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(VC,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P3=new Set("cancel close invalid load scroll toggle".split(" ").concat(md));function DS(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,kI(i,e,void 0,n),n.currentTarget=null}function $C(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;DS(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;DS(r,o,c),s=l}}}if(cm)throw n=Uv,cm=!1,Uv=null,n}function vt(n,e){var t=e[Jv];t===void 0&&(t=e[Jv]=new Set);var i=n+"__bubble";t.has(i)||(qC(e,n,2,!1),t.add(i))}function Ag(n,e,t){var i=0;e&&(i|=4),qC(t,n,i,e)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[hh]){n[hh]=!0,eC.forEach(function(t){t!=="selectionchange"&&(P3.has(t)||Ag(t,!1,n),Ag(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hh]||(e[hh]=!0,Ag("selectionchange",!1,e))}}function qC(n,e,t,i){switch(PC(e)){case 1:var r=VI;break;case 4:r=WI;break;default:r=Hb}t=r.bind(null,e,t,n),r=void 0,!zv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Pg(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Aa(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}gC(function(){var c=s,u=Bb(t),h=[];e:{var p=WC.get(n);if(p!==void 0){var m=Wb,v=n;switch(n){case"keypress":if($p(t)===0)break e;case"keydown":case"keyup":m=a3;break;case"focusin":v="focus",m=_g;break;case"focusout":v="blur",m=_g;break;case"beforeblur":case"afterblur":m=_g;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=TS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=c3;break;case UC:case GC:case HC:m=JI;break;case VC:m=u3;break;case"scroll":m=$I;break;case"wheel":m=p3;break;case"copy":case"cut":case"paste":m=ZI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=CS}var y=(e&4)!==0,x=!y&&n==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var f=c,b;f!==null;){b=f;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=Dd(f,g),w!=null&&y.push(Hd(f,w,b)))),x)break;f=f.return}0<y.length&&(p=new m(p,v,null,t,u),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Fv&&(v=t.relatedTarget||t.fromElement)&&(Aa(v)||v[Fr]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Aa(v):null,v!==null&&(x=vo(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=TS,w="onMouseLeave",g="onMouseEnter",f="mouse",(n==="pointerout"||n==="pointerover")&&(y=CS,w="onPointerLeave",g="onPointerEnter",f="pointer"),x=m==null?p:xl(m),b=v==null?p:xl(v),p=new y(w,f+"leave",m,t,u),p.target=x,p.relatedTarget=b,w=null,Aa(u)===c&&(y=new y(g,f+"enter",v,t,u),y.target=b,y.relatedTarget=x,w=y),x=w,m&&v)t:{for(y=m,g=v,f=0,b=y;b;b=No(b))f++;for(b=0,w=g;w;w=No(w))b++;for(;0<f-b;)y=No(y),f--;for(;0<b-f;)g=No(g),b--;for(;f--;){if(y===g||g!==null&&y===g.alternate)break t;y=No(y),g=No(g)}y=null}else y=null;m!==null&&OS(h,p,m,y,!1),v!==null&&x!==null&&OS(h,x,v,y,!0)}}e:{if(p=c?xl(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=b3;else if(AS(p))if(DC)T=T3;else{T=S3;var E=w3}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=_3);if(T&&(T=T(n,c))){jC(h,T,t,u);break e}E&&E(n,p,c),n==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Nv(p,"number",p.value)}switch(E=c?xl(c):window,n){case"focusin":(AS(E)||E.contentEditable==="true")&&(yl=E,Wv=c,Sd=null);break;case"focusout":Sd=Wv=yl=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,IS(h,t,u);break;case"selectionchange":if(M3)break;case"keydown":case"keyup":IS(h,t,u)}var _;if(qb)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gl?NC(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(LC&&t.locale!=="ko"&&(gl||C!=="onCompositionStart"?C==="onCompositionEnd"&&gl&&(_=RC()):(Es=u,Vb="value"in Es?Es.value:Es.textContent,gl=!0)),E=mm(c,C),0<E.length&&(C=new ES(C,n,null,t,u),h.push({event:C,listeners:E}),_?C.data=_:(_=IC(t),_!==null&&(C.data=_)))),(_=f3?g3(n,t):y3(n,t))&&(c=mm(c,"onBeforeInput"),0<c.length&&(u=new ES("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=_))}$C(h,e)})}function Hd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function mm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Dd(n,t),s!=null&&i.unshift(Hd(n,s,r)),s=Dd(n,e),s!=null&&i.push(Hd(n,s,r))),n=n.return}return i}function No(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function OS(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=Dd(t,s),l!=null&&a.unshift(Hd(t,l,o))):r||(l=Dd(t,s),l!=null&&a.push(Hd(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var R3=/\r\n?/g,L3=/\u0000|\uFFFD/g;function FS(n){return(typeof n=="string"?n:""+n).replace(R3,`
`).replace(L3,"")}function ph(n,e,t){if(e=FS(e),FS(n)!==e&&t)throw Error(fe(425))}function fm(){}var qv=null,Yv=null;function Kv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xv=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,BS=typeof Promise=="function"?Promise:void 0,I3=typeof queueMicrotask=="function"?queueMicrotask:typeof BS<"u"?function(n){return BS.resolve(null).then(n).catch(j3)}:Xv;function j3(n){setTimeout(function(){throw n})}function Rg(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Bd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Bd(e)}function Rs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function zS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mc=Math.random().toString(36).slice(2),nr="__reactFiber$"+Mc,Vd="__reactProps$"+Mc,Fr="__reactContainer$"+Mc,Jv="__reactEvents$"+Mc,D3="__reactListeners$"+Mc,O3="__reactHandles$"+Mc;function Aa(n){var e=n[nr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Fr]||t[nr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=zS(n);n!==null;){if(t=n[nr])return t;n=zS(n)}return e}n=t,t=n.parentNode}return null}function Nu(n){return n=n[nr]||n[Fr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(fe(33))}function af(n){return n[Vd]||null}var Qv=[],bl=-1;function Xs(n){return{current:n}}function bt(n){0>bl||(n.current=Qv[bl],Qv[bl]=null,bl--)}function mt(n,e){bl++,Qv[bl]=n.current,n.current=e}var Gs={},Tn=Xs(Gs),Bn=Xs(!1),Za=Gs;function ec(n,e){var t=n.type.contextTypes;if(!t)return Gs;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function zn(n){return n=n.childContextTypes,n!=null}function gm(){bt(Bn),bt(Tn)}function US(n,e,t){if(Tn.current!==Gs)throw Error(fe(168));mt(Tn,e),mt(Bn,t)}function YC(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(fe(108,wI(n)||"Unknown",r));return Ct({},t,i)}function ym(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gs,Za=Tn.current,mt(Tn,n),mt(Bn,Bn.current),!0}function GS(n,e,t){var i=n.stateNode;if(!i)throw Error(fe(169));t?(n=YC(n,e,Za),i.__reactInternalMemoizedMergedChildContext=n,bt(Bn),bt(Tn),mt(Tn,n)):bt(Bn),mt(Bn,t)}var Rr=null,of=!1,Lg=!1;function KC(n){Rr===null?Rr=[n]:Rr.push(n)}function F3(n){of=!0,KC(n)}function Js(){if(!Lg&&Rr!==null){Lg=!0;var n=0,e=lt;try{var t=Rr;for(lt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Rr=null,of=!1}catch(r){throw Rr!==null&&(Rr=Rr.slice(n+1)),bC(zb,Js),r}finally{lt=e,Lg=!1}}return null}var wl=[],Sl=0,vm=null,xm=0,di=[],ui=0,eo=null,Nr=1,Ir="";function Sa(n,e){wl[Sl++]=xm,wl[Sl++]=vm,vm=n,xm=e}function XC(n,e,t){di[ui++]=Nr,di[ui++]=Ir,di[ui++]=eo,eo=n;var i=Nr;n=Ir;var r=32-Bi(i)-1;i&=~(1<<r),t+=1;var s=32-Bi(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Nr=1<<32-Bi(e)+r|t<<r|i,Ir=s+n}else Nr=1<<s|t<<r|i,Ir=n}function Kb(n){n.return!==null&&(Sa(n,1),XC(n,1,0))}function Xb(n){for(;n===vm;)vm=wl[--Sl],wl[Sl]=null,xm=wl[--Sl],wl[Sl]=null;for(;n===eo;)eo=di[--ui],di[ui]=null,Ir=di[--ui],di[ui]=null,Nr=di[--ui],di[ui]=null}var ei=null,Zn=null,wt=!1,Oi=null;function JC(n,e){var t=hi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function HS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ei=n,Zn=Rs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ei=n,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=eo!==null?{id:Nr,overflow:Ir}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=hi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ei=n,Zn=null,!0):!1;default:return!1}}function Zv(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ex(n){if(wt){var e=Zn;if(e){var t=e;if(!HS(n,e)){if(Zv(n))throw Error(fe(418));e=Rs(t.nextSibling);var i=ei;e&&HS(n,e)?JC(i,t):(n.flags=n.flags&-4097|2,wt=!1,ei=n)}}else{if(Zv(n))throw Error(fe(418));n.flags=n.flags&-4097|2,wt=!1,ei=n}}}function VS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ei=n}function mh(n){if(n!==ei)return!1;if(!wt)return VS(n),wt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Kv(n.type,n.memoizedProps)),e&&(e=Zn)){if(Zv(n))throw QC(),Error(fe(418));for(;e;)JC(n,e),e=Rs(e.nextSibling)}if(VS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(fe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Zn=Rs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Zn=null}}else Zn=ei?Rs(n.stateNode.nextSibling):null;return!0}function QC(){for(var n=Zn;n;)n=Rs(n.nextSibling)}function tc(){Zn=ei=null,wt=!1}function Jb(n){Oi===null?Oi=[n]:Oi.push(n)}var B3=Kr.ReactCurrentBatchConfig;function Kc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(fe(309));var i=t.stateNode}if(!i)throw Error(fe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(fe(284));if(!t._owner)throw Error(fe(290,n))}return n}function fh(n,e){throw n=Object.prototype.toString.call(e),Error(fe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function WS(n){var e=n._init;return e(n._payload)}function ZC(n){function e(g,f){if(n){var b=g.deletions;b===null?(g.deletions=[f],g.flags|=16):b.push(f)}}function t(g,f){if(!n)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function i(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function r(g,f){return g=js(g,f),g.index=0,g.sibling=null,g}function s(g,f,b){return g.index=b,n?(b=g.alternate,b!==null?(b=b.index,b<f?(g.flags|=2,f):b):(g.flags|=2,f)):(g.flags|=1048576,f)}function a(g){return n&&g.alternate===null&&(g.flags|=2),g}function o(g,f,b,w){return f===null||f.tag!==6?(f=Bg(b,g.mode,w),f.return=g,f):(f=r(f,b),f.return=g,f)}function l(g,f,b,w){var T=b.type;return T===fl?u(g,f,b.props.children,w,b.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ms&&WS(T)===f.type)?(w=r(f,b.props),w.ref=Kc(g,f,b),w.return=g,w):(w=Zp(b.type,b.key,b.props,null,g.mode,w),w.ref=Kc(g,f,b),w.return=g,w)}function c(g,f,b,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==b.containerInfo||f.stateNode.implementation!==b.implementation?(f=zg(b,g.mode,w),f.return=g,f):(f=r(f,b.children||[]),f.return=g,f)}function u(g,f,b,w,T){return f===null||f.tag!==7?(f=Ha(b,g.mode,w,T),f.return=g,f):(f=r(f,b),f.return=g,f)}function h(g,f,b){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Bg(""+f,g.mode,b),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case rh:return b=Zp(f.type,f.key,f.props,null,g.mode,b),b.ref=Kc(g,null,f),b.return=g,b;case ml:return f=zg(f,g.mode,b),f.return=g,f;case ms:var w=f._init;return h(g,w(f._payload),b)}if(hd(f)||Vc(f))return f=Ha(f,g.mode,b,null),f.return=g,f;fh(g,f)}return null}function p(g,f,b,w){var T=f!==null?f.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:o(g,f,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rh:return b.key===T?l(g,f,b,w):null;case ml:return b.key===T?c(g,f,b,w):null;case ms:return T=b._init,p(g,f,T(b._payload),w)}if(hd(b)||Vc(b))return T!==null?null:u(g,f,b,w,null);fh(g,b)}return null}function m(g,f,b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,o(f,g,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:return g=g.get(w.key===null?b:w.key)||null,l(f,g,w,T);case ml:return g=g.get(w.key===null?b:w.key)||null,c(f,g,w,T);case ms:var E=w._init;return m(g,f,b,E(w._payload),T)}if(hd(w)||Vc(w))return g=g.get(b)||null,u(f,g,w,T,null);fh(f,w)}return null}function v(g,f,b,w){for(var T=null,E=null,_=f,C=f=0,A=null;_!==null&&C<b.length;C++){_.index>C?(A=_,_=null):A=_.sibling;var P=p(g,_,b[C],w);if(P===null){_===null&&(_=A);break}n&&_&&P.alternate===null&&e(g,_),f=s(P,f,C),E===null?T=P:E.sibling=P,E=P,_=A}if(C===b.length)return t(g,_),wt&&Sa(g,C),T;if(_===null){for(;C<b.length;C++)_=h(g,b[C],w),_!==null&&(f=s(_,f,C),E===null?T=_:E.sibling=_,E=_);return wt&&Sa(g,C),T}for(_=i(g,_);C<b.length;C++)A=m(_,g,C,b[C],w),A!==null&&(n&&A.alternate!==null&&_.delete(A.key===null?C:A.key),f=s(A,f,C),E===null?T=A:E.sibling=A,E=A);return n&&_.forEach(function(R){return e(g,R)}),wt&&Sa(g,C),T}function y(g,f,b,w){var T=Vc(b);if(typeof T!="function")throw Error(fe(150));if(b=T.call(b),b==null)throw Error(fe(151));for(var E=T=null,_=f,C=f=0,A=null,P=b.next();_!==null&&!P.done;C++,P=b.next()){_.index>C?(A=_,_=null):A=_.sibling;var R=p(g,_,P.value,w);if(R===null){_===null&&(_=A);break}n&&_&&R.alternate===null&&e(g,_),f=s(R,f,C),E===null?T=R:E.sibling=R,E=R,_=A}if(P.done)return t(g,_),wt&&Sa(g,C),T;if(_===null){for(;!P.done;C++,P=b.next())P=h(g,P.value,w),P!==null&&(f=s(P,f,C),E===null?T=P:E.sibling=P,E=P);return wt&&Sa(g,C),T}for(_=i(g,_);!P.done;C++,P=b.next())P=m(_,g,C,P.value,w),P!==null&&(n&&P.alternate!==null&&_.delete(P.key===null?C:P.key),f=s(P,f,C),E===null?T=P:E.sibling=P,E=P);return n&&_.forEach(function(G){return e(g,G)}),wt&&Sa(g,C),T}function x(g,f,b,w){if(typeof b=="object"&&b!==null&&b.type===fl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rh:e:{for(var T=b.key,E=f;E!==null;){if(E.key===T){if(T=b.type,T===fl){if(E.tag===7){t(g,E.sibling),f=r(E,b.props.children),f.return=g,g=f;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ms&&WS(T)===E.type){t(g,E.sibling),f=r(E,b.props),f.ref=Kc(g,E,b),f.return=g,g=f;break e}t(g,E);break}else e(g,E);E=E.sibling}b.type===fl?(f=Ha(b.props.children,g.mode,w,b.key),f.return=g,g=f):(w=Zp(b.type,b.key,b.props,null,g.mode,w),w.ref=Kc(g,f,b),w.return=g,g=w)}return a(g);case ml:e:{for(E=b.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===b.containerInfo&&f.stateNode.implementation===b.implementation){t(g,f.sibling),f=r(f,b.children||[]),f.return=g,g=f;break e}else{t(g,f);break}else e(g,f);f=f.sibling}f=zg(b,g.mode,w),f.return=g,g=f}return a(g);case ms:return E=b._init,x(g,f,E(b._payload),w)}if(hd(b))return v(g,f,b,w);if(Vc(b))return y(g,f,b,w);fh(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,f!==null&&f.tag===6?(t(g,f.sibling),f=r(f,b),f.return=g,g=f):(t(g,f),f=Bg(b,g.mode,w),f.return=g,g=f),a(g)):t(g,f)}return x}var nc=ZC(!0),eM=ZC(!1),bm=Xs(null),wm=null,_l=null,Qb=null;function Zb(){Qb=_l=wm=null}function ew(n){var e=bm.current;bt(bm),n._currentValue=e}function tx(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Il(n,e){wm=n,Qb=_l=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Fn=!0),n.firstContext=null)}function mi(n){var e=n._currentValue;if(Qb!==n)if(n={context:n,memoizedValue:e,next:null},_l===null){if(wm===null)throw Error(fe(308));_l=n,wm.dependencies={lanes:0,firstContext:n}}else _l=_l.next=n;return e}var Pa=null;function tw(n){Pa===null?Pa=[n]:Pa.push(n)}function tM(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,tw(e)):(t.next=r.next,r.next=t),e.interleaved=t,Br(n,i)}function Br(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var fs=!1;function nw(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nM(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function jr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,tt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Br(n,t)}return r=i.interleaved,r===null?(e.next=e,tw(i)):(e.next=r.next,r.next=e),i.interleaved=e,Br(n,t)}function qp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ub(n,t)}}function $S(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Sm(n,e,t,i){var r=n.updateQueue;fs=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;a=0,u=c=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=n,y=o;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Ct({},h,p);break e;case 2:fs=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,a|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);no|=a,n.lanes=a,n.memoizedState=h}}function qS(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(fe(191,r));r.call(i)}}}var Iu={},lr=Xs(Iu),Wd=Xs(Iu),$d=Xs(Iu);function Ra(n){if(n===Iu)throw Error(fe(174));return n}function iw(n,e){switch(mt($d,e),mt(Wd,n),mt(lr,Iu),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=jv(e,n)}bt(lr),mt(lr,e)}function ic(){bt(lr),bt(Wd),bt($d)}function iM(n){Ra($d.current);var e=Ra(lr.current),t=jv(e,n.type);e!==t&&(mt(Wd,n),mt(lr,t))}function rw(n){Wd.current===n&&(bt(lr),bt(Wd))}var _t=Xs(0);function _m(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function sw(){for(var n=0;n<Ng.length;n++)Ng[n]._workInProgressVersionPrimary=null;Ng.length=0}var Yp=Kr.ReactCurrentDispatcher,Ig=Kr.ReactCurrentBatchConfig,to=0,Et=null,$t=null,Qt=null,Tm=!1,_d=!1,qd=0,z3=0;function xn(){throw Error(fe(321))}function aw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Gi(n[t],e[t]))return!1;return!0}function ow(n,e,t,i,r,s){if(to=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yp.current=n===null||n.memoizedState===null?V3:W3,n=t(i,r),_d){s=0;do{if(_d=!1,qd=0,25<=s)throw Error(fe(301));s+=1,Qt=$t=null,e.updateQueue=null,Yp.current=$3,n=t(i,r)}while(_d)}if(Yp.current=Em,e=$t!==null&&$t.next!==null,to=0,Qt=$t=Et=null,Tm=!1,e)throw Error(fe(300));return n}function lw(){var n=qd!==0;return qd=0,n}function Xi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Et.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function fi(){if($t===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=$t.next;var e=Qt===null?Et.memoizedState:Qt.next;if(e!==null)Qt=e,$t=n;else{if(n===null)throw Error(fe(310));$t=n,n={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Qt===null?Et.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function Yd(n,e){return typeof e=="function"?e(n):e}function jg(n){var e=fi(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=$t,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((to&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=i):l=l.next=h,Et.lanes|=u,no|=u}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,Gi(i,e.memoizedState)||(Fn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Et.lanes|=s,no|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Dg(n){var e=fi(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);Gi(s,e.memoizedState)||(Fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function rM(){}function sM(n,e){var t=Et,i=fi(),r=e(),s=!Gi(i.memoizedState,r);if(s&&(i.memoizedState=r,Fn=!0),i=i.queue,cw(lM.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(t.flags|=2048,Kd(9,oM.bind(null,t,i,r,e),void 0,null),tn===null)throw Error(fe(349));to&30||aM(t,e,r)}return r}function aM(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function oM(n,e,t,i){e.value=t,e.getSnapshot=i,cM(e)&&dM(n)}function lM(n,e,t){return t(function(){cM(e)&&dM(n)})}function cM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Gi(n,t)}catch{return!0}}function dM(n){var e=Br(n,1);e!==null&&zi(e,n,1,-1)}function YS(n){var e=Xi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:n},e.queue=n,n=n.dispatch=H3.bind(null,Et,n),[e.memoizedState,n]}function Kd(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function uM(){return fi().memoizedState}function Kp(n,e,t,i){var r=Xi();Et.flags|=n,r.memoizedState=Kd(1|e,t,void 0,i===void 0?null:i)}function lf(n,e,t,i){var r=fi();i=i===void 0?null:i;var s=void 0;if($t!==null){var a=$t.memoizedState;if(s=a.destroy,i!==null&&aw(i,a.deps)){r.memoizedState=Kd(e,t,s,i);return}}Et.flags|=n,r.memoizedState=Kd(1|e,t,s,i)}function KS(n,e){return Kp(8390656,8,n,e)}function cw(n,e){return lf(2048,8,n,e)}function hM(n,e){return lf(4,2,n,e)}function pM(n,e){return lf(4,4,n,e)}function mM(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function fM(n,e,t){return t=t!=null?t.concat([n]):null,lf(4,4,mM.bind(null,e,n),t)}function dw(){}function gM(n,e){var t=fi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&aw(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function yM(n,e){var t=fi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&aw(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function vM(n,e,t){return to&21?(Gi(t,e)||(t=_C(),Et.lanes|=t,no|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Fn=!0),n.memoizedState=t)}function U3(n,e){var t=lt;lt=t!==0&&4>t?t:4,n(!0);var i=Ig.transition;Ig.transition={};try{n(!1),e()}finally{lt=t,Ig.transition=i}}function xM(){return fi().memoizedState}function G3(n,e,t){var i=Is(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},bM(n))wM(e,t);else if(t=tM(n,e,t,i),t!==null){var r=Pn();zi(t,n,i,r),SM(t,e,i)}}function H3(n,e,t){var i=Is(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(bM(n))wM(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,Gi(o,a)){var l=e.interleaved;l===null?(r.next=r,tw(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=tM(n,e,r,i),t!==null&&(r=Pn(),zi(t,n,i,r),SM(t,e,i))}}function bM(n){var e=n.alternate;return n===Et||e!==null&&e===Et}function wM(n,e){_d=Tm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function SM(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ub(n,t)}}var Em={readContext:mi,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},V3={readContext:mi,useCallback:function(n,e){return Xi().memoizedState=[n,e===void 0?null:e],n},useContext:mi,useEffect:KS,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Kp(4194308,4,mM.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Kp(4194308,4,n,e)},useInsertionEffect:function(n,e){return Kp(4,2,n,e)},useMemo:function(n,e){var t=Xi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Xi();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=G3.bind(null,Et,n),[i.memoizedState,n]},useRef:function(n){var e=Xi();return n={current:n},e.memoizedState=n},useState:YS,useDebugValue:dw,useDeferredValue:function(n){return Xi().memoizedState=n},useTransition:function(){var n=YS(!1),e=n[0];return n=U3.bind(null,n[1]),Xi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Et,r=Xi();if(wt){if(t===void 0)throw Error(fe(407));t=t()}else{if(t=e(),tn===null)throw Error(fe(349));to&30||aM(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,KS(lM.bind(null,i,s,n),[n]),i.flags|=2048,Kd(9,oM.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Xi(),e=tn.identifierPrefix;if(wt){var t=Ir,i=Nr;t=(i&~(1<<32-Bi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=qd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=z3++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},W3={readContext:mi,useCallback:gM,useContext:mi,useEffect:cw,useImperativeHandle:fM,useInsertionEffect:hM,useLayoutEffect:pM,useMemo:yM,useReducer:jg,useRef:uM,useState:function(){return jg(Yd)},useDebugValue:dw,useDeferredValue:function(n){var e=fi();return vM(e,$t.memoizedState,n)},useTransition:function(){var n=jg(Yd)[0],e=fi().memoizedState;return[n,e]},useMutableSource:rM,useSyncExternalStore:sM,useId:xM,unstable_isNewReconciler:!1},$3={readContext:mi,useCallback:gM,useContext:mi,useEffect:cw,useImperativeHandle:fM,useInsertionEffect:hM,useLayoutEffect:pM,useMemo:yM,useReducer:Dg,useRef:uM,useState:function(){return Dg(Yd)},useDebugValue:dw,useDeferredValue:function(n){var e=fi();return $t===null?e.memoizedState=n:vM(e,$t.memoizedState,n)},useTransition:function(){var n=Dg(Yd)[0],e=fi().memoizedState;return[n,e]},useMutableSource:rM,useSyncExternalStore:sM,useId:xM,unstable_isNewReconciler:!1};function Pi(n,e){if(n&&n.defaultProps){e=Ct({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function nx(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ct({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cf={isMounted:function(n){return(n=n._reactInternals)?vo(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Pn(),r=Is(n),s=jr(i,r);s.payload=e,t!=null&&(s.callback=t),e=Ls(n,s,r),e!==null&&(zi(e,n,r,i),qp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Pn(),r=Is(n),s=jr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ls(n,s,r),e!==null&&(zi(e,n,r,i),qp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Pn(),i=Is(n),r=jr(t,i);r.tag=2,e!=null&&(r.callback=e),e=Ls(n,r,i),e!==null&&(zi(e,n,i,t),qp(e,n,i))}};function XS(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ud(t,i)||!Ud(r,s):!0}function _M(n,e,t){var i=!1,r=Gs,s=e.contextType;return typeof s=="object"&&s!==null?s=mi(s):(r=zn(e)?Za:Tn.current,i=e.contextTypes,s=(i=i!=null)?ec(n,r):Gs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cf,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function JS(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&cf.enqueueReplaceState(e,e.state,null)}function ix(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},nw(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=mi(s):(s=zn(e)?Za:Tn.current,r.context=ec(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nx(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&cf.enqueueReplaceState(r,r.state,null),Sm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function rc(n,e){try{var t="",i=e;do t+=bI(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Og(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function rx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var q3=typeof WeakMap=="function"?WeakMap:Map;function TM(n,e,t){t=jr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Mm||(Mm=!0,mx=i),rx(n,e)},t}function EM(n,e,t){t=jr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){rx(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){rx(n,e),typeof i!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function QS(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new q3;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=oj.bind(null,n,e,t),e.then(n,n))}function ZS(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function e_(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=jr(-1,1),e.tag=2,Ls(t,e,1))),t.lanes|=1),n)}var Y3=Kr.ReactCurrentOwner,Fn=!1;function kn(n,e,t,i){e.child=n===null?eM(e,null,t,i):nc(e,n.child,t,i)}function t_(n,e,t,i,r){t=t.render;var s=e.ref;return Il(e,r),i=ow(n,e,t,i,s,r),t=lw(),n!==null&&!Fn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,zr(n,e,r)):(wt&&t&&Kb(e),e.flags|=1,kn(n,e,i,r),e.child)}function n_(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!vw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,CM(n,e,s,i,r)):(n=Zp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ud,t(a,i)&&n.ref===e.ref)return zr(n,e,r)}return e.flags|=1,n=js(s,i),n.ref=e.ref,n.return=e,e.child=n}function CM(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Ud(s,i)&&n.ref===e.ref)if(Fn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Fn=!0);else return e.lanes=n.lanes,zr(n,e,r)}return sx(n,e,t,i,r)}function MM(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(El,Xn),Xn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,mt(El,Xn),Xn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,mt(El,Xn),Xn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,mt(El,Xn),Xn|=i;return kn(n,e,r,t),e.child}function kM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function sx(n,e,t,i,r){var s=zn(t)?Za:Tn.current;return s=ec(e,s),Il(e,r),t=ow(n,e,t,i,s,r),i=lw(),n!==null&&!Fn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,zr(n,e,r)):(wt&&i&&Kb(e),e.flags|=1,kn(n,e,t,r),e.child)}function i_(n,e,t,i,r){if(zn(t)){var s=!0;ym(e)}else s=!1;if(Il(e,r),e.stateNode===null)Xp(n,e),_M(e,t,i),ix(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=mi(c):(c=zn(t)?Za:Tn.current,c=ec(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&JS(e,a,i,c),fs=!1;var p=e.memoizedState;a.state=p,Sm(e,i,a,r),l=e.memoizedState,o!==i||p!==l||Bn.current||fs?(typeof u=="function"&&(nx(e,t,u,i),l=e.memoizedState),(o=fs||XS(e,t,o,i,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,nM(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:Pi(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=mi(l):(l=zn(t)?Za:Tn.current,l=ec(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&JS(e,a,i,l),fs=!1,p=e.memoizedState,a.state=p,Sm(e,i,a,r);var v=e.memoizedState;o!==h||p!==v||Bn.current||fs?(typeof m=="function"&&(nx(e,t,m,i),v=e.memoizedState),(c=fs||XS(e,t,c,i,p,v,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),a.props=i,a.state=v,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return ax(n,e,t,i,s,r)}function ax(n,e,t,i,r,s){kM(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&GS(e,t,!1),zr(n,e,s);i=e.stateNode,Y3.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=nc(e,n.child,null,s),e.child=nc(e,null,o,s)):kn(n,e,o,s),e.memoizedState=i.state,r&&GS(e,t,!0),e.child}function AM(n){var e=n.stateNode;e.pendingContext?US(n,e.pendingContext,e.pendingContext!==e.context):e.context&&US(n,e.context,!1),iw(n,e.containerInfo)}function r_(n,e,t,i,r){return tc(),Jb(r),e.flags|=256,kn(n,e,t,i),e.child}var ox={dehydrated:null,treeContext:null,retryLane:0};function lx(n){return{baseLanes:n,cachePool:null,transitions:null}}function PM(n,e,t){var i=e.pendingProps,r=_t.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),mt(_t,r&1),n===null)return ex(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=hf(a,i,0,null),n=Ha(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=lx(t),e.memoizedState=ox,n):uw(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return K3(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=js(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=js(o,s):(s=Ha(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?lx(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=ox,i}return s=n.child,n=s.sibling,i=js(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function uw(n,e){return e=hf({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gh(n,e,t,i){return i!==null&&Jb(i),nc(e,n.child,null,t),n=uw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function K3(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=Og(Error(fe(422))),gh(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=hf({mode:"visible",children:i.children},r,0,null),s=Ha(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&nc(e,n.child,null,a),e.child.memoizedState=lx(a),e.memoizedState=ox,s);if(!(e.mode&1))return gh(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(fe(419)),i=Og(s,i,void 0),gh(n,e,a,i)}if(o=(a&n.childLanes)!==0,Fn||o){if(i=tn,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Br(n,r),zi(i,n,r,-1))}return yw(),i=Og(Error(fe(421))),gh(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=lj.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Zn=Rs(r.nextSibling),ei=e,wt=!0,Oi=null,n!==null&&(di[ui++]=Nr,di[ui++]=Ir,di[ui++]=eo,Nr=n.id,Ir=n.overflow,eo=e),e=uw(e,i.children),e.flags|=4096,e)}function s_(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),tx(n.return,e,t)}function Fg(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function RM(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(kn(n,e,i.children,t),i=_t.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&s_(n,t,e);else if(n.tag===19)s_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(mt(_t,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&_m(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Fg(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&_m(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Fg(e,!0,t,null,s);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function zr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),no|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(fe(153));if(e.child!==null){for(n=e.child,t=js(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=js(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function X3(n,e,t){switch(e.tag){case 3:AM(e),tc();break;case 5:iM(e);break;case 1:zn(e.type)&&ym(e);break;case 4:iw(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;mt(bm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(mt(_t,_t.current&1),e.flags|=128,null):t&e.child.childLanes?PM(n,e,t):(mt(_t,_t.current&1),n=zr(n,e,t),n!==null?n.sibling:null);mt(_t,_t.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return RM(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),mt(_t,_t.current),i)break;return null;case 22:case 23:return e.lanes=0,MM(n,e,t)}return zr(n,e,t)}var LM,cx,NM,IM;LM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};cx=function(){};NM=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ra(lr.current);var s=null;switch(t){case"input":r=Rv(n,r),i=Rv(n,i),s=[];break;case"select":r=Ct({},r,{value:void 0}),i=Ct({},i,{value:void 0}),s=[];break;case"textarea":r=Iv(n,r),i=Iv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=fm)}Dv(t,i);var a;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Id.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Id.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",n),s||o===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};IM=function(n,e,t,i){t!==i&&(e.flags|=4)};function Xc(n,e){if(!wt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function bn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function J3(n,e,t){var i=e.pendingProps;switch(Xb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return zn(e.type)&&gm(),bn(e),null;case 3:return i=e.stateNode,ic(),bt(Bn),bt(Tn),sw(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(mh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oi!==null&&(yx(Oi),Oi=null))),cx(n,e),bn(e),null;case 5:rw(e);var r=Ra($d.current);if(t=e.type,n!==null&&e.stateNode!=null)NM(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(fe(166));return bn(e),null}if(n=Ra(lr.current),mh(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[nr]=e,i[Vd]=s,n=(e.mode&1)!==0,t){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(r=0;r<md.length;r++)vt(md[r],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":mS(i,s),vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},vt("invalid",i);break;case"textarea":gS(i,s),vt("invalid",i)}Dv(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&ph(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ph(i.textContent,o,n),r=["children",""+o]):Id.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&vt("scroll",i)}switch(t){case"input":sh(i),fS(i,s,!0);break;case"textarea":sh(i),yS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=fm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lC(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[nr]=e,n[Vd]=i,LM(n,e,!1,!1),e.stateNode=n;e:{switch(a=Ov(t,i),t){case"dialog":vt("cancel",n),vt("close",n),r=i;break;case"iframe":case"object":case"embed":vt("load",n),r=i;break;case"video":case"audio":for(r=0;r<md.length;r++)vt(md[r],n);r=i;break;case"source":vt("error",n),r=i;break;case"img":case"image":case"link":vt("error",n),vt("load",n),r=i;break;case"details":vt("toggle",n),r=i;break;case"input":mS(n,i),r=Rv(n,i),vt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Ct({},i,{value:void 0}),vt("invalid",n);break;case"textarea":gS(n,i),r=Iv(n,i),vt("invalid",n);break;default:r=i}Dv(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?uC(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cC(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&jd(n,l):typeof l=="number"&&jd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Id.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",n):l!=null&&jb(n,s,l,a))}switch(t){case"input":sh(n),fS(n,i,!1);break;case"textarea":sh(n),yS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Us(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Pl(n,!!i.multiple,s,!1):i.defaultValue!=null&&Pl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=fm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(n&&e.stateNode!=null)IM(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(fe(166));if(t=Ra($d.current),Ra(lr.current),mh(e)){if(i=e.stateNode,t=e.memoizedProps,i[nr]=e,(s=i.nodeValue!==t)&&(n=ei,n!==null))switch(n.tag){case 3:ph(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ph(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[nr]=e,e.stateNode=i}return bn(e),null;case 13:if(bt(_t),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(wt&&Zn!==null&&e.mode&1&&!(e.flags&128))QC(),tc(),e.flags|=98560,s=!1;else if(s=mh(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[nr]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else Oi!==null&&(yx(Oi),Oi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||_t.current&1?qt===0&&(qt=3):yw())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return ic(),cx(n,e),n===null&&Gd(e.stateNode.containerInfo),bn(e),null;case 10:return ew(e.type._context),bn(e),null;case 17:return zn(e.type)&&gm(),bn(e),null;case 19:if(bt(_t),s=e.memoizedState,s===null)return bn(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Xc(s,!1);else{if(qt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=_m(n),a!==null){for(e.flags|=128,Xc(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return mt(_t,_t.current&1|2),e.child}n=n.sibling}s.tail!==null&&Dt()>sc&&(e.flags|=128,i=!0,Xc(s,!1),e.lanes=4194304)}else{if(!i)if(n=_m(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Xc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!wt)return bn(e),null}else 2*Dt()-s.renderingStartTime>sc&&t!==1073741824&&(e.flags|=128,i=!0,Xc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dt(),e.sibling=null,t=_t.current,mt(_t,i?t&1|2:t&1),e):(bn(e),null);case 22:case 23:return gw(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xn&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function Q3(n,e){switch(Xb(e),e.tag){case 1:return zn(e.type)&&gm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return ic(),bt(Bn),bt(Tn),sw(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return rw(e),null;case 13:if(bt(_t),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));tc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return bt(_t),null;case 4:return ic(),null;case 10:return ew(e.type._context),null;case 22:case 23:return gw(),null;case 24:return null;default:return null}}var yh=!1,_n=!1,Z3=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Tl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Lt(n,e,i)}else t.current=null}function dx(n,e,t){try{t()}catch(i){Lt(n,e,i)}}var a_=!1;function ej(n,e){if(qv=hm,n=BC(),Yb(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(o=a+r),h!==s||i!==0&&h.nodeType!==3||(l=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===r&&(o=a),p===s&&++u===i&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Yv={focusedElem:n,selectionRange:t},hm=!1,Te=e;Te!==null;)if(e=Te,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Te=n;else for(;Te!==null;){e=Te;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pi(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){Lt(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}return v=a_,a_=!1,v}function Td(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&dx(e,t,s)}r=r.next}while(r!==i)}}function df(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function ux(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function jM(n){var e=n.alternate;e!==null&&(n.alternate=null,jM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[nr],delete e[Vd],delete e[Jv],delete e[D3],delete e[O3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function DM(n){return n.tag===5||n.tag===3||n.tag===4}function o_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||DM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=fm));else if(i!==4&&(n=n.child,n!==null))for(hx(n,e,t),n=n.sibling;n!==null;)hx(n,e,t),n=n.sibling}function px(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(px(n,e,t),n=n.sibling;n!==null;)px(n,e,t),n=n.sibling}var cn=null,ji=!1;function ts(n,e,t){for(t=t.child;t!==null;)OM(n,e,t),t=t.sibling}function OM(n,e,t){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(tf,t)}catch{}switch(t.tag){case 5:_n||Tl(t,e);case 6:var i=cn,r=ji;cn=null,ts(n,e,t),cn=i,ji=r,cn!==null&&(ji?(n=cn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):cn.removeChild(t.stateNode));break;case 18:cn!==null&&(ji?(n=cn,t=t.stateNode,n.nodeType===8?Rg(n.parentNode,t):n.nodeType===1&&Rg(n,t),Bd(n)):Rg(cn,t.stateNode));break;case 4:i=cn,r=ji,cn=t.stateNode.containerInfo,ji=!0,ts(n,e,t),cn=i,ji=r;break;case 0:case 11:case 14:case 15:if(!_n&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dx(t,e,a),r=r.next}while(r!==i)}ts(n,e,t);break;case 1:if(!_n&&(Tl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){Lt(t,e,o)}ts(n,e,t);break;case 21:ts(n,e,t);break;case 22:t.mode&1?(_n=(i=_n)||t.memoizedState!==null,ts(n,e,t),_n=i):ts(n,e,t);break;default:ts(n,e,t)}}function l_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Z3),e.forEach(function(i){var r=cj.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function _i(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:cn=o.stateNode,ji=!1;break e;case 3:cn=o.stateNode.containerInfo,ji=!0;break e;case 4:cn=o.stateNode.containerInfo,ji=!0;break e}o=o.return}if(cn===null)throw Error(fe(160));OM(s,a,r),cn=null,ji=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Lt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FM(e,n),e=e.sibling}function FM(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_i(e,n),Ki(n),i&4){try{Td(3,n,n.return),df(3,n)}catch(y){Lt(n,n.return,y)}try{Td(5,n,n.return)}catch(y){Lt(n,n.return,y)}}break;case 1:_i(e,n),Ki(n),i&512&&t!==null&&Tl(t,t.return);break;case 5:if(_i(e,n),Ki(n),i&512&&t!==null&&Tl(t,t.return),n.flags&32){var r=n.stateNode;try{jd(r,"")}catch(y){Lt(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&aC(r,s),Ov(o,a);var c=Ov(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?uC(r,h):u==="dangerouslySetInnerHTML"?cC(r,h):u==="children"?jd(r,h):jb(r,u,h,c)}switch(o){case"input":Lv(r,s);break;case"textarea":oC(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Pl(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Pl(r,!!s.multiple,s.defaultValue,!0):Pl(r,!!s.multiple,s.multiple?[]:"",!1))}r[Vd]=s}catch(y){Lt(n,n.return,y)}}break;case 6:if(_i(e,n),Ki(n),i&4){if(n.stateNode===null)throw Error(fe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){Lt(n,n.return,y)}}break;case 3:if(_i(e,n),Ki(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Bd(e.containerInfo)}catch(y){Lt(n,n.return,y)}break;case 4:_i(e,n),Ki(n);break;case 13:_i(e,n),Ki(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(mw=Dt())),i&4&&l_(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(_n=(c=_n)||u,_i(e,n),_n=c):_i(e,n),Ki(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Te=n,u=n.child;u!==null;){for(h=Te=u;Te!==null;){switch(p=Te,m=p.child,p.tag){case 0:case 11:case 14:case 15:Td(4,p,p.return);break;case 1:Tl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Lt(i,t,y)}}break;case 5:Tl(p,p.return);break;case 22:if(p.memoizedState!==null){d_(h);continue}}m!==null?(m.return=p,Te=m):d_(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=dC("display",a))}catch(y){Lt(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Lt(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_i(e,n),Ki(n),i&4&&l_(n);break;case 21:break;default:_i(e,n),Ki(n)}}function Ki(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(DM(t)){var i=t;break e}t=t.return}throw Error(fe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(jd(r,""),i.flags&=-33);var s=o_(n);px(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=o_(n);hx(n,o,a);break;default:throw Error(fe(161))}}catch(l){Lt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function tj(n,e,t){Te=n,BM(n)}function BM(n,e,t){for(var i=(n.mode&1)!==0;Te!==null;){var r=Te,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||yh;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||_n;o=yh;var c=_n;if(yh=a,(_n=l)&&!c)for(Te=r;Te!==null;)a=Te,l=a.child,a.tag===22&&a.memoizedState!==null?u_(r):l!==null?(l.return=a,Te=l):u_(r);for(;s!==null;)Te=s,BM(s),s=s.sibling;Te=r,yh=o,_n=c}c_(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Te=s):c_(n)}}function c_(n){for(;Te!==null;){var e=Te;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||df(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_n)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Pi(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qS(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qS(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Bd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}_n||e.flags&512&&ux(e)}catch(p){Lt(e,e.return,p)}}if(e===n){Te=null;break}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}}function d_(n){for(;Te!==null;){var e=Te;if(e===n){Te=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Te=t;break}Te=e.return}}function u_(n){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{df(4,e)}catch(l){Lt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Lt(e,r,l)}}var s=e.return;try{ux(e)}catch(l){Lt(e,s,l)}break;case 5:var a=e.return;try{ux(e)}catch(l){Lt(e,a,l)}}}catch(l){Lt(e,e.return,l)}if(e===n){Te=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Te=o;break}Te=e.return}}var nj=Math.ceil,Cm=Kr.ReactCurrentDispatcher,hw=Kr.ReactCurrentOwner,pi=Kr.ReactCurrentBatchConfig,tt=0,tn=null,Ut=null,hn=0,Xn=0,El=Xs(0),qt=0,Xd=null,no=0,uf=0,pw=0,Ed=null,On=null,mw=0,sc=1/0,Ar=null,Mm=!1,mx=null,Ns=null,vh=!1,Cs=null,km=0,Cd=0,fx=null,Jp=-1,Qp=0;function Pn(){return tt&6?Dt():Jp!==-1?Jp:Jp=Dt()}function Is(n){return n.mode&1?tt&2&&hn!==0?hn&-hn:B3.transition!==null?(Qp===0&&(Qp=_C()),Qp):(n=lt,n!==0||(n=window.event,n=n===void 0?16:PC(n.type)),n):1}function zi(n,e,t,i){if(50<Cd)throw Cd=0,fx=null,Error(fe(185));Ru(n,t,i),(!(tt&2)||n!==tn)&&(n===tn&&(!(tt&2)&&(uf|=t),qt===4&&vs(n,hn)),Un(n,i),t===1&&tt===0&&!(e.mode&1)&&(sc=Dt()+500,of&&Js()))}function Un(n,e){var t=n.callbackNode;BI(n,e);var i=um(n,n===tn?hn:0);if(i===0)t!==null&&bS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&bS(t),e===1)n.tag===0?F3(h_.bind(null,n)):KC(h_.bind(null,n)),I3(function(){!(tt&6)&&Js()}),t=null;else{switch(TC(i)){case 1:t=zb;break;case 4:t=wC;break;case 16:t=dm;break;case 536870912:t=SC;break;default:t=dm}t=qM(t,zM.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zM(n,e){if(Jp=-1,Qp=0,tt&6)throw Error(fe(327));var t=n.callbackNode;if(jl()&&n.callbackNode!==t)return null;var i=um(n,n===tn?hn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Am(n,i);else{e=i;var r=tt;tt|=2;var s=GM();(tn!==n||hn!==e)&&(Ar=null,sc=Dt()+500,Ga(n,e));do try{sj();break}catch(o){UM(n,o)}while(!0);Zb(),Cm.current=s,tt=r,Ut!==null?e=0:(tn=null,hn=0,e=qt)}if(e!==0){if(e===2&&(r=Gv(n),r!==0&&(i=r,e=gx(n,r))),e===1)throw t=Xd,Ga(n,0),vs(n,i),Un(n,Dt()),t;if(e===6)vs(n,i);else{if(r=n.current.alternate,!(i&30)&&!ij(r)&&(e=Am(n,i),e===2&&(s=Gv(n),s!==0&&(i=s,e=gx(n,s))),e===1))throw t=Xd,Ga(n,0),vs(n,i),Un(n,Dt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(fe(345));case 2:_a(n,On,Ar);break;case 3:if(vs(n,i),(i&130023424)===i&&(e=mw+500-Dt(),10<e)){if(um(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Pn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Xv(_a.bind(null,n,On,Ar),e);break}_a(n,On,Ar);break;case 4:if(vs(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-Bi(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Dt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nj(i/1960))-i,10<i){n.timeoutHandle=Xv(_a.bind(null,n,On,Ar),i);break}_a(n,On,Ar);break;case 5:_a(n,On,Ar);break;default:throw Error(fe(329))}}}return Un(n,Dt()),n.callbackNode===t?zM.bind(null,n):null}function gx(n,e){var t=Ed;return n.current.memoizedState.isDehydrated&&(Ga(n,e).flags|=256),n=Am(n,e),n!==2&&(e=On,On=t,e!==null&&yx(e)),n}function yx(n){On===null?On=n:On.push.apply(On,n)}function ij(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Gi(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(n,e){for(e&=~pw,e&=~uf,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Bi(e),i=1<<t;n[t]=-1,e&=~i}}function h_(n){if(tt&6)throw Error(fe(327));jl();var e=um(n,0);if(!(e&1))return Un(n,Dt()),null;var t=Am(n,e);if(n.tag!==0&&t===2){var i=Gv(n);i!==0&&(e=i,t=gx(n,i))}if(t===1)throw t=Xd,Ga(n,0),vs(n,e),Un(n,Dt()),t;if(t===6)throw Error(fe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_a(n,On,Ar),Un(n,Dt()),null}function fw(n,e){var t=tt;tt|=1;try{return n(e)}finally{tt=t,tt===0&&(sc=Dt()+500,of&&Js())}}function io(n){Cs!==null&&Cs.tag===0&&!(tt&6)&&jl();var e=tt;tt|=1;var t=pi.transition,i=lt;try{if(pi.transition=null,lt=1,n)return n()}finally{lt=i,pi.transition=t,tt=e,!(tt&6)&&Js()}}function gw(){Xn=El.current,bt(El)}function Ga(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,N3(t)),Ut!==null)for(t=Ut.return;t!==null;){var i=t;switch(Xb(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&gm();break;case 3:ic(),bt(Bn),bt(Tn),sw();break;case 5:rw(i);break;case 4:ic();break;case 13:bt(_t);break;case 19:bt(_t);break;case 10:ew(i.type._context);break;case 22:case 23:gw()}t=t.return}if(tn=n,Ut=n=js(n.current,null),hn=Xn=e,qt=0,Xd=null,pw=uf=no=0,On=Ed=null,Pa!==null){for(e=0;e<Pa.length;e++)if(t=Pa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}Pa=null}return n}function UM(n,e){do{var t=Ut;try{if(Zb(),Yp.current=Em,Tm){for(var i=Et.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Tm=!1}if(to=0,Qt=$t=Et=null,_d=!1,qd=0,hw.current=null,t===null||t.return===null){qt=1,Xd=e,Ut=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=hn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ZS(a);if(m!==null){m.flags&=-257,e_(m,a,o,s,e),m.mode&1&&QS(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){QS(s,c,e),yw();break e}l=Error(fe(426))}}else if(wt&&o.mode&1){var x=ZS(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),e_(x,a,o,s,e),Jb(rc(l,o));break e}}s=l=rc(l,o),qt!==4&&(qt=2),Ed===null?Ed=[s]:Ed.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=TM(s,l,e);$S(s,g);break e;case 1:o=l;var f=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ns===null||!Ns.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=EM(s,o,e);$S(s,w);break e}}s=s.return}while(s!==null)}VM(t)}catch(T){e=T,Ut===t&&t!==null&&(Ut=t=t.return);continue}break}while(!0)}function GM(){var n=Cm.current;return Cm.current=Em,n===null?Em:n}function yw(){(qt===0||qt===3||qt===2)&&(qt=4),tn===null||!(no&268435455)&&!(uf&268435455)||vs(tn,hn)}function Am(n,e){var t=tt;tt|=2;var i=GM();(tn!==n||hn!==e)&&(Ar=null,Ga(n,e));do try{rj();break}catch(r){UM(n,r)}while(!0);if(Zb(),tt=t,Cm.current=i,Ut!==null)throw Error(fe(261));return tn=null,hn=0,qt}function rj(){for(;Ut!==null;)HM(Ut)}function sj(){for(;Ut!==null&&!PI();)HM(Ut)}function HM(n){var e=$M(n.alternate,n,Xn);n.memoizedProps=n.pendingProps,e===null?VM(n):Ut=e,hw.current=null}function VM(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Q3(t,e),t!==null){t.flags&=32767,Ut=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{qt=6,Ut=null;return}}else if(t=J3(t,e,Xn),t!==null){Ut=t;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=n}while(e!==null);qt===0&&(qt=5)}function _a(n,e,t){var i=lt,r=pi.transition;try{pi.transition=null,lt=1,aj(n,e,t,i)}finally{pi.transition=r,lt=i}return null}function aj(n,e,t,i){do jl();while(Cs!==null);if(tt&6)throw Error(fe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(fe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(zI(n,s),n===tn&&(Ut=tn=null,hn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||vh||(vh=!0,qM(dm,function(){return jl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=pi.transition,pi.transition=null;var a=lt;lt=1;var o=tt;tt|=4,hw.current=null,ej(n,t),FM(t,n),C3(Yv),hm=!!qv,Yv=qv=null,n.current=t,tj(t),RI(),tt=o,lt=a,pi.transition=s}else n.current=t;if(vh&&(vh=!1,Cs=n,km=r),s=n.pendingLanes,s===0&&(Ns=null),II(t.stateNode),Un(n,Dt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mm)throw Mm=!1,n=mx,mx=null,n;return km&1&&n.tag!==0&&jl(),s=n.pendingLanes,s&1?n===fx?Cd++:(Cd=0,fx=n):Cd=0,Js(),null}function jl(){if(Cs!==null){var n=TC(km),e=pi.transition,t=lt;try{if(pi.transition=null,lt=16>n?16:n,Cs===null)var i=!1;else{if(n=Cs,Cs=null,km=0,tt&6)throw Error(fe(331));var r=tt;for(tt|=4,Te=n.current;Te!==null;){var s=Te,a=s.child;if(Te.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Te=c;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:Td(8,u,s)}var h=u.child;if(h!==null)h.return=u,Te=h;else for(;Te!==null;){u=Te;var p=u.sibling,m=u.return;if(jM(u),u===c){Te=null;break}if(p!==null){p.return=m,Te=p;break}Te=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Te=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Te=a;else e:for(;Te!==null;){if(s=Te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Td(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Te=g;break e}Te=s.return}}var f=n.current;for(Te=f;Te!==null;){a=Te;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Te=b;else e:for(a=f;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:df(9,o)}}catch(T){Lt(o,o.return,T)}if(o===a){Te=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Te=w;break e}Te=o.return}}if(tt=r,Js(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(tf,n)}catch{}i=!0}return i}finally{lt=t,pi.transition=e}}return!1}function p_(n,e,t){e=rc(t,e),e=TM(n,e,1),n=Ls(n,e,1),e=Pn(),n!==null&&(Ru(n,1,e),Un(n,e))}function Lt(n,e,t){if(n.tag===3)p_(n,n,t);else for(;e!==null;){if(e.tag===3){p_(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ns===null||!Ns.has(i))){n=rc(t,n),n=EM(e,n,1),e=Ls(e,n,1),n=Pn(),e!==null&&(Ru(e,1,n),Un(e,n));break}}e=e.return}}function oj(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Pn(),n.pingedLanes|=n.suspendedLanes&t,tn===n&&(hn&t)===t&&(qt===4||qt===3&&(hn&130023424)===hn&&500>Dt()-mw?Ga(n,0):pw|=t),Un(n,e)}function WM(n,e){e===0&&(n.mode&1?(e=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):e=1);var t=Pn();n=Br(n,e),n!==null&&(Ru(n,e,t),Un(n,t))}function lj(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),WM(n,t)}function cj(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(e),WM(n,t)}var $M;$M=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Bn.current)Fn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Fn=!1,X3(n,e,t);Fn=!!(n.flags&131072)}else Fn=!1,wt&&e.flags&1048576&&XC(e,xm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Xp(n,e),n=e.pendingProps;var r=ec(e,Tn.current);Il(e,t),r=ow(null,e,i,n,r,t);var s=lw();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(i)?(s=!0,ym(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,nw(e),r.updater=cf,e.stateNode=r,r._reactInternals=e,ix(e,i,n,t),e=ax(null,e,i,!0,s,t)):(e.tag=0,wt&&s&&Kb(e),kn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Xp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=uj(i),n=Pi(i,n),r){case 0:e=sx(null,e,i,n,t);break e;case 1:e=i_(null,e,i,n,t);break e;case 11:e=t_(null,e,i,n,t);break e;case 14:e=n_(null,e,i,Pi(i.type,n),t);break e}throw Error(fe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),sx(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),i_(n,e,i,r,t);case 3:e:{if(AM(e),n===null)throw Error(fe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,nM(n,e),Sm(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=rc(Error(fe(423)),e),e=r_(n,e,i,t,r);break e}else if(i!==r){r=rc(Error(fe(424)),e),e=r_(n,e,i,t,r);break e}else for(Zn=Rs(e.stateNode.containerInfo.firstChild),ei=e,wt=!0,Oi=null,t=eM(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(tc(),i===r){e=zr(n,e,t);break e}kn(n,e,i,t)}e=e.child}return e;case 5:return iM(e),n===null&&ex(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,Kv(i,r)?a=null:s!==null&&Kv(i,s)&&(e.flags|=32),kM(n,e),kn(n,e,a,t),e.child;case 6:return n===null&&ex(e),null;case 13:return PM(n,e,t);case 4:return iw(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=nc(e,null,i,t):kn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),t_(n,e,i,r,t);case 7:return kn(n,e,e.pendingProps,t),e.child;case 8:return kn(n,e,e.pendingProps.children,t),e.child;case 12:return kn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,mt(bm,i._currentValue),i._currentValue=a,s!==null)if(Gi(s.value,a)){if(s.children===r.children&&!Bn.current){e=zr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=jr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),tx(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(fe(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),tx(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}kn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Il(e,t),r=mi(r),i=i(r),e.flags|=1,kn(n,e,i,t),e.child;case 14:return i=e.type,r=Pi(i,e.pendingProps),r=Pi(i.type,r),n_(n,e,i,r,t);case 15:return CM(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),Xp(n,e),e.tag=1,zn(i)?(n=!0,ym(e)):n=!1,Il(e,t),_M(e,i,r),ix(e,i,r,t),ax(null,e,i,!0,n,t);case 19:return RM(n,e,t);case 22:return MM(n,e,t)}throw Error(fe(156,e.tag))};function qM(n,e){return bC(n,e)}function dj(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(n,e,t,i){return new dj(n,e,t,i)}function vw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function uj(n){if(typeof n=="function")return vw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ob)return 11;if(n===Fb)return 14}return 2}function js(n,e){var t=n.alternate;return t===null?(t=hi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Zp(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")vw(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case fl:return Ha(t.children,r,s,e);case Db:a=8,r|=8;break;case Mv:return n=hi(12,t,e,r|2),n.elementType=Mv,n.lanes=s,n;case kv:return n=hi(13,t,e,r),n.elementType=kv,n.lanes=s,n;case Av:return n=hi(19,t,e,r),n.elementType=Av,n.lanes=s,n;case iC:return hf(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case tC:a=10;break e;case nC:a=9;break e;case Ob:a=11;break e;case Fb:a=14;break e;case ms:a=16,i=null;break e}throw Error(fe(130,n==null?n:typeof n,""))}return e=hi(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ha(n,e,t,i){return n=hi(7,n,i,e),n.lanes=t,n}function hf(n,e,t,i){return n=hi(22,n,i,e),n.elementType=iC,n.lanes=t,n.stateNode={isHidden:!1},n}function Bg(n,e,t){return n=hi(6,n,null,e),n.lanes=t,n}function zg(n,e,t){return e=hi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function hj(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bg(0),this.expirationTimes=bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xw(n,e,t,i,r,s,a,o,l){return n=new hj(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},nw(s),n}function pj(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ml,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function YM(n){if(!n)return Gs;n=n._reactInternals;e:{if(vo(n)!==n||n.tag!==1)throw Error(fe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(n.tag===1){var t=n.type;if(zn(t))return YC(n,t,e)}return e}function KM(n,e,t,i,r,s,a,o,l){return n=xw(t,i,!0,n,r,s,a,o,l),n.context=YM(null),t=n.current,i=Pn(),r=Is(t),s=jr(i,r),s.callback=e??null,Ls(t,s,r),n.current.lanes=r,Ru(n,r,i),Un(n,i),n}function pf(n,e,t,i){var r=e.current,s=Pn(),a=Is(r);return t=YM(t),e.context===null?e.context=t:e.pendingContext=t,e=jr(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ls(r,e,a),n!==null&&(zi(n,r,a,s),qp(n,r,a)),a}function Pm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function m_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function bw(n,e){m_(n,e),(n=n.alternate)&&m_(n,e)}function mj(){return null}var XM=typeof reportError=="function"?reportError:function(n){console.error(n)};function ww(n){this._internalRoot=n}mf.prototype.render=ww.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(fe(409));pf(n,e,null,null)};mf.prototype.unmount=ww.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;io(function(){pf(null,n,null,null)}),e[Fr]=null}};function mf(n){this._internalRoot=n}mf.prototype.unstable_scheduleHydration=function(n){if(n){var e=MC();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ys.length&&e!==0&&e<ys[t].priority;t++);ys.splice(t,0,n),t===0&&AC(n)}};function Sw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ff(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function f_(){}function fj(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Pm(a);s.call(c)}}var a=KM(e,i,n,0,null,!1,!1,"",f_);return n._reactRootContainer=a,n[Fr]=a.current,Gd(n.nodeType===8?n.parentNode:n),io(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=Pm(l);o.call(c)}}var l=xw(n,0,!1,null,null,!1,!1,"",f_);return n._reactRootContainer=l,n[Fr]=l.current,Gd(n.nodeType===8?n.parentNode:n),io(function(){pf(e,l,t,i)}),l}function gf(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=Pm(a);o.call(l)}}pf(e,a,n,r)}else a=fj(t,e,n,r,i);return Pm(a)}EC=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=pd(e.pendingLanes);t!==0&&(Ub(e,t|1),Un(e,Dt()),!(tt&6)&&(sc=Dt()+500,Js()))}break;case 13:io(function(){var i=Br(n,1);if(i!==null){var r=Pn();zi(i,n,1,r)}}),bw(n,1)}};Gb=function(n){if(n.tag===13){var e=Br(n,134217728);if(e!==null){var t=Pn();zi(e,n,134217728,t)}bw(n,134217728)}};CC=function(n){if(n.tag===13){var e=Is(n),t=Br(n,e);if(t!==null){var i=Pn();zi(t,n,e,i)}bw(n,e)}};MC=function(){return lt};kC=function(n,e){var t=lt;try{return lt=n,e()}finally{lt=t}};Bv=function(n,e,t){switch(e){case"input":if(Lv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=af(i);if(!r)throw Error(fe(90));sC(i),Lv(i,r)}}}break;case"textarea":oC(n,t);break;case"select":e=t.value,e!=null&&Pl(n,!!t.multiple,e,!1)}};mC=fw;fC=io;var gj={usingClientEntryPoint:!1,Events:[Nu,xl,af,hC,pC,fw]},Jc={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yj={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=vC(n),n===null?null:n.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||mj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{tf=xh.inject(yj),or=xh}catch{}}si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gj;si.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sw(e))throw Error(fe(200));return pj(n,e,null,t)};si.createRoot=function(n,e){if(!Sw(n))throw Error(fe(299));var t=!1,i="",r=XM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=xw(n,1,!1,null,null,t,!1,i,r),n[Fr]=e.current,Gd(n.nodeType===8?n.parentNode:n),new ww(e)};si.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(fe(188)):(n=Object.keys(n).join(","),Error(fe(268,n)));return n=vC(e),n=n===null?null:n.stateNode,n};si.flushSync=function(n){return io(n)};si.hydrate=function(n,e,t){if(!ff(e))throw Error(fe(200));return gf(null,n,e,!0,t)};si.hydrateRoot=function(n,e,t){if(!Sw(n))throw Error(fe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=XM;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=KM(e,null,n,1,t??null,r,!1,s,a),n[Fr]=e.current,Gd(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new mf(e)};si.render=function(n,e,t){if(!ff(e))throw Error(fe(200));return gf(null,n,e,!1,t)};si.unmountComponentAtNode=function(n){if(!ff(n))throw Error(fe(40));return n._reactRootContainer?(io(function(){gf(null,null,n,!1,function(){n._reactRootContainer=null,n[Fr]=null})}),!0):!1};si.unstable_batchedUpdates=fw;si.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!ff(t))throw Error(fe(200));if(n==null||n._reactInternals===void 0)throw Error(fe(38));return gf(n,e,t,!1,i)};si.version="18.3.1-next-f1338f8080-20240426";function JM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JM)}catch(n){console.error(n)}}JM(),JE.exports=si;var xo=JE.exports;const QM=BE(xo);var ZM,g_=xo;ZM=g_.createRoot,g_.hydrateRoot;const vj=1,xj=1e6;let Ug=0;function bj(){return Ug=(Ug+1)%Number.MAX_SAFE_INTEGER,Ug.toString()}const Gg=new Map,y_=n=>{if(Gg.has(n))return;const e=setTimeout(()=>{Gg.delete(n),Md({type:"REMOVE_TOAST",toastId:n})},xj);Gg.set(n,e)},wj=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,vj)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?y_(t):n.toasts.forEach(i=>{y_(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},em=[];let tm={toasts:[]};function Md(n){tm=wj(tm,n),em.forEach(e=>{e(tm)})}function Sj({...n}){const e=bj(),t=r=>Md({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Md({type:"DISMISS_TOAST",toastId:e});return Md({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function yf(){const[n,e]=S.useState(tm);return S.useEffect(()=>(em.push(e),()=>{const t=em.indexOf(e);t>-1&&em.splice(t,1)}),[n]),{...n,toast:Sj,dismiss:t=>Md({type:"DISMISS_TOAST",toastId:t})}}function Fe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function v_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ek(...n){return e=>{let t=!1;const i=n.map(r=>{const s=v_(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():v_(n[r],null)}}}}function st(...n){return S.useCallback(ek(...n),n)}function _j(n,e){const t=S.createContext(e),i=s=>{const{children:a,...o}=s,l=S.useMemo(()=>o,Object.values(o));return d.jsx(t.Provider,{value:l,children:a})};i.displayName=n+"Provider";function r(s){const a=S.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function bo(n,e=[]){let t=[];function i(s,a){const o=S.createContext(a),l=t.length;t=[...t,a];const c=h=>{var g;const{scope:p,children:m,...v}=h,y=((g=p==null?void 0:p[n])==null?void 0:g[l])||o,x=S.useMemo(()=>v,Object.values(v));return d.jsx(y.Provider,{value:x,children:m})};c.displayName=s+"Provider";function u(h,p){var y;const m=((y=p==null?void 0:p[n])==null?void 0:y[l])||o,v=S.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=t.map(a=>S.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return S.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return r.scopeName=n,[i,Tj(r,...e)]}function Tj(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function ac(n){const e=Cj(n),t=S.forwardRef((i,r)=>{const{children:s,...a}=i,o=S.Children.toArray(s),l=o.find(kj);if(l){const c=l.props.children,u=o.map(h=>h===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...a,ref:r,children:S.isValidElement(c)?S.cloneElement(c,void 0,u):null})}return d.jsx(e,{...a,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var Ej=ac("Slot");function Cj(n){const e=S.forwardRef((t,i)=>{const{children:r,...s}=t;if(S.isValidElement(r)){const a=Pj(r),o=Aj(s,r.props);return r.type!==S.Fragment&&(o.ref=i?ek(i,a):a),S.cloneElement(r,o)}return S.Children.count(r)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var tk=Symbol("radix.slottable");function Mj(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=tk,e}function kj(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===tk}function Aj(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{const l=s(...o);return r(...o),l}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function Pj(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function nk(n){const e=n+"CollectionProvider",[t,i]=bo(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:x,children:g}=y,f=ye.useRef(null),b=ye.useRef(new Map).current;return d.jsx(r,{scope:x,itemMap:b,collectionRef:f,children:g})};a.displayName=e;const o=n+"CollectionSlot",l=ac(o),c=ye.forwardRef((y,x)=>{const{scope:g,children:f}=y,b=s(o,g),w=st(x,b.collectionRef);return d.jsx(l,{ref:w,children:f})});c.displayName=o;const u=n+"CollectionItemSlot",h="data-radix-collection-item",p=ac(u),m=ye.forwardRef((y,x)=>{const{scope:g,children:f,...b}=y,w=ye.useRef(null),T=st(x,w),E=s(u,g);return ye.useEffect(()=>(E.itemMap.set(w,{ref:w,...b}),()=>void E.itemMap.delete(w))),d.jsx(p,{[h]:"",ref:T,children:f})});m.displayName=u;function v(y){const x=s(n+"CollectionConsumer",y);return ye.useCallback(()=>{const f=x.collectionRef.current;if(!f)return[];const b=Array.from(f.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((E,_)=>b.indexOf(E.ref.current)-b.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,i]}var Rj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=Rj.reduce((n,e)=>{const t=ac(`Primitive.${e}`),i=S.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function ik(n,e){n&&xo.flushSync(()=>n.dispatchEvent(e))}function en(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function Lj(n,e=globalThis==null?void 0:globalThis.document){const t=en(n);S.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Nj="DismissableLayer",vx="dismissableLayer.update",Ij="dismissableLayer.pointerDownOutside",jj="dismissableLayer.focusOutside",x_,rk=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ju=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=n,c=S.useContext(rk),[u,h]=S.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),v=st(e,_=>h(_)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(x),f=u?y.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=f>=g,T=Oj(_=>{const C=_.target,A=[...c.branches].some(P=>P.contains(C));!w||A||(r==null||r(_),a==null||a(_),_.defaultPrevented||o==null||o())},p),E=Fj(_=>{const C=_.target;[...c.branches].some(P=>P.contains(C))||(s==null||s(_),a==null||a(_),_.defaultPrevented||o==null||o())},p);return Lj(_=>{f===c.layers.size-1&&(i==null||i(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},p),S.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(x_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),b_(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=x_)}},[u,p,t,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),b_())},[u,c]),S.useEffect(()=>{const _=()=>m({});return document.addEventListener(vx,_),()=>document.removeEventListener(vx,_)},[]),d.jsx(qe.div,{...l,ref:v,style:{pointerEvents:b?w?"auto":"none":void 0,...n.style},onFocusCapture:Fe(n.onFocusCapture,E.onFocusCapture),onBlurCapture:Fe(n.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Fe(n.onPointerDownCapture,T.onPointerDownCapture)})});ju.displayName=Nj;var Dj="DismissableLayerBranch",sk=S.forwardRef((n,e)=>{const t=S.useContext(rk),i=S.useRef(null),r=st(e,i);return S.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),d.jsx(qe.div,{...n,ref:r})});sk.displayName=Dj;function Oj(n,e=globalThis==null?void 0:globalThis.document){const t=en(n),i=S.useRef(!1),r=S.useRef(()=>{});return S.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let l=function(){ak(Ij,t,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Fj(n,e=globalThis==null?void 0:globalThis.document){const t=en(n),i=S.useRef(!1);return S.useEffect(()=>{const r=s=>{s.target&&!i.current&&ak(jj,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function b_(){const n=new CustomEvent(vx);document.dispatchEvent(n)}function ak(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?ik(r,s):r.dispatchEvent(s)}var Bj=ju,zj=sk,nn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Uj="Portal",vf=S.forwardRef((n,e)=>{var o;const{container:t,...i}=n,[r,s]=S.useState(!1);nn(()=>s(!0),[]);const a=t||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?QM.createPortal(d.jsx(qe.div,{...i,ref:e}),a):null});vf.displayName=Uj;function Gj(n,e){return S.useReducer((t,i)=>e[t][i]??t,n)}var gr=n=>{const{present:e,children:t}=n,i=Hj(e),r=typeof t=="function"?t({present:i.isPresent}):S.Children.only(t),s=st(i.ref,Vj(r));return typeof t=="function"||i.isPresent?S.cloneElement(r,{ref:s}):null};gr.displayName="Presence";function Hj(n){const[e,t]=S.useState(),i=S.useRef(null),r=S.useRef(n),s=S.useRef("none"),a=n?"mounted":"unmounted",[o,l]=Gj(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=bh(i.current);s.current=o==="mounted"?c:"none"},[o]),nn(()=>{const c=i.current,u=r.current;if(u!==n){const p=s.current,m=bh(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),nn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const y=bh(i.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(s.current=bh(i.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{i.current=c?getComputedStyle(c):null,t(c)},[])}}function bh(n){return(n==null?void 0:n.animationName)||"none"}function Vj(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Wj=Lb[" useInsertionEffect ".trim().toString()]||nn;function Rm({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[r,s,a]=$j({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r;{const u=S.useRef(n!==void 0);S.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,i])}const c=S.useCallback(u=>{var h;if(o){const p=qj(u)?u(n):u;p!==n&&((h=a.current)==null||h.call(a,p))}else s(u)},[o,n,s,a]);return[l,c]}function $j({defaultProp:n,onChange:e}){const[t,i]=S.useState(n),r=S.useRef(t),s=S.useRef(e);return Wj(()=>{s.current=e},[e]),S.useEffect(()=>{var a;r.current!==t&&((a=s.current)==null||a.call(s,t),r.current=t)},[t,r]),[t,i,s]}function qj(n){return typeof n=="function"}var ok=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Yj="VisuallyHidden",xf=S.forwardRef((n,e)=>d.jsx(qe.span,{...n,ref:e,style:{...ok,...n.style}}));xf.displayName=Yj;var Kj=xf,_w="ToastProvider",[Tw,Xj,Jj]=nk("Toast"),[lk,nK]=bo("Toast",[Jj]),[Qj,bf]=lk(_w),ck=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:a}=n,[o,l]=S.useState(null),[c,u]=S.useState(0),h=S.useRef(!1),p=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${_w}\`. Expected non-empty \`string\`.`),d.jsx(Tw.Provider,{scope:e,children:d.jsx(Qj,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>u(m=>m+1),[]),onToastRemove:S.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};ck.displayName=_w;var dk="ToastViewport",Zj=["F8"],xx="toast.viewportPause",bx="toast.viewportResume",uk=S.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=Zj,label:r="Notifications ({hotkey})",...s}=n,a=bf(dk,t),o=Xj(t),l=S.useRef(null),c=S.useRef(null),u=S.useRef(null),h=S.useRef(null),p=st(e,h,a.onViewportChange),m=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;S.useEffect(()=>{const x=g=>{var b;i.length!==0&&i.every(w=>g[w]||g.code===w)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[i]),S.useEffect(()=>{const x=l.current,g=h.current;if(v&&x&&g){const f=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(xx);g.dispatchEvent(E),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(bx);g.dispatchEvent(E),a.isClosePausedRef.current=!1}},w=E=>{!x.contains(E.relatedTarget)&&b()},T=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",f),x.addEventListener("focusout",w),x.addEventListener("pointermove",f),x.addEventListener("pointerleave",T),window.addEventListener("blur",f),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",f),x.removeEventListener("focusout",w),x.removeEventListener("pointermove",f),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",f),window.removeEventListener("focus",b)}}},[v,a.isClosePausedRef]);const y=S.useCallback(({tabbingDirection:x})=>{const f=o().map(b=>{const w=b.ref.current,T=[w,...hD(w)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?f.reverse():f).flat()},[o]);return S.useEffect(()=>{const x=h.current;if(x){const g=f=>{var T,E,_;const b=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!b){const C=document.activeElement,A=f.shiftKey;if(f.target===x&&A){(T=c.current)==null||T.focus();return}const G=y({tabbingDirection:A?"backwards":"forwards"}),I=G.findIndex(j=>j===C);Hg(G.slice(I+1))?f.preventDefault():A?(E=c.current)==null||E.focus():(_=u.current)==null||_.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[o,y]),d.jsxs(zj,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(wx,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});Hg(x)}}),d.jsx(Tw.Slot,{scope:t,children:d.jsx(qe.ol,{tabIndex:-1,...s,ref:p})}),v&&d.jsx(wx,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});Hg(x)}})]})});uk.displayName=dk;var hk="ToastFocusProxy",wx=S.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=bf(hk,t);return d.jsx(xf,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&i()}})});wx.displayName=hk;var Du="Toast",eD="toast.swipeStart",tD="toast.swipeMove",nD="toast.swipeCancel",iD="toast.swipeEnd",pk=S.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...a}=n,[o,l]=Rm({prop:i,defaultProp:r??!0,onChange:s,caller:Du});return d.jsx(gr,{present:t||o,children:d.jsx(aD,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:en(n.onPause),onResume:en(n.onResume),onSwipeStart:Fe(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Fe(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});pk.displayName=Du;var[rD,sD]=lk(Du,{onClose(){}}),aD=S.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...v}=n,y=bf(Du,t),[x,g]=S.useState(null),f=st(e,j=>g(j)),b=S.useRef(null),w=S.useRef(null),T=r||y.duration,E=S.useRef(0),_=S.useRef(T),C=S.useRef(0),{onToastAdd:A,onToastRemove:P}=y,R=en(()=>{var z;(x==null?void 0:x.contains(document.activeElement))&&((z=y.viewport)==null||z.focus()),a()}),G=S.useCallback(j=>{!j||j===1/0||(window.clearTimeout(C.current),E.current=new Date().getTime(),C.current=window.setTimeout(R,j))},[R]);S.useEffect(()=>{const j=y.viewport;if(j){const z=()=>{G(_.current),c==null||c()},U=()=>{const W=new Date().getTime()-E.current;_.current=_.current-W,window.clearTimeout(C.current),l==null||l()};return j.addEventListener(xx,U),j.addEventListener(bx,z),()=>{j.removeEventListener(xx,U),j.removeEventListener(bx,z)}}},[y.viewport,T,l,c,G]),S.useEffect(()=>{s&&!y.isClosePausedRef.current&&G(T)},[s,T,y.isClosePausedRef,G]),S.useEffect(()=>(A(),()=>P()),[A,P]);const I=S.useMemo(()=>x?bk(x):null,[x]);return y.viewport?d.jsxs(d.Fragment,{children:[I&&d.jsx(oD,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),d.jsx(rD,{scope:t,onClose:R,children:xo.createPortal(d.jsx(Tw.ItemSlot,{scope:t,children:d.jsx(Bj,{asChild:!0,onEscapeKeyDown:Fe(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:f,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Fe(n.onKeyDown,j=>{j.key==="Escape"&&(o==null||o(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Fe(n.onPointerDown,j=>{j.button===0&&(b.current={x:j.clientX,y:j.clientY})}),onPointerMove:Fe(n.onPointerMove,j=>{if(!b.current)return;const z=j.clientX-b.current.x,U=j.clientY-b.current.y,W=!!w.current,V=["left","right"].includes(y.swipeDirection),M=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,q=V?M(0,z):0,X=V?0:M(0,U),ne=j.pointerType==="touch"?10:2,Y={x:q,y:X},H={originalEvent:j,delta:Y};W?(w.current=Y,wh(tD,h,H,{discrete:!1})):w_(Y,y.swipeDirection,ne)?(w.current=Y,wh(eD,u,H,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(z)>ne||Math.abs(U)>ne)&&(b.current=null)}),onPointerUp:Fe(n.onPointerUp,j=>{const z=w.current,U=j.target;if(U.hasPointerCapture(j.pointerId)&&U.releasePointerCapture(j.pointerId),w.current=null,b.current=null,z){const W=j.currentTarget,V={originalEvent:j,delta:z};w_(z,y.swipeDirection,y.swipeThreshold)?wh(iD,m,V,{discrete:!0}):wh(nD,p,V,{discrete:!0}),W.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),oD=n=>{const{__scopeToast:e,children:t,...i}=n,r=bf(Du,e),[s,a]=S.useState(!1),[o,l]=S.useState(!1);return dD(()=>a(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:d.jsx(vf,{asChild:!0,children:d.jsx(xf,{...i,children:s&&d.jsxs(d.Fragment,{children:[r.label," ",t]})})})},lD="ToastTitle",mk=S.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return d.jsx(qe.div,{...i,ref:e})});mk.displayName=lD;var cD="ToastDescription",fk=S.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return d.jsx(qe.div,{...i,ref:e})});fk.displayName=cD;var gk="ToastAction",yk=S.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?d.jsx(xk,{altText:t,asChild:!0,children:d.jsx(Ew,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gk}\`. Expected non-empty \`string\`.`),null)});yk.displayName=gk;var vk="ToastClose",Ew=S.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=sD(vk,t);return d.jsx(xk,{asChild:!0,children:d.jsx(qe.button,{type:"button",...i,ref:e,onClick:Fe(n.onClick,r.onClose)})})});Ew.displayName=vk;var xk=S.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return d.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function bk(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),uD(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const a=i.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...bk(i))}}),e}function wh(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?ik(r,s):r.dispatchEvent(s)}var w_=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function dD(n=()=>{}){const e=en(n);nn(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function uD(n){return n.nodeType===n.ELEMENT_NODE}function hD(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Hg(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var pD=ck,wk=uk,Sk=pk,_k=mk,Tk=fk,Ek=yk,Ck=Ew;function Mk(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=Mk(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function kk(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=Mk(n))&&(i&&(i+=" "),i+=e);return i}const S_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,__=kk,Cw=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return __(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const p=S_(u)||S_(h);return r[c][p]}),o=t&&Object.entries(t).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:h,className:p,...m}=u;return Object.entries(m).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...s,...o}[y]):{...s,...o}[y]===x})?[...c,h,p]:c},[]);return __(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ak=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>S.createElement("svg",{ref:l,...fD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Ak("lucide",r),...o},[...a.map(([c,u])=>S.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(n,e)=>{const t=S.forwardRef(({className:i,...r},s)=>S.createElement(gD,{ref:s,iconNode:e,className:Ak(`lucide-${mD(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Ae("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Ae("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Ae("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ae("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Ae("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ae("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Ae("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lw="-",UD=n=>{const e=HD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:a=>{const o=a.split(Lw);return o[0]===""&&o.length!==1&&o.shift(),Ok(o,e)||GD(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&i[a]?[...l,...i[a]]:l}}},Ok=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?Ok(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(Lw);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},k_=/^\[(.+)\]$/,GD=n=>{if(k_.test(n)){const e=k_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},HD=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return WD(Object.entries(n.classGroups),t).forEach(([s,a])=>{kx(a,i,s,e)}),i},kx=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:A_(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(VD(r)){kx(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,a])=>{kx(a,A_(e,s),t,i)})})},A_=(n,e)=>{let t=n;return e.split(Lw).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},VD=n=>n.isThemeGetter,WD=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[t,r]}):n,$D=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){t.has(s)?t.set(s,a):r(s,a)}}},Fk="!",qD=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,a=o=>{const l=[];let c=0,u=0,h;for(let x=0;x<o.length;x++){let g=o[x];if(c===0){if(g===r&&(i||o.slice(x,x+s)===e)){l.push(o.slice(u,x)),u=x+s;continue}if(g==="/"){h=x;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?o:o.substring(u),m=p.startsWith(Fk),v=m?p.substring(1):p,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}};return t?o=>t({className:o,parseClassName:a}):a},YD=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},KD=n=>({cache:$D(n.cacheSize),parseClassName:qD(n),...UD(n)}),XD=/\s+/,JD=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],a=n.trim().split(XD);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=t(c);let v=!!m,y=i(v?p.substring(0,m):p);if(!y){if(!v){o=c+(o.length>0?" "+o:o);continue}if(y=i(p),!y){o=c+(o.length>0?" "+o:o);continue}v=!1}const x=YD(u).join(":"),g=h?x+Fk:x,f=g+y;if(s.includes(f))continue;s.push(f);const b=r(y,v);for(let w=0;w<b.length;++w){const T=b[w];s.push(g+T)}o=c+(o.length>0?" "+o:o)}return o};function QD(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Bk(e))&&(i&&(i+=" "),i+=t);return i}const Bk=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=Bk(n[i]))&&(t&&(t+=" "),t+=e);return t};function ZD(n,...e){let t,i,r,s=a;function a(l){const c=e.reduce((u,h)=>h(u),n());return t=KD(c),i=t.cache.get,r=t.cache.set,s=o,o(l)}function o(l){const c=i(l);if(c)return c;const u=JD(l,t);return r(l,u),u}return function(){return s(QD.apply(null,arguments))}}const yt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},zk=/^\[(?:([a-z-]+):)?(.+)\]$/i,eO=/^\d+\/\d+$/,tO=new Set(["px","full","screen"]),nO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=n=>Dl(n)||tO.has(n)||eO.test(n),ns=n=>kc(n,"length",mO),Dl=n=>!!n&&!Number.isNaN(Number(n)),$g=n=>kc(n,"number",Dl),Qc=n=>!!n&&Number.isInteger(Number(n)),oO=n=>n.endsWith("%")&&Dl(n.slice(0,-1)),Ve=n=>zk.test(n),is=n=>nO.test(n),lO=new Set(["length","size","percentage"]),cO=n=>kc(n,lO,Uk),dO=n=>kc(n,"position",Uk),uO=new Set(["image","url"]),hO=n=>kc(n,uO,gO),pO=n=>kc(n,"",fO),Zc=()=>!0,kc=(n,e,t)=>{const i=zk.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},mO=n=>iO.test(n)&&!rO.test(n),Uk=()=>!1,fO=n=>sO.test(n),gO=n=>aO.test(n),yO=()=>{const n=yt("colors"),e=yt("spacing"),t=yt("blur"),i=yt("brightness"),r=yt("borderColor"),s=yt("borderRadius"),a=yt("borderSpacing"),o=yt("borderWidth"),l=yt("contrast"),c=yt("grayscale"),u=yt("hueRotate"),h=yt("invert"),p=yt("gap"),m=yt("gradientColorStops"),v=yt("gradientColorStopPositions"),y=yt("inset"),x=yt("margin"),g=yt("opacity"),f=yt("padding"),b=yt("saturate"),w=yt("scale"),T=yt("sepia"),E=yt("skew"),_=yt("space"),C=yt("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ve,e],G=()=>[Ve,e],I=()=>["",br,ns],j=()=>["auto",Dl,Ve],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ve],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Dl,Ve];return{cacheSize:500,separator:":",theme:{colors:[Zc],spacing:[br,ns],blur:["none","",is,Ve],brightness:X(),borderColor:[n],borderRadius:["none","","full",is,Ve],borderSpacing:G(),borderWidth:I(),contrast:X(),grayscale:M(),hueRotate:X(),invert:M(),gap:G(),gradientColorStops:[n],gradientColorStopPositions:[oO,ns],inset:R(),margin:R(),opacity:X(),padding:G(),saturate:X(),scale:X(),sepia:M(),skew:X(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ve]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qc,Ve]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Qc,Ve]}],"grid-cols":[{"grid-cols":[Zc]}],"col-start-end":[{col:["auto",{span:["full",Qc,Ve]},Ve]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Zc]}],"row-start-end":[{row:["auto",{span:[Qc,Ve]},Ve]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$g]}],"font-family":[{font:[Zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Dl,$g]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",br,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",br,ns]}],"underline-offset":[{"underline-offset":["auto",br,Ve]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),dO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hO]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[br,Ve]}],"outline-w":[{outline:[br,ns]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[br,ns]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",is,pO]}],"shadow-color":[{shadow:[Zc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",is,Ve]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Qc,Ve]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[br,ns,$g]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vO=ZD(yO);function ft(...n){return vO(kk(n))}const xO=pD,Gk=S.forwardRef(({className:n,...e},t)=>d.jsx(wk,{ref:t,className:ft("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Gk.displayName=wk.displayName;const bO=Cw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Hk=S.forwardRef(({className:n,variant:e,...t},i)=>d.jsx(Sk,{ref:i,className:ft(bO({variant:e}),n),...t}));Hk.displayName=Sk.displayName;const wO=S.forwardRef(({className:n,...e},t)=>d.jsx(Ek,{ref:t,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));wO.displayName=Ek.displayName;const Vk=S.forwardRef(({className:n,...e},t)=>d.jsx(Ck,{ref:t,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:d.jsx(Qs,{className:"h-4 w-4"})}));Vk.displayName=Ck.displayName;const Wk=S.forwardRef(({className:n,...e},t)=>d.jsx(_k,{ref:t,className:ft("text-sm font-semibold",n),...e}));Wk.displayName=_k.displayName;const $k=S.forwardRef(({className:n,...e},t)=>d.jsx(Tk,{ref:t,className:ft("text-sm opacity-90",n),...e}));$k.displayName=Tk.displayName;function SO(){const{toasts:n}=yf();return d.jsxs(xO,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return d.jsxs(Hk,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(Wk,{children:t}),i&&d.jsx($k,{children:i})]}),r,d.jsx(Vk,{})]},e)}),d.jsx(Gk,{})]})}var P_=["light","dark"],_O="(prefers-color-scheme: dark)",TO=S.createContext(void 0),EO={setTheme:n=>{},themes:[]},CO=()=>{var n;return(n=S.useContext(TO))!=null?n:EO};S.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let c=s==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=r?P_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,x=!0)=>{let g=a?a[v]:v,f=y?v+"|| ''":`'${g}'`,b="";return r&&x&&!y&&P_.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),t==="class"?y||g?b+=`c.add(${f})`:b+="null":g&&(b+=`d[s](n,${f})`),b},m=n?`!function(){${u}${p(n)}}()`:i?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${_O}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var MO=n=>{switch(n){case"success":return PO;case"info":return LO;case"warning":return RO;case"error":return NO;default:return null}},kO=Array(12).fill(0),AO=({visible:n,className:e})=>ye.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ye.createElement("div",{className:"sonner-spinner"},kO.map((t,i)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),PO=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RO=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LO=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NO=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IO=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jO=()=>{let[n,e]=ye.useState(document.hidden);return ye.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Ax=1,DO=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...i}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Ax++,s=this.toasts.find(o=>o.id===r),a=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...n,id:r,title:t}),{...o,...n,id:r,dismissible:a,title:t}):o):this.addToast({title:t,...i,dismissible:a,id:r}),r},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=n instanceof Promise?n:n(),r=t!==void 0,s,a=i.then(async l=>{if(s=["resolve",l],ye.isValidElement(l))r=!1,this.create({id:t,type:"default",message:l});else if(FO(l)&&!l.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:c,description:u})}}).finally(()=>{var l;r&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>a.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof t!="string"&&typeof t!="number"?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||Ax++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dn=new DO,OO=(n,e)=>{let t=(e==null?void 0:e.id)||Ax++;return Dn.addToast({title:n,...e,id:t}),t},FO=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",BO=OO,zO=()=>Dn.toasts,UO=()=>Dn.getActiveToasts(),pe=Object.assign(BO,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:zO,getToasts:UO});function GO(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}GO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sh(n){return n.label!==void 0}var HO=3,VO="32px",WO="16px",R_=4e3,$O=356,qO=14,YO=20,KO=200;function Ti(...n){return n.filter(Boolean).join(" ")}function XO(n){let[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}var JO=n=>{var e,t,i,r,s,a,o,l,c,u,h;let{invert:p,toast:m,unstyled:v,interacting:y,setHeights:x,visibleToasts:g,heights:f,index:b,toasts:w,expanded:T,removeToast:E,defaultRichColors:_,closeButton:C,style:A,cancelButtonStyle:P,actionButtonStyle:R,className:G="",descriptionClassName:I="",duration:j,position:z,gap:U,loadingIcon:W,expandByDefault:V,classNames:M,icons:q,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:ne}=n,[Y,H]=ye.useState(null),[k,O]=ye.useState(null),[D,Q]=ye.useState(!1),[ae,le]=ye.useState(!1),[ce,K]=ye.useState(!1),[te,re]=ye.useState(!1),[we,ge]=ye.useState(!1),[B,N]=ye.useState(0),[Z,ie]=ye.useState(0),me=ye.useRef(m.duration||j||R_),Se=ye.useRef(null),Le=ye.useRef(null),Ne=b===0,Be=b+1<=g,_e=m.type,$=m.dismissible!==!1,xe=m.className||"",ue=m.descriptionClassName||"",Ce=ye.useMemo(()=>f.findIndex(Ue=>Ue.toastId===m.id)||0,[f,m.id]),ke=ye.useMemo(()=>{var Ue;return(Ue=m.closeButton)!=null?Ue:C},[m.closeButton,C]),We=ye.useMemo(()=>m.duration||j||R_,[m.duration,j]),Bt=ye.useRef(0),St=ye.useRef(0),vi=ye.useRef(0),dt=ye.useRef(null),[xi,Vn]=z.split("-"),Zu=ye.useMemo(()=>f.reduce((Ue,Ze,ut)=>ut>=Ce?Ue:Ue+Ze.height,0),[f,Ce]),Uc=jO(),eh=m.invert||p,bi=_e==="loading";St.current=ye.useMemo(()=>Ce*U+Zu,[Ce,Zu]),ye.useEffect(()=>{me.current=We},[We]),ye.useEffect(()=>{Q(!0)},[]),ye.useEffect(()=>{let Ue=Le.current;if(Ue){let Ze=Ue.getBoundingClientRect().height;return ie(Ze),x(ut=>[{toastId:m.id,height:Ze,position:m.position},...ut]),()=>x(ut=>ut.filter(Cn=>Cn.toastId!==m.id))}},[x,m.id]),ye.useLayoutEffect(()=>{if(!D)return;let Ue=Le.current,Ze=Ue.style.height;Ue.style.height="auto";let ut=Ue.getBoundingClientRect().height;Ue.style.height=Ze,ie(ut),x(Cn=>Cn.find(jn=>jn.toastId===m.id)?Cn.map(jn=>jn.toastId===m.id?{...jn,height:ut}:jn):[{toastId:m.id,height:ut,position:m.position},...Cn])},[D,m.title,m.description,x,m.id]);let wi=ye.useCallback(()=>{le(!0),N(St.current),x(Ue=>Ue.filter(Ze=>Ze.toastId!==m.id)),setTimeout(()=>{E(m)},KO)},[m,E,x,St]);ye.useEffect(()=>{if(m.promise&&_e==="loading"||m.duration===1/0||m.type==="loading")return;let Ue;return T||y||ne&&Uc?(()=>{if(vi.current<Bt.current){let Ze=new Date().getTime()-Bt.current;me.current=me.current-Ze}vi.current=new Date().getTime()})():me.current!==1/0&&(Bt.current=new Date().getTime(),Ue=setTimeout(()=>{var Ze;(Ze=m.onAutoClose)==null||Ze.call(m,m),wi()},me.current)),()=>clearTimeout(Ue)},[T,y,m,_e,ne,Uc,wi]),ye.useEffect(()=>{m.delete&&wi()},[wi,m.delete]);function th(){var Ue,Ze,ut;return q!=null&&q.loading?ye.createElement("div",{className:Ti(M==null?void 0:M.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":_e==="loading"},q.loading):W?ye.createElement("div",{className:Ti(M==null?void 0:M.loader,(Ze=m==null?void 0:m.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":_e==="loading"},W):ye.createElement(AO,{className:Ti(M==null?void 0:M.loader,(ut=m==null?void 0:m.classNames)==null?void 0:ut.loader),visible:_e==="loading"})}return ye.createElement("li",{tabIndex:0,ref:Le,className:Ti(G,xe,M==null?void 0:M.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[_e],(t=m==null?void 0:m.classNames)==null?void 0:t[_e]),"data-sonner-toast":"","data-rich-colors":(i=m.richColors)!=null?i:_,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":D,"data-promise":!!m.promise,"data-swiped":we,"data-removed":ae,"data-visible":Be,"data-y-position":xi,"data-x-position":Vn,"data-index":b,"data-front":Ne,"data-swiping":ce,"data-dismissible":$,"data-type":_e,"data-invert":eh,"data-swipe-out":te,"data-swipe-direction":k,"data-expanded":!!(T||V&&D),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${ae?B:St.current}px`,"--initial-height":V?"auto":`${Z}px`,...A,...m.style},onDragEnd:()=>{K(!1),H(null),dt.current=null},onPointerDown:Ue=>{bi||!$||(Se.current=new Date,N(St.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(K(!0),dt.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,Ze,ut,Cn;if(te||!$)return;dt.current=null;let jn=Number(((Ue=Le.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yi=Number(((Ze=Le.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xr=new Date().getTime()-((ut=Se.current)==null?void 0:ut.getTime()),Wn=Y==="x"?jn:Yi,F=Math.abs(Wn)/xr;if(Math.abs(Wn)>=YO||F>.11){N(St.current),(Cn=m.onDismiss)==null||Cn.call(m,m),O(Y==="x"?jn>0?"right":"left":Yi>0?"down":"up"),wi(),re(!0),ge(!1);return}K(!1),H(null)},onPointerMove:Ue=>{var Ze,ut,Cn,jn;if(!dt.current||!$||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let Yi=Ue.clientY-dt.current.y,xr=Ue.clientX-dt.current.x,Wn=(ut=n.swipeDirections)!=null?ut:XO(z);!Y&&(Math.abs(xr)>1||Math.abs(Yi)>1)&&H(Math.abs(xr)>Math.abs(Yi)?"x":"y");let F={x:0,y:0};Y==="y"?(Wn.includes("top")||Wn.includes("bottom"))&&(Wn.includes("top")&&Yi<0||Wn.includes("bottom")&&Yi>0)&&(F.y=Yi):Y==="x"&&(Wn.includes("left")||Wn.includes("right"))&&(Wn.includes("left")&&xr<0||Wn.includes("right")&&xr>0)&&(F.x=xr),(Math.abs(F.x)>0||Math.abs(F.y)>0)&&ge(!0),(Cn=Le.current)==null||Cn.style.setProperty("--swipe-amount-x",`${F.x}px`),(jn=Le.current)==null||jn.style.setProperty("--swipe-amount-y",`${F.y}px`)}},ke&&!m.jsx?ye.createElement("button",{"aria-label":X,"data-disabled":bi,"data-close-button":!0,onClick:bi||!$?()=>{}:()=>{var Ue;wi(),(Ue=m.onDismiss)==null||Ue.call(m,m)},className:Ti(M==null?void 0:M.closeButton,(r=m==null?void 0:m.classNames)==null?void 0:r.closeButton)},(s=q==null?void 0:q.close)!=null?s:IO):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ye.createElement(ye.Fragment,null,_e||m.icon||m.promise?ye.createElement("div",{"data-icon":"",className:Ti(M==null?void 0:M.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||th():null,m.type!=="loading"?m.icon||(q==null?void 0:q[_e])||MO(_e):null):null,ye.createElement("div",{"data-content":"",className:Ti(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},ye.createElement("div",{"data-title":"",className:Ti(M==null?void 0:M.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?ye.createElement("div",{"data-description":"",className:Ti(I,ue,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&Sh(m.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Ue=>{var Ze,ut;Sh(m.cancel)&&$&&((ut=(Ze=m.cancel).onClick)==null||ut.call(Ze,Ue),wi())},className:Ti(M==null?void 0:M.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&Sh(m.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Ue=>{var Ze,ut;Sh(m.action)&&((ut=(Ze=m.action).onClick)==null||ut.call(Ze,Ue),!Ue.defaultPrevented&&wi())},className:Ti(M==null?void 0:M.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function L_(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function QO(n,e){let t={};return[n,e].forEach((i,r)=>{let s=r===1,a=s?"--mobile-offset":"--offset",o=s?WO:VO;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(c=>{i[c]===void 0?t[`${a}-${c}`]=o:t[`${a}-${c}`]=typeof i[c]=="number"?`${i[c]}px`:i[c]}):l(o)}),t}var ZO=S.forwardRef(function(n,e){let{invert:t,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:m,visibleToasts:v=HO,toastOptions:y,dir:x=L_(),gap:g=qO,loadingIcon:f,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:T}=n,[E,_]=ye.useState([]),C=ye.useMemo(()=>Array.from(new Set([i].concat(E.filter(ne=>ne.position).map(ne=>ne.position)))),[E,i]),[A,P]=ye.useState([]),[R,G]=ye.useState(!1),[I,j]=ye.useState(!1),[z,U]=ye.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ye.useRef(null),V=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=ye.useRef(null),q=ye.useRef(!1),X=ye.useCallback(ne=>{_(Y=>{var H;return(H=Y.find(k=>k.id===ne.id))!=null&&H.delete||Dn.dismiss(ne.id),Y.filter(({id:k})=>k!==ne.id)})},[]);return ye.useEffect(()=>Dn.subscribe(ne=>{if(ne.dismiss){_(Y=>Y.map(H=>H.id===ne.id?{...H,delete:!0}:H));return}setTimeout(()=>{QM.flushSync(()=>{_(Y=>{let H=Y.findIndex(k=>k.id===ne.id);return H!==-1?[...Y.slice(0,H),{...Y[H],...ne},...Y.slice(H+1)]:[ne,...Y]})})})}),[]),ye.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:Y})=>{U(Y?"dark":"light")})}catch{ne.addListener(({matches:H})=>{try{U(H?"dark":"light")}catch(k){console.error(k)}})}},[u]),ye.useEffect(()=>{E.length<=1&&G(!1)},[E]),ye.useEffect(()=>{let ne=Y=>{var H,k;r.every(O=>Y[O]||Y.code===O)&&(G(!0),(H=W.current)==null||H.focus()),Y.code==="Escape"&&(document.activeElement===W.current||(k=W.current)!=null&&k.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[r]),ye.useEffect(()=>{if(W.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,q.current=!1)}},[W.current]),ye.createElement("section",{ref:e,"aria-label":`${w} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ne,Y)=>{var H;let[k,O]=ne.split("-");return E.length?ye.createElement("ol",{key:ne,dir:x==="auto"?L_():x,tabIndex:-1,ref:W,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":k,"data-lifted":R&&E.length>1&&!s,"data-x-position":O,style:{"--front-toast-height":`${((H=A[0])==null?void 0:H.height)||0}px`,"--width":`${$O}px`,"--gap":`${g}px`,...m,...QO(l,c)},onBlur:D=>{q.current&&!D.currentTarget.contains(D.relatedTarget)&&(q.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||q.current||(q.current=!0,M.current=D.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{I||G(!1)},onDragEnd:()=>G(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},E.filter(D=>!D.position&&Y===0||D.position===ne).map((D,Q)=>{var ae,le;return ye.createElement(JO,{key:D.id,icons:b,index:Q,toast:D,defaultRichColors:h,duration:(ae=y==null?void 0:y.duration)!=null?ae:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:v,closeButton:(le=y==null?void 0:y.closeButton)!=null?le:a,interacting:I,position:ne,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:X,toasts:E.filter(ce=>ce.position==D.position),heights:A.filter(ce=>ce.position==D.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:f,expanded:R,pauseWhenPageIsHidden:T,swipeDirections:n.swipeDirections})})):null}))});const eF=({...n})=>{const{theme:e="system"}=CO();return d.jsx(ZO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var tF=Lb[" useId ".trim().toString()]||(()=>{}),nF=0;function Ol(n){const[e,t]=S.useState(tF());return nn(()=>{t(i=>i??String(nF++))},[n]),e?`radix-${e}`:""}const iF=["top","right","bottom","left"],Hs=Math.min,Jn=Math.max,Im=Math.round,_h=Math.floor,cr=n=>({x:n,y:n}),rF={left:"right",right:"left",bottom:"top",top:"bottom"},sF={start:"end",end:"start"};function Px(n,e,t){return Jn(n,Hs(e,t))}function Gr(n,e){return typeof n=="function"?n(e):n}function Hr(n){return n.split("-")[0]}function Ac(n){return n.split("-")[1]}function Nw(n){return n==="x"?"y":"x"}function Iw(n){return n==="y"?"height":"width"}const aF=new Set(["top","bottom"]);function sr(n){return aF.has(Hr(n))?"y":"x"}function jw(n){return Nw(sr(n))}function oF(n,e,t){t===void 0&&(t=!1);const i=Ac(n),r=jw(n),s=Iw(r);let a=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=jm(a)),[a,jm(a)]}function lF(n){const e=jm(n);return[Rx(n),e,Rx(e)]}function Rx(n){return n.replace(/start|end/g,e=>sF[e])}const N_=["left","right"],I_=["right","left"],cF=["top","bottom"],dF=["bottom","top"];function uF(n,e,t){switch(n){case"top":case"bottom":return t?e?I_:N_:e?N_:I_;case"left":case"right":return e?cF:dF;default:return[]}}function hF(n,e,t,i){const r=Ac(n);let s=uF(Hr(n),t==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(Rx)))),s}function jm(n){return n.replace(/left|right|bottom|top/g,e=>rF[e])}function pF(n){return{top:0,right:0,bottom:0,left:0,...n}}function qk(n){return typeof n!="number"?pF(n):{top:n,right:n,bottom:n,left:n}}function Dm(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function j_(n,e,t){let{reference:i,floating:r}=n;const s=sr(e),a=jw(e),o=Iw(a),l=Hr(e),c=s==="y",u=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[o]/2-r[o]/2;let m;switch(l){case"top":m={x:u,y:i.y-r.height};break;case"bottom":m={x:u,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-r.width,y:h};break;default:m={x:i.x,y:i.y}}switch(Ac(e)){case"start":m[a]-=p*(t&&c?-1:1);break;case"end":m[a]+=p*(t&&c?-1:1);break}return m}const mF=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:h}=j_(c,i,l),p=i,m={},v=0;for(let y=0;y<o.length;y++){const{name:x,fn:g}=o[y],{x:f,y:b,data:w,reset:T}=await g({x:u,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:c,platform:a,elements:{reference:n,floating:e}});u=f??u,h=b??h,m={...m,[x]:{...m[x],...w}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:u,y:h}=j_(c,p,l)),y=-1)}return{x:u,y:h,placement:p,strategy:r,middlewareData:m}};async function Qd(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Gr(e,n),v=qk(m),x=o[p?h==="floating"?"reference":"floating":h],g=Dm(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),f=h==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},T=Dm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:f,offsetParent:b,strategy:l}):f);return{top:(g.top-T.top+v.top)/w.y,bottom:(T.bottom-g.bottom+v.bottom)/w.y,left:(g.left-T.left+v.left)/w.x,right:(T.right-g.right+v.right)/w.x}}const fF=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Gr(n,e)||{};if(c==null)return{};const h=qk(u),p={x:t,y:i},m=jw(r),v=Iw(m),y=await a.getDimensions(c),x=m==="y",g=x?"top":"left",f=x?"bottom":"right",b=x?"clientHeight":"clientWidth",w=s.reference[v]+s.reference[m]-p[m]-s.floating[v],T=p[m]-s.reference[m],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let _=E?E[b]:0;(!_||!await(a.isElement==null?void 0:a.isElement(E)))&&(_=o.floating[b]||s.floating[v]);const C=w/2-T/2,A=_/2-y[v]/2-1,P=Hs(h[g],A),R=Hs(h[f],A),G=P,I=_-y[v]-R,j=_/2-y[v]/2+C,z=Px(G,j,I),U=!l.arrow&&Ac(r)!=null&&j!==z&&s.reference[v]/2-(j<G?P:R)-y[v]/2<0,W=U?j<G?j-G:j-I:0;return{[m]:p[m]+W,data:{[m]:z,centerOffset:j-z-W,...U&&{alignmentOffset:W}},reset:U}}}),gF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=Gr(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Hr(r),f=sr(o),b=Hr(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=p||(b||!y?[jm(o)]:lF(o)),E=v!=="none";!p&&E&&T.push(...hF(o,y,v,w));const _=[o,...T],C=await Qd(e,x),A=[];let P=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&A.push(C[g]),h){const j=oF(r,a,w);A.push(C[j[0]],C[j[1]])}if(P=[...P,{placement:r,overflows:A}],!A.every(j=>j<=0)){var R,G;const j=(((R=s.flip)==null?void 0:R.index)||0)+1,z=_[j];if(z&&(!(h==="alignment"?f!==sr(z):!1)||P.every(V=>V.overflows[0]>0&&sr(V.placement)===f)))return{data:{index:j,overflows:P},reset:{placement:z}};let U=(G=P.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:G.placement;if(!U)switch(m){case"bestFit":{var I;const W=(I=P.filter(V=>{if(E){const M=sr(V.placement);return M===f||M==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(M=>M>0).reduce((M,q)=>M+q,0)]).sort((V,M)=>V[1]-M[1])[0])==null?void 0:I[0];W&&(U=W);break}case"initialPlacement":U=o;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function D_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function O_(n){return iF.some(e=>n[e]>=0)}const yF=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Gr(n,e);switch(i){case"referenceHidden":{const s=await Qd(e,{...r,elementContext:"reference"}),a=D_(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:O_(a)}}}case"escaped":{const s=await Qd(e,{...r,altBoundary:!0}),a=D_(s,t.floating);return{data:{escapedOffsets:a,escaped:O_(a)}}}default:return{}}}}},Yk=new Set(["left","top"]);async function vF(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=Hr(t),o=Ac(t),l=sr(t)==="y",c=Yk.has(a)?-1:1,u=s&&l?-1:1,h=Gr(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const xF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:a,middlewareData:o}=e,l=await vF(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:a}}}}},bF=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:x=>{let{x:g,y:f}=x;return{x:g,y:f}}},...l}=Gr(n,e),c={x:t,y:i},u=await Qd(e,l),h=sr(Hr(r)),p=Nw(h);let m=c[p],v=c[h];if(s){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",f=m+u[x],b=m-u[g];m=Px(f,m,b)}if(a){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",f=v+u[x],b=v-u[g];v=Px(f,v,b)}const y=o.fn({...e,[p]:m,[h]:v});return{...y,data:{x:y.x-t,y:y.y-i,enabled:{[p]:s,[h]:a}}}}}},wF=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Gr(n,e),u={x:t,y:i},h=sr(r),p=Nw(h);let m=u[p],v=u[h];const y=Gr(o,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const b=p==="y"?"height":"width",w=s.reference[p]-s.floating[b]+x.mainAxis,T=s.reference[p]+s.reference[b]-x.mainAxis;m<w?m=w:m>T&&(m=T)}if(c){var g,f;const b=p==="y"?"width":"height",w=Yk.has(Hr(r)),T=s.reference[h]-s.floating[b]+(w&&((g=a.offset)==null?void 0:g[h])||0)+(w?0:x.crossAxis),E=s.reference[h]+s.reference[b]+(w?0:((f=a.offset)==null?void 0:f[h])||0)-(w?x.crossAxis:0);v<T?v=T:v>E&&(v=E)}return{[p]:m,[h]:v}}}},SF=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Gr(n,e),u=await Qd(e,c),h=Hr(r),p=Ac(r),m=sr(r)==="y",{width:v,height:y}=s.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(g=h,x=p==="end"?"top":"bottom");const f=y-u.top-u.bottom,b=v-u.left-u.right,w=Hs(y-u[x],f),T=Hs(v-u[g],b),E=!e.middlewareData.shift;let _=w,C=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=b),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(_=f),E&&!p){const P=Jn(u.left,0),R=Jn(u.right,0),G=Jn(u.top,0),I=Jn(u.bottom,0);m?C=v-2*(P!==0||R!==0?P+R:Jn(u.left,u.right)):_=y-2*(G!==0||I!==0?G+I:Jn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:_});const A=await a.getDimensions(o.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function wf(){return typeof window<"u"}function Pc(n){return Kk(n)?(n.nodeName||"").toLowerCase():"#document"}function ti(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function yr(n){var e;return(e=(Kk(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Kk(n){return wf()?n instanceof Node||n instanceof ti(n).Node:!1}function Hi(n){return wf()?n instanceof Element||n instanceof ti(n).Element:!1}function hr(n){return wf()?n instanceof HTMLElement||n instanceof ti(n).HTMLElement:!1}function F_(n){return!wf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ti(n).ShadowRoot}const _F=new Set(["inline","contents"]);function Fu(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Vi(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!_F.has(r)}const TF=new Set(["table","td","th"]);function EF(n){return TF.has(Pc(n))}const CF=[":popover-open",":modal"];function Sf(n){return CF.some(e=>{try{return n.matches(e)}catch{return!1}})}const MF=["transform","translate","scale","rotate","perspective"],kF=["transform","translate","scale","rotate","perspective","filter"],AF=["paint","layout","strict","content"];function Dw(n){const e=Ow(),t=Hi(n)?Vi(n):n;return MF.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||kF.some(i=>(t.willChange||"").includes(i))||AF.some(i=>(t.contain||"").includes(i))}function PF(n){let e=Vs(n);for(;hr(e)&&!lc(e);){if(Dw(e))return e;if(Sf(e))return null;e=Vs(e)}return null}function Ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RF=new Set(["html","body","#document"]);function lc(n){return RF.has(Pc(n))}function Vi(n){return ti(n).getComputedStyle(n)}function _f(n){return Hi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Vs(n){if(Pc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||F_(n)&&n.host||yr(n);return F_(e)?e.host:e}function Xk(n){const e=Vs(n);return lc(e)?n.ownerDocument?n.ownerDocument.body:n.body:hr(e)&&Fu(e)?e:Xk(e)}function Zd(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=Xk(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),a=ti(r);if(s){const o=Lx(a);return e.concat(a,a.visualViewport||[],Fu(r)?r:[],o&&t?Zd(o):[])}return e.concat(r,Zd(r,[],t))}function Lx(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Jk(n){const e=Vi(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=hr(n),s=r?n.offsetWidth:t,a=r?n.offsetHeight:i,o=Im(t)!==s||Im(i)!==a;return o&&(t=s,i=a),{width:t,height:i,$:o}}function Fw(n){return Hi(n)?n:n.contextElement}function Fl(n){const e=Fw(n);if(!hr(e))return cr(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=Jk(e);let a=(s?Im(t.width):t.width)/i,o=(s?Im(t.height):t.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const LF=cr(0);function Qk(n){const e=ti(n);return!Ow()||!e.visualViewport?LF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NF(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ti(n)?!1:e}function ro(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=Fw(n);let a=cr(1);e&&(i?Hi(i)&&(a=Fl(i)):a=Fl(n));const o=NF(s,t,i)?Qk(s):cr(0);let l=(r.left+o.x)/a.x,c=(r.top+o.y)/a.y,u=r.width/a.x,h=r.height/a.y;if(s){const p=ti(s),m=i&&Hi(i)?ti(i):i;let v=p,y=Lx(v);for(;y&&i&&m!==v;){const x=Fl(y),g=y.getBoundingClientRect(),f=Vi(y),b=g.left+(y.clientLeft+parseFloat(f.paddingLeft))*x.x,w=g.top+(y.clientTop+parseFloat(f.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=b,c+=w,v=ti(y),y=Lx(v)}}return Dm({width:u,height:h,x:l,y:c})}function Bw(n,e){const t=_f(n).scrollLeft;return e?e.left+t:ro(yr(n)).left+t}function Zk(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:Bw(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function IF(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",a=yr(i),o=e?Sf(e.floating):!1;if(i===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=cr(1);const u=cr(0),h=hr(i);if((h||!h&&!s)&&((Pc(i)!=="body"||Fu(a))&&(l=_f(i)),hr(i))){const m=ro(i);c=Fl(i),u.x=m.x+i.clientLeft,u.y=m.y+i.clientTop}const p=a&&!h&&!s?Zk(a,l,!0):cr(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function jF(n){return Array.from(n.getClientRects())}function DF(n){const e=yr(n),t=_f(n),i=n.ownerDocument.body,r=Jn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Jn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-t.scrollLeft+Bw(n);const o=-t.scrollTop;return Vi(i).direction==="rtl"&&(a+=Jn(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}function OF(n,e){const t=ti(n),i=yr(n),r=t.visualViewport;let s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;const c=Ow();(!c||c&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o,y:l}}const FF=new Set(["absolute","fixed"]);function BF(n,e){const t=ro(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=hr(n)?Fl(n):cr(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:a,height:o,x:l,y:c}}function B_(n,e,t){let i;if(e==="viewport")i=OF(n,t);else if(e==="document")i=DF(yr(n));else if(Hi(e))i=BF(e,t);else{const r=Qk(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Dm(i)}function eA(n,e){const t=Vs(n);return t===e||!Hi(t)||lc(t)?!1:Vi(t).position==="fixed"||eA(t,e)}function zF(n,e){const t=e.get(n);if(t)return t;let i=Zd(n,[],!1).filter(o=>Hi(o)&&Pc(o)!=="body"),r=null;const s=Vi(n).position==="fixed";let a=s?Vs(n):n;for(;Hi(a)&&!lc(a);){const o=Vi(a),l=Dw(a);!l&&o.position==="fixed"&&(r=null),(s?!l&&!r:!l&&o.position==="static"&&!!r&&FF.has(r.position)||Fu(a)&&!l&&eA(n,a))?i=i.filter(u=>u!==a):r=o,a=Vs(a)}return e.set(n,i),i}function UF(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const a=[...t==="clippingAncestors"?Sf(e)?[]:zF(e,this._c):[].concat(t),i],o=a[0],l=a.reduce((c,u)=>{const h=B_(e,u,r);return c.top=Jn(h.top,c.top),c.right=Hs(h.right,c.right),c.bottom=Hs(h.bottom,c.bottom),c.left=Jn(h.left,c.left),c},B_(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function GF(n){const{width:e,height:t}=Jk(n);return{width:e,height:t}}function HF(n,e,t){const i=hr(e),r=yr(e),s=t==="fixed",a=ro(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=cr(0);function c(){l.x=Bw(r)}if(i||!i&&!s)if((Pc(e)!=="body"||Fu(r))&&(o=_f(e)),i){const m=ro(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&c();s&&!i&&r&&c();const u=r&&!i&&!s?Zk(r,o):cr(0),h=a.left+o.scrollLeft-l.x-u.x,p=a.top+o.scrollTop-l.y-u.y;return{x:h,y:p,width:a.width,height:a.height}}function qg(n){return Vi(n).position==="static"}function z_(n,e){if(!hr(n)||Vi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return yr(n)===t&&(t=t.ownerDocument.body),t}function tA(n,e){const t=ti(n);if(Sf(n))return t;if(!hr(n)){let r=Vs(n);for(;r&&!lc(r);){if(Hi(r)&&!qg(r))return r;r=Vs(r)}return t}let i=z_(n,e);for(;i&&EF(i)&&qg(i);)i=z_(i,e);return i&&lc(i)&&qg(i)&&!Dw(i)?t:i||PF(n)||t}const VF=async function(n){const e=this.getOffsetParent||tA,t=this.getDimensions,i=await t(n.floating);return{reference:HF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function WF(n){return Vi(n).direction==="rtl"}const $F={convertOffsetParentRelativeRectToViewportRelativeRect:IF,getDocumentElement:yr,getClippingRect:UF,getOffsetParent:tA,getElementRects:VF,getClientRects:jF,getDimensions:GF,getScale:Fl,isElement:Hi,isRTL:WF};function nA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qF(n,e){let t=null,i;const r=yr(n);function s(){var o;clearTimeout(i),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:p,height:m}=c;if(o||e(),!p||!m)return;const v=_h(h),y=_h(r.clientWidth-(u+p)),x=_h(r.clientHeight-(h+m)),g=_h(u),b={rootMargin:-v+"px "+-y+"px "+-x+"px "+-g+"px",threshold:Jn(0,Hs(1,l))||1};let w=!0;function T(E){const _=E[0].intersectionRatio;if(_!==l){if(!w)return a();_?a(!1,_):i=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!nA(c,n.getBoundingClientRect())&&a(),w=!1}try{t=new IntersectionObserver(T,{...b,root:r.ownerDocument})}catch{t=new IntersectionObserver(T,b)}t.observe(n)}return a(!0),s}function YF(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Fw(n),u=r||s?[...c?Zd(c):[],...Zd(e)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const h=c&&o?qF(c,t):null;let p=-1,m=null;a&&(m=new ResizeObserver(g=>{let[f]=g;f&&f.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,y=l?ro(n):null;l&&x();function x(){const g=ro(n);y&&!nA(y,g)&&t(),y=g,v=requestAnimationFrame(x)}return t(),()=>{var g;u.forEach(f=>{r&&f.removeEventListener("scroll",t),s&&f.removeEventListener("resize",t)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const KF=xF,XF=bF,JF=gF,QF=SF,ZF=yF,U_=fF,eB=wF,tB=(n,e,t)=>{const i=new Map,r={platform:$F,...t},s={...r.platform,_c:i};return mF(n,e,{...r,platform:s})};var nB=typeof document<"u",iB=function(){},nm=nB?S.useLayoutEffect:iB;function Om(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Om(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!Om(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function iA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function G_(n,e){const t=iA(n);return Math.round(e*t)/t}function Yg(n){const e=S.useRef(n);return nm(()=>{e.current=n}),e}function rB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=n,[u,h]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=S.useState(i);Om(p,i)||m(i);const[v,y]=S.useState(null),[x,g]=S.useState(null),f=S.useCallback(V=>{V!==E.current&&(E.current=V,y(V))},[]),b=S.useCallback(V=>{V!==_.current&&(_.current=V,g(V))},[]),w=s||v,T=a||x,E=S.useRef(null),_=S.useRef(null),C=S.useRef(u),A=l!=null,P=Yg(l),R=Yg(r),G=Yg(c),I=S.useCallback(()=>{if(!E.current||!_.current)return;const V={placement:e,strategy:t,middleware:p};R.current&&(V.platform=R.current),tB(E.current,_.current,V).then(M=>{const q={...M,isPositioned:G.current!==!1};j.current&&!Om(C.current,q)&&(C.current=q,xo.flushSync(()=>{h(q)}))})},[p,e,t,R,G]);nm(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[c]);const j=S.useRef(!1);nm(()=>(j.current=!0,()=>{j.current=!1}),[]),nm(()=>{if(w&&(E.current=w),T&&(_.current=T),w&&T){if(P.current)return P.current(w,T,I);I()}},[w,T,I,P,A]);const z=S.useMemo(()=>({reference:E,floating:_,setReference:f,setFloating:b}),[f,b]),U=S.useMemo(()=>({reference:w,floating:T}),[w,T]),W=S.useMemo(()=>{const V={position:t,left:0,top:0};if(!U.floating)return V;const M=G_(U.floating,u.x),q=G_(U.floating,u.y);return o?{...V,transform:"translate("+M+"px, "+q+"px)",...iA(U.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:M,top:q}},[t,o,U.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:I,refs:z,elements:U,floatingStyles:W}),[u,I,z,U,W])}const sB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?U_({element:i.current,padding:r}).fn(t):{}:i?U_({element:i,padding:r}).fn(t):{}}}},aB=(n,e)=>({...KF(n),options:[n,e]}),oB=(n,e)=>({...XF(n),options:[n,e]}),lB=(n,e)=>({...eB(n),options:[n,e]}),cB=(n,e)=>({...JF(n),options:[n,e]}),dB=(n,e)=>({...QF(n),options:[n,e]}),uB=(n,e)=>({...ZF(n),options:[n,e]}),hB=(n,e)=>({...sB(n),options:[n,e]});var pB="Arrow",rA=S.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return d.jsx(qe.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});rA.displayName=pB;var mB=rA;function fB(n){const[e,t]=S.useState(void 0);return nn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var zw="Popper",[sA,Tf]=bo(zw),[gB,aA]=sA(zw),oA=n=>{const{__scopePopper:e,children:t}=n,[i,r]=S.useState(null);return d.jsx(gB,{scope:e,anchor:i,onAnchorChange:r,children:t})};oA.displayName=zw;var lA="PopperAnchor",cA=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=aA(lA,t),a=S.useRef(null),o=st(e,a);return S.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:d.jsx(qe.div,{...r,ref:o})});cA.displayName=lA;var Uw="PopperContent",[yB,vB]=sA(Uw),dA=S.forwardRef((n,e)=>{var D,Q,ae,le,ce,K;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...y}=n,x=aA(Uw,t),[g,f]=S.useState(null),b=st(e,te=>f(te)),[w,T]=S.useState(null),E=fB(w),_=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,A=i+(s!=="center"?"-"+s:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(c)?c:[c],G=R.length>0,I={padding:P,boundary:R.filter(bB),altBoundary:G},{refs:j,floatingStyles:z,placement:U,isPositioned:W,middlewareData:V}=rB({strategy:"fixed",placement:A,whileElementsMounted:(...te)=>YF(...te,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[aB({mainAxis:r+C,alignmentAxis:a}),l&&oB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?lB():void 0,...I}),l&&cB({...I}),dB({...I,apply:({elements:te,rects:re,availableWidth:we,availableHeight:ge})=>{const{width:B,height:N}=re.reference,Z=te.floating.style;Z.setProperty("--radix-popper-available-width",`${we}px`),Z.setProperty("--radix-popper-available-height",`${ge}px`),Z.setProperty("--radix-popper-anchor-width",`${B}px`),Z.setProperty("--radix-popper-anchor-height",`${N}px`)}}),w&&hB({element:w,padding:o}),wB({arrowWidth:_,arrowHeight:C}),p&&uB({strategy:"referenceHidden",...I})]}),[M,q]=pA(U),X=en(v);nn(()=>{W&&(X==null||X())},[W,X]);const ne=(D=V.arrow)==null?void 0:D.x,Y=(Q=V.arrow)==null?void 0:Q.y,H=((ae=V.arrow)==null?void 0:ae.centerOffset)!==0,[k,O]=S.useState();return nn(()=>{g&&O(window.getComputedStyle(g).zIndex)},[g]),d.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:W?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:k,"--radix-popper-transform-origin":[(le=V.transformOrigin)==null?void 0:le.x,(ce=V.transformOrigin)==null?void 0:ce.y].join(" "),...((K=V.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(yB,{scope:t,placedSide:M,onArrowChange:T,arrowX:ne,arrowY:Y,shouldHideArrow:H,children:d.jsx(qe.div,{"data-side":M,"data-align":q,...y,ref:b,style:{...y.style,animation:W?void 0:"none"}})})})});dA.displayName=Uw;var uA="PopperArrow",xB={top:"bottom",right:"left",bottom:"top",left:"right"},hA=S.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=vB(uA,i),a=xB[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(mB,{...r,ref:t,style:{...r.style,display:"block"}})})});hA.displayName=uA;function bB(n){return n!==null}var wB=n=>({name:"transformOrigin",options:n,fn(e){var x,g,f;const{placement:t,rects:i,middlewareData:r}=e,a=((x=r.arrow)==null?void 0:x.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,u]=pA(t),h={start:"0%",center:"50%",end:"100%"}[u],p=(((g=r.arrow)==null?void 0:g.x)??0)+o/2,m=(((f=r.arrow)==null?void 0:f.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=a?h:`${p}px`,y=`${-l}px`):c==="top"?(v=a?h:`${p}px`,y=`${i.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=a?h:`${m}px`):c==="left"&&(v=`${i.floating.width+l}px`,y=a?h:`${m}px`),{data:{x:v,y}}}});function pA(n){const[e,t="center"]=n.split("-");return[e,t]}var SB=oA,mA=cA,fA=dA,gA=hA,[Ef,iK]=bo("Tooltip",[Tf]),Gw=Tf(),yA="TooltipProvider",_B=700,H_="tooltip.open",[TB,vA]=Ef(yA),xA=n=>{const{__scopeTooltip:e,delayDuration:t=_B,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,a=S.useRef(!0),o=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(TB,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(c=>{o.current=c},[]),disableHoverableContent:r,children:s})};xA.displayName=yA;var bA="Tooltip",[rK,Cf]=Ef(bA),Nx="TooltipTrigger",EB=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Cf(Nx,t),s=vA(Nx,t),a=Gw(t),o=S.useRef(null),l=st(e,o,r.onTriggerChange),c=S.useRef(!1),u=S.useRef(!1),h=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(mA,{asChild:!0,...a,children:d.jsx(qe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Fe(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:Fe(n.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:Fe(n.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Fe(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:Fe(n.onBlur,r.onClose),onClick:Fe(n.onClick,r.onClose)})})});EB.displayName=Nx;var CB="TooltipPortal",[sK,MB]=Ef(CB,{forceMount:void 0}),cc="TooltipContent",wA=S.forwardRef((n,e)=>{const t=MB(cc,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,a=Cf(cc,n.__scopeTooltip);return d.jsx(gr,{present:i||a.open,children:a.disableHoverableContent?d.jsx(SA,{side:r,...s,ref:e}):d.jsx(kB,{side:r,...s,ref:e})})}),kB=S.forwardRef((n,e)=>{const t=Cf(cc,n.__scopeTooltip),i=vA(cc,n.__scopeTooltip),r=S.useRef(null),s=st(e,r),[a,o]=S.useState(null),{trigger:l,onClose:c}=t,u=r.current,{onPointerInTransitChange:h}=i,p=S.useCallback(()=>{o(null),h(!1)},[h]),m=S.useCallback((v,y)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},f=NB(g,x.getBoundingClientRect()),b=IB(g,f),w=jB(y.getBoundingClientRect()),T=OB([...b,...w]);o(T),h(!0)},[h]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(l&&u){const v=x=>m(x,u),y=x=>m(x,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",y)}}},[l,u,m,p]),S.useEffect(()=>{if(a){const v=y=>{const x=y.target,g={x:y.clientX,y:y.clientY},f=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),b=!DB(g,a);f?p():b&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,a,c,p]),d.jsx(SA,{...n,ref:s})}),[AB,PB]=Ef(bA,{isInside:!1}),RB=Mj("TooltipContent"),SA=S.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=Cf(cc,t),c=Gw(t),{onClose:u}=l;return S.useEffect(()=>(document.addEventListener(H_,u),()=>document.removeEventListener(H_,u)),[u]),S.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(fA,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(RB,{children:i}),d.jsx(AB,{scope:t,isInside:!0,children:d.jsx(Kj,{id:l.contentId,role:"tooltip",children:r||i})})]})})});wA.displayName=cc;var _A="TooltipArrow",LB=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Gw(t);return PB(_A,t).isInside?null:d.jsx(gA,{...r,...i,ref:e})});LB.displayName=_A;function NB(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function IB(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function jB(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function DB(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,h=l.x,p=l.y;u>i!=p>i&&t<(h-c)*(i-u)/(p-u)+c&&(r=!r)}return r}function OB(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),FB(e)}function FB(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var BB=xA,TA=wA;const zB=BB,UB=S.forwardRef(({className:n,sideOffset:e=4,...t},i)=>d.jsx(TA,{ref:i,sideOffset:e,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));UB.displayName=TA.displayName;var Mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kf=typeof window>"u"||"Deno"in globalThis;function Ri(){}function GB(n,e){return typeof n=="function"?n(e):n}function HB(n){return typeof n=="number"&&n>=0&&n!==1/0}function VB(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ix(n,e){return typeof n=="function"?n(e):n}function WB(n,e){return typeof n=="function"?n(e):n}function V_(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:a,stale:o}=n;if(a){if(i){if(e.queryHash!==Hw(a,e.options))return!1}else if(!tu(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||s&&!s(e))}function W_(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(eu(e.options.mutationKey)!==eu(s))return!1}else if(!tu(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function Hw(n,e){return((e==null?void 0:e.queryKeyHashFn)||eu)(n)}function eu(n){return JSON.stringify(n,(e,t)=>jx(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function tu(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>tu(n[t],e[t])):!1}function EA(n,e){if(n===e)return n;const t=$_(n)&&$_(e);if(t||jx(n)&&jx(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),a=s.length,o=t?[]:{},l=new Set(i);let c=0;for(let u=0;u<a;u++){const h=t?u:s[u];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(o[h]=void 0,c++):(o[h]=EA(n[h],e[h]),o[h]===n[h]&&n[h]!==void 0&&c++)}return r===a&&c===r?n:o}return e}function $_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function jx(n){if(!q_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!q_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function q_(n){return Object.prototype.toString.call(n)==="[object Object]"}function $B(n){return new Promise(e=>{setTimeout(e,n)})}function qB(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?EA(n,e):e}function YB(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function KB(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var Vw=Symbol();function CA(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Vw?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Da,bs,Wl,RE,XB=(RE=class extends Mf{constructor(){super();it(this,Da);it(this,bs);it(this,Wl);He(this,Wl,e=>{if(!kf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){oe(this,bs)||this.setEventListener(oe(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,bs))==null||e.call(this),He(this,bs,void 0))}setEventListener(e){var t;He(this,Wl,e),(t=oe(this,bs))==null||t.call(this),He(this,bs,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){oe(this,Da)!==e&&(He(this,Da,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof oe(this,Da)=="boolean"?oe(this,Da):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Da=new WeakMap,bs=new WeakMap,Wl=new WeakMap,RE),MA=new XB,$l,ws,ql,LE,JB=(LE=class extends Mf{constructor(){super();it(this,$l,!0);it(this,ws);it(this,ql);He(this,ql,e=>{if(!kf&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){oe(this,ws)||this.setEventListener(oe(this,ql))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,ws))==null||e.call(this),He(this,ws,void 0))}setEventListener(e){var t;He(this,ql,e),(t=oe(this,ws))==null||t.call(this),He(this,ws,e(this.setOnline.bind(this)))}setOnline(e){oe(this,$l)!==e&&(He(this,$l,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return oe(this,$l)}},$l=new WeakMap,ws=new WeakMap,ql=new WeakMap,LE),Fm=new JB;function QB(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function ZB(n){return Math.min(1e3*2**n,3e4)}function kA(n){return(n??"online")==="online"?Fm.isOnline():!0}var AA=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Kg(n){return n instanceof AA}function PA(n){let e=!1,t=0,i=!1,r;const s=QB(),a=y=>{var x;i||(p(new AA(y)),(x=n.abort)==null||x.call(n))},o=()=>{e=!0},l=()=>{e=!1},c=()=>MA.isFocused()&&(n.networkMode==="always"||Fm.isOnline())&&n.canRun(),u=()=>kA(n.networkMode)&&n.canRun(),h=y=>{var x;i||(i=!0,(x=n.onSuccess)==null||x.call(n,y),r==null||r(),s.resolve(y))},p=y=>{var x;i||(i=!0,(x=n.onError)==null||x.call(n,y),r==null||r(),s.reject(y))},m=()=>new Promise(y=>{var x;r=g=>{(i||c())&&y(g)},(x=n.onPause)==null||x.call(n)}).then(()=>{var y;r=void 0,i||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(i)return;let y;const x=t===0?n.initialPromise:void 0;try{y=x??n.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(i)return;const f=n.retry??(kf?0:3),b=n.retryDelay??ZB,w=typeof b=="function"?b(t,g):b,T=f===!0||typeof f=="number"&&t<f||typeof f=="function"&&f(t,g);if(e||!T){p(g);return}t++,(E=n.onFail)==null||E.call(n,t,g),$B(w).then(()=>c()?void 0:m()).then(()=>{e?p(g):v()})})};return{promise:s,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),s)}}var e4=n=>setTimeout(n,0);function t4(){let n=[],e=0,t=o=>{o()},i=o=>{o()},r=e4;const s=o=>{e?n.push(o):r(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&r(()=>{i(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{r=o}}}var An=t4(),Oa,NE,RA=(NE=class{constructor(){it(this,Oa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HB(this.gcTime)&&He(this,Oa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(kf?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Oa)&&(clearTimeout(oe(this,Oa)),He(this,Oa,void 0))}},Oa=new WeakMap,NE),Yl,Fa,ci,Ba,Sn,ku,za,Ni,kr,IE,n4=(IE=class extends RA{constructor(e){super();it(this,Ni);it(this,Yl);it(this,Fa);it(this,ci);it(this,Ba);it(this,Sn);it(this,ku);it(this,za);He(this,za,!1),He(this,ku,e.defaultOptions),this.setOptions(e.options),this.observers=[],He(this,Ba,e.client),He(this,ci,oe(this,Ba).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,He(this,Yl,r4(this.options)),this.state=e.state??oe(this,Yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=oe(this,Sn))==null?void 0:e.promise}setOptions(e){this.options={...oe(this,ku),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,ci).remove(this)}setData(e,t){const i=qB(this.state.data,e,this.options);return vn(this,Ni,kr).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){vn(this,Ni,kr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=oe(this,Sn))==null?void 0:i.promise;return(r=oe(this,Sn))==null||r.cancel(e),t?t.then(Ri).catch(Ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Yl))}isActive(){return this.observers.some(e=>WB(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ix(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!VB(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=oe(this,Sn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=oe(this,Sn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),oe(this,ci).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(oe(this,Sn)&&(oe(this,za)?oe(this,Sn).cancel({revert:!0}):oe(this,Sn).cancelRetry()),this.scheduleGc()),oe(this,ci).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vn(this,Ni,kr).call(this,{type:"invalidate"})}fetch(e,t){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Sn))return oe(this,Sn).continueRetry(),oe(this,Sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,r=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(He(this,za,!0),i.signal)})},s=()=>{const p=CA(this.options,t),v=(()=>{const y={client:oe(this,Ba),queryKey:this.queryKey,meta:this.meta};return r(y),y})();return He(this,za,!1),this.options.persister?this.options.persister(p,v,this):p(v)},o=(()=>{const p={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:oe(this,Ba),state:this.state,fetchFn:s};return r(p),p})();(c=this.options.behavior)==null||c.onFetch(o,this),He(this,Fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&vn(this,Ni,kr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,v,y,x;Kg(p)&&p.silent||vn(this,Ni,kr).call(this,{type:"error",error:p}),Kg(p)||((v=(m=oe(this,ci).config).onError)==null||v.call(m,p,this),(x=(y=oe(this,ci).config).onSettled)==null||x.call(y,this.state.data,p,this)),this.scheduleGc()};return He(this,Sn,PA({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var m,v,y,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){l(g);return}(v=(m=oe(this,ci).config).onSuccess)==null||v.call(m,p,this),(x=(y=oe(this,ci).config).onSettled)==null||x.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{vn(this,Ni,kr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{vn(this,Ni,kr).call(this,{type:"pause"})},onContinue:()=>{vn(this,Ni,kr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),oe(this,Sn).start()}},Yl=new WeakMap,Fa=new WeakMap,ci=new WeakMap,Ba=new WeakMap,Sn=new WeakMap,ku=new WeakMap,za=new WeakMap,Ni=new WeakSet,kr=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...i4(i.data,this.options),fetchMeta:e.meta??null};case"success":return He(this,Fa,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Kg(r)&&r.revert&&oe(this,Fa)?{...oe(this,Fa),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),An.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),oe(this,ci).notify({query:this,type:"updated",action:e})})},IE);function i4(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kA(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function r4(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Qi,jE,s4=(jE=class extends Mf{constructor(e={}){super();it(this,Qi);this.config=e,He(this,Qi,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??Hw(r,t);let a=this.get(s);return a||(a=new n4({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){oe(this,Qi).has(e.queryHash)||(oe(this,Qi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=oe(this,Qi).get(e.queryHash);t&&(e.destroy(),t===e&&oe(this,Qi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,Qi).get(e)}getAll(){return[...oe(this,Qi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>V_(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>V_(e,i)):t}notify(e){An.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){An.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qi=new WeakMap,jE),Zi,Mn,Ua,er,hs,DE,a4=(DE=class extends RA{constructor(e){super();it(this,er);it(this,Zi);it(this,Mn);it(this,Ua);this.mutationId=e.mutationId,He(this,Mn,e.mutationCache),He(this,Zi,[]),this.state=e.state||o4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,Zi).includes(e)||(oe(this,Zi).push(e),this.clearGcTimeout(),oe(this,Mn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){He(this,Zi,oe(this,Zi).filter(t=>t!==e)),this.scheduleGc(),oe(this,Mn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,Zi).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Mn).remove(this))}continue(){var e;return((e=oe(this,Ua))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,u,h,p,m,v,y,x,g,f,b,w,T,E,_,C;const t=()=>{vn(this,er,hs).call(this,{type:"continue"})};He(this,Ua,PA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{vn(this,er,hs).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{vn(this,er,hs).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Mn).canRun(this)}));const i=this.state.status==="pending",r=!oe(this,Ua).canStart();try{if(i)t();else{vn(this,er,hs).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(s=oe(this,Mn).config).onMutate)==null?void 0:a.call(s,e,this));const P=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));P!==this.state.context&&vn(this,er,hs).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const A=await oe(this,Ua).start();return await((u=(c=oe(this,Mn).config).onSuccess)==null?void 0:u.call(c,A,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,A,e,this.state.context)),await((v=(m=oe(this,Mn).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,A,null,e,this.state.context)),vn(this,er,hs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((f=(g=oe(this,Mn).config).onError)==null?void 0:f.call(g,A,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,A,e,this.state.context)),await((E=(T=oe(this,Mn).config).onSettled)==null?void 0:E.call(T,void 0,A,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,A,e,this.state.context)),A}finally{vn(this,er,hs).call(this,{type:"error",error:A})}}finally{oe(this,Mn).runNext(this)}}},Zi=new WeakMap,Mn=new WeakMap,Ua=new WeakMap,er=new WeakSet,hs=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),An.batch(()=>{oe(this,Zi).forEach(i=>{i.onMutationUpdate(e)}),oe(this,Mn).notify({mutation:this,type:"updated",action:e})})},DE);function o4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lr,Ii,Au,OE,l4=(OE=class extends Mf{constructor(e={}){super();it(this,Lr);it(this,Ii);it(this,Au);this.config=e,He(this,Lr,new Set),He(this,Ii,new Map),He(this,Au,0)}build(e,t,i){const r=new a4({mutationCache:this,mutationId:++nh(this,Au)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){oe(this,Lr).add(e);const t=Th(e);if(typeof t=="string"){const i=oe(this,Ii).get(t);i?i.push(e):oe(this,Ii).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(oe(this,Lr).delete(e)){const t=Th(e);if(typeof t=="string"){const i=oe(this,Ii).get(t);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&oe(this,Ii).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Th(e);if(typeof t=="string"){const i=oe(this,Ii).get(t),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const t=Th(e);if(typeof t=="string"){const r=(i=oe(this,Ii).get(t))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){An.batch(()=>{oe(this,Lr).forEach(e=>{this.notify({type:"removed",mutation:e})}),oe(this,Lr).clear(),oe(this,Ii).clear()})}getAll(){return Array.from(oe(this,Lr))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>W_(t,i))}findAll(e={}){return this.getAll().filter(t=>W_(e,t))}notify(e){An.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return An.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ri))))}},Lr=new WeakMap,Ii=new WeakMap,Au=new WeakMap,OE);function Th(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Y_(n){return{onFetch:(e,t)=>{var u,h,p,m,v;const i=e.options,r=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},g=CA(e.options,e.fetchOptions),f=async(b,w,T)=>{if(y)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:w,direction:T?"backward":"forward",meta:e.options.meta};return x(R),R})(),C=await g(_),{maxPages:A}=e.options,P=T?KB:YB;return{pages:P(b.pages,C,A),pageParams:P(b.pageParams,w,A)}};if(r&&s.length){const b=r==="backward",w=b?c4:K_,T={pages:s,pageParams:a},E=w(i,T);o=await f(T,E,b)}else{const b=n??s.length;do{const w=l===0?a[0]??i.initialPageParam:K_(i,o);if(l>0&&w==null)break;o=await f(o,w),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function K_(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function c4(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var Pt,Ss,_s,Kl,Xl,Ts,Jl,Ql,FE,d4=(FE=class{constructor(n={}){it(this,Pt);it(this,Ss);it(this,_s);it(this,Kl);it(this,Xl);it(this,Ts);it(this,Jl);it(this,Ql);He(this,Pt,n.queryCache||new s4),He(this,Ss,n.mutationCache||new l4),He(this,_s,n.defaultOptions||{}),He(this,Kl,new Map),He(this,Xl,new Map),He(this,Ts,0)}mount(){nh(this,Ts)._++,oe(this,Ts)===1&&(He(this,Jl,MA.subscribe(async n=>{n&&(await this.resumePausedMutations(),oe(this,Pt).onFocus())})),He(this,Ql,Fm.subscribe(async n=>{n&&(await this.resumePausedMutations(),oe(this,Pt).onOnline())})))}unmount(){var n,e;nh(this,Ts)._--,oe(this,Ts)===0&&((n=oe(this,Jl))==null||n.call(this),He(this,Jl,void 0),(e=oe(this,Ql))==null||e.call(this),He(this,Ql,void 0))}isFetching(n){return oe(this,Pt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return oe(this,Ss).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=oe(this,Pt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=oe(this,Pt).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ix(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return oe(this,Pt).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=oe(this,Pt).get(i.queryHash),s=r==null?void 0:r.state.data,a=GB(e,s);if(a!==void 0)return oe(this,Pt).build(this,i).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return An.batch(()=>oe(this,Pt).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=oe(this,Pt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=oe(this,Pt);An.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=oe(this,Pt);return An.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=An.batch(()=>oe(this,Pt).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(Ri).catch(Ri)}invalidateQueries(n,e={}){return An.batch(()=>(oe(this,Pt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=An.batch(()=>oe(this,Pt).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(Ri)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Ri)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=oe(this,Pt).build(this,e);return t.isStaleByTime(Ix(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ri).catch(Ri)}fetchInfiniteQuery(n){return n.behavior=Y_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ri).catch(Ri)}ensureInfiniteQueryData(n){return n.behavior=Y_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Fm.isOnline()?oe(this,Ss).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Pt)}getMutationCache(){return oe(this,Ss)}getDefaultOptions(){return oe(this,_s)}setDefaultOptions(n){He(this,_s,n)}setQueryDefaults(n,e){oe(this,Kl).set(eu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...oe(this,Kl).values()],t={};return e.forEach(i=>{tu(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){oe(this,Xl).set(eu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...oe(this,Xl).values()],t={};return e.forEach(i=>{tu(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...oe(this,_s).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Hw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Vw&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...oe(this,_s).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){oe(this,Pt).clear(),oe(this,Ss).clear()}},Pt=new WeakMap,Ss=new WeakMap,_s=new WeakMap,Kl=new WeakMap,Xl=new WeakMap,Ts=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,FE),u4=S.createContext(void 0),h4=({client:n,children:e})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(u4.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nu.apply(this,arguments)}var Ms;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ms||(Ms={}));const X_="popstate";function p4(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return Dx("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:NA(r)}return f4(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function LA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m4(){return Math.random().toString(36).substr(2,8)}function J_(n,e){return{usr:n.state,key:n.key,idx:e}}function Dx(n,e,t,i){return t===void 0&&(t=null),nu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Rc(e):e,{state:t,key:e&&e.key||i||m4()})}function NA(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Rc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function f4(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=Ms.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(nu({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=Ms.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:o,location:y.location,delta:g})}function p(x,g){o=Ms.Push;let f=Dx(y.location,x,g);c=u()+1;let b=J_(f,c),w=y.createHref(f);try{a.pushState(b,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function m(x,g){o=Ms.Replace;let f=Dx(y.location,x,g);c=u();let b=J_(f,c),w=y.createHref(f);a.replaceState(b,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function v(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,f=typeof x=="string"?x:NA(x);return f=f.replace(/ $/,"%20"),Vt(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let y={get action(){return o},get location(){return n(r,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(X_,h),l=x,()=>{r.removeEventListener(X_,h),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return a.go(x)}};return y}var Q_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Q_||(Q_={}));function g4(n,e,t){return t===void 0&&(t="/"),y4(n,e,t,!1)}function y4(n,e,t,i){let r=typeof e=="string"?Rc(e):e,s=DA(r.pathname||"/",t);if(s==null)return null;let a=IA(n);v4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=A4(s);o=M4(a[l],c,i)}return o}function IA(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=qa([i,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IA(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:E4(c,s.index),routesMeta:u})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of jA(s.path))r(s,a,l)}),e}function jA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=jA(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function v4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:C4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const x4=/^:[\w-]+$/,b4=3,w4=2,S4=1,_4=10,T4=-2,Z_=n=>n==="*";function E4(n,e){let t=n.split("/"),i=t.length;return t.some(Z_)&&(i+=T4),e&&(i+=w4),t.filter(r=>!Z_(r)).reduce((r,s)=>r+(x4.test(s)?b4:s===""?S4:_4),i)}function C4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function M4(n,e,t){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=e1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&t&&!i[i.length-1].route.index&&(h=e1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:qa([s,h.pathname]),pathnameBase:N4(qa([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=qa([s,h.pathnameBase]))}return a}function e1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=k4(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,u,h)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[h];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:n}}function k4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),LA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function A4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function DA(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function P4(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Rc(n):n;return{pathname:t?t.startsWith("/")?t:R4(t,e):e,search:I4(i),hash:j4(r)}}function R4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Xg(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function OA(n,e){let t=L4(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function FA(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Rc(n):(r=nu({},n),Vt(!r.pathname||!r.pathname.includes("?"),Xg("?","pathname","search",r)),Vt(!r.pathname||!r.pathname.includes("#"),Xg("#","pathname","hash",r)),Vt(!r.search||!r.search.includes("#"),Xg("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=P4(r,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const qa=n=>n.join("/").replace(/\/\/+/g,"/"),N4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),I4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,j4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function D4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const BA=["post","put","patch","delete"];new Set(BA);const O4=["get",...BA];new Set(O4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iu.apply(this,arguments)}const Ww=S.createContext(null),F4=S.createContext(null),Bu=S.createContext(null),Af=S.createContext(null),wo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),zA=S.createContext(null);function zu(){return S.useContext(Af)!=null}function Pf(){return zu()||Vt(!1),S.useContext(Af).location}function UA(n){S.useContext(Bu).static||S.useLayoutEffect(n)}function Rf(){let{isDataRoute:n}=S.useContext(wo);return n?J4():B4()}function B4(){zu()||Vt(!1);let n=S.useContext(Ww),{basename:e,future:t,navigator:i}=S.useContext(Bu),{matches:r}=S.useContext(wo),{pathname:s}=Pf(),a=JSON.stringify(OA(r,t.v7_relativeSplatPath)),o=S.useRef(!1);return UA(()=>{o.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let h=FA(c,JSON.parse(a),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qa([e,h.pathname])),(u.replace?i.replace:i.push)(h,u.state,u)},[e,i,a,s,n])}function z4(n,e){return U4(n,e)}function U4(n,e,t,i){zu()||Vt(!1);let{navigator:r}=S.useContext(Bu),{matches:s}=S.useContext(wo),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Pf(),u;if(e){var h;let x=typeof e=="string"?Rc(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Vt(!1),u=x}else u=c;let p=u.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=g4(n,{pathname:m}),y=$4(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:qa([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:qa([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,i);return e&&y?S.createElement(Af.Provider,{value:{location:iu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ms.Pop}},y):y}function G4(){let n=X4(),e=D4(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:r},t):null,null)}const H4=S.createElement(G4,null);class V4 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(wo.Provider,{value:this.props.routeContext},S.createElement(zA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W4(n){let{routeContext:e,match:t,children:i}=n,r=S.useContext(Ww);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(wo.Provider,{value:e},i)}function $4(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Vt(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:m}=t,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,p)=>{let m,v=!1,y=null,x=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||H4,l&&(c<0&&p===0?(v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),f=()=>{let b;return m?b=y:v?b=x:h.route.Component?b=S.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,S.createElement(W4,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(V4,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var GA=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(GA||{}),Bm=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Bm||{});function q4(n){let e=S.useContext(Ww);return e||Vt(!1),e}function Y4(n){let e=S.useContext(F4);return e||Vt(!1),e}function K4(n){let e=S.useContext(wo);return e||Vt(!1),e}function HA(n){let e=K4(),t=e.matches[e.matches.length-1];return t.route.id||Vt(!1),t.route.id}function X4(){var n;let e=S.useContext(zA),t=Y4(Bm.UseRouteError),i=HA(Bm.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function J4(){let{router:n}=q4(GA.UseNavigateStable),e=HA(Bm.UseNavigateStable),t=S.useRef(!1);return UA(()=>{t.current=!0}),S.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,iu({fromRouteId:e},s)))},[n,e])}function Q4(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Z4(n){let{to:e,replace:t,state:i,relative:r}=n;zu()||Vt(!1);let{future:s,static:a}=S.useContext(Bu),{matches:o}=S.useContext(wo),{pathname:l}=Pf(),c=Rf(),u=FA(e,OA(o,s.v7_relativeSplatPath),l,r==="path"),h=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(h),{replace:t,state:i,relative:r}),[c,h,r,t,i]),null}function dl(n){Vt(!1)}function e5(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Ms.Pop,navigator:s,static:a=!1,future:o}=n;zu()&&Vt(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:a,future:iu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=Rc(i));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:v="default"}=i,y=S.useMemo(()=>{let x=DA(u,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:v},navigationType:r}},[l,u,h,p,m,v,r]);return y==null?null:S.createElement(Bu.Provider,{value:c},S.createElement(Af.Provider,{children:t,value:y}))}function t5(n){let{children:e,location:t}=n;return z4(Ox(e),t)}new Promise(()=>{});function Ox(n,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(n,(i,r)=>{if(!S.isValidElement(i))return;let s=[...e,r];if(i.type===S.Fragment){t.push.apply(t,Ox(i.props.children,s));return}i.type!==dl&&Vt(!1),!i.props.index||!i.props.children||Vt(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Ox(i.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const n5="6";try{window.__reactRouterVersion=n5}catch{}const i5="startTransition",t1=Lb[i5];function r5(n){let{basename:e,children:t,future:i,window:r}=n,s=S.useRef();s.current==null&&(s.current=p4({window:r,v5Compat:!0}));let a=s.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},u=S.useCallback(h=>{c&&t1?t1(()=>l(h)):l(h)},[l,c]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.useEffect(()=>Q4(i),[i]),S.createElement(e5,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:i})}var n1;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(n1||(n1={}));var i1;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(i1||(i1={}));var ir=function(){return ir=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ir.apply(this,arguments)};function Lc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function s5(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(i.next(u))}catch(h){a(h)}}function l(u){try{c(i.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):r(u.value).then(o,l)}c((i=i.apply(n,e||[])).next())})}function a5(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}const o5=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class $w extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class l5 extends $w{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class r1 extends $w{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s1 extends $w{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fx;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Fx||(Fx={}));class c5{constructor(e,{headers:t={},customFetch:i,region:r=Fx.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=o5(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return s5(this,arguments,void 0,function*(t,i={}){var r;let s,a;try{const{headers:o,method:l,body:c,signal:u,timeout:h}=i;let p={},{region:m}=i;m||(m=this.region);const v=new URL(`${this.url}/${t}`);m&&m!=="any"&&(p["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(p["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(p["Content-Type"]="application/json",y=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?y=JSON.stringify(c):y=c;let x=u;h&&(a=new AbortController,s=setTimeout(()=>a.abort(),h),u?(x=a.signal,u.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:y,signal:x}).catch(T=>{throw new l5(T)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new r1(g);if(!g.ok)throw new s1(g);let b=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield g.json():b==="application/octet-stream"||b==="application/pdf"?w=yield g.blob():b==="text/event-stream"?w=g:b==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof s1||o instanceof r1?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var d5=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},u5=class{constructor(n){var e,t,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var h,p;if(t.method!=="HEAD"){var m;const g=await s.text();g===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((m=t.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const y=(h=t.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=s.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&x&&x.length>1&&(l=parseInt(x[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,u="OK")}catch{s.status===404&&y===""?(c=204,u="No Content"):a={message:y}}if(a&&t.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&t.shouldThrowOnError)throw new d5(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(s=>{var a;let o="",l="",c="";const u=s==null?void 0:s.cause;if(u){var h,p,m,v;const g=(h=u==null?void 0:u.message)!==null&&h!==void 0?h:"",f=(p=u==null?void 0:u.code)!==null&&p!==void 0?p:"";o=`${(m=s==null?void 0:s.name)!==null&&m!==void 0?m:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(v=u==null?void 0:u.name)!==null&&v!==void 0?v:"Error"}: ${g}`,f&&(o+=` (${f})`),u!=null&&u.stack&&(o+=`
${u.stack}`)}else{var y;o=(y=s==null?void 0:s.stack)!==null&&y!==void 0?y:""}const x=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((u==null?void 0:u.name)==="HeadersOverflowError"||(u==null?void 0:u.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),r.then(n,e)}returns(){return this}overrideTypes(){return this}},h5=class extends u5{select(n){let e=!1;const t=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:r=i}={}){const s=r?`${r}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:i=t}={}){const r=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:r=!1,format:s="text"}={}){var a;const o=[n?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const a1=new RegExp("[,()]");var ul=class extends h5{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&a1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&a1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const s=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${r}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},p5=class{constructor(n,{headers:e={},schema:t,fetch:i,urlLengthLimit:r=8e3}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=i,this.urlLengthLimit=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:i}=e??{},r=t?"HEAD":"GET";let s=!1;const a=(n??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),i&&l.append("Prefer",`count=${i}`),new ul({method:r,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:t=!0}={}){var i;const r="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),t||a.append("Prefer","missing=default"),Array.isArray(n)){const o=n.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new ul({method:r,url:s,headers:a,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:r=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),i&&l.append("Prefer",`count=${i}`),r||l.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",u.join(","))}}return new ul({method:a,url:o,headers:l,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var t;const i="PATCH",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ul({method:i,url:r,headers:s,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const t="DELETE",{url:i,headers:r}=this.cloneRequestState();return n&&r.append("Prefer",`count=${n}`),new ul({method:t,url:i,headers:r,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function ru(n){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(n)}function m5(n,e){if(ru(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ru(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function f5(n){var e=m5(n,"string");return ru(e)=="symbol"?e:e+""}function g5(n,e,t){return(e=f5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Eh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(t),!0).forEach(function(i){g5(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var y5=class VA{constructor(e,{headers:t={},schema:i,fetch:r,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.urlLengthLimit=a;const o=r??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,c)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),s),p=c==null?void 0:c.signal;if(p){if(p.aborted)return clearTimeout(h),o(l,c);const m=()=>{clearTimeout(h),u.abort()};return p.addEventListener("abort",m,{once:!0}),o(l,Eh(Eh({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(h),p.removeEventListener("abort",m)})}return o(l,Eh(Eh({},c),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new p5(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new VA(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:i=!1,get:r=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(u)),h=i&&Object.values(t).some(u);h?(o="POST",c=t):i||r?(o=i?"HEAD":"GET",Object.entries(t).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(o="POST",c=t);const p=new Headers(this.headers);return h?p.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&p.set("Prefer",`count=${s}`),new ul({method:o,url:l,headers:p,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class v5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const i=t.versions;if(i&&i.node){const r=i.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const x5="2.95.3",b5=`realtime-js/${x5}`,w5="1.0.0",WA="2.0.0",l1=WA,Bx=1e4,S5=1e3,_5=100;var gs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(gs||(gs={}));var Wt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Wt||(Wt={}));var Di;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Di||(Di={}));var zx;(function(n){n.websocket="websocket"})(zx||(zx={}));var Ca;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ca||(Ca={}));class T5{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const r=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,i;const r=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},a=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,i){var r,s;const a=e.topic,o=(r=e.ref)!==null&&r!==void 0?r:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(m),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,o.length),v.setUint8(y++,a.length),v.setUint8(y++,c.length),v.setUint8(y++,h.length),v.setUint8(y++,t),Array.from(l,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(c,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(y++,g.charCodeAt(0)));var x=new Uint8Array(m.byteLength+i.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(i),m.byteLength),x.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[r,s,a,o,l]=i;return t({join_ref:r,ref:s,topic:a,event:o,payload:l})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),r=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,i){const r=t.getUint8(1),s=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4);let l=this.HEADER_LENGTH+4;const c=i.decode(e.slice(l,l+r));l=l+r;const u=i.decode(e.slice(l,l+s));l=l+s;const h=i.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),m=o===this.JSON_ENCODING?JSON.parse(i.decode(p)):p,v={type:this.BROADCAST_EVENT,event:u,payload:m};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class $A{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(pt||(pt={}));const c1=(n,e,t={})=>{var i;const r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=E5(a,n,e,r),s),{}):{}},E5=(n,e,t,i)=>{const r=e.find(o=>o.name===n),s=r==null?void 0:r.type,a=t[n];return s&&!i.includes(s)?qA(s,a):Ux(a)},qA=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return A5(e,t)}switch(n){case pt.bool:return C5(e);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return M5(e);case pt.json:case pt.jsonb:return k5(e);case pt.timestamp:return P5(e);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Ux(e);default:return Ux(e)}},Ux=n=>n,C5=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},M5=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},k5=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},A5=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let s;const a=n.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>qA(e,o))}return n},P5=n=>typeof n=="string"?n.replace(" ","T"):n,YA=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jg{constructor(e,t,i={},r=Bx){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var d1;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(d1||(d1={}));class kd{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kd.syncState(this.state,r,s,a),this.pendingDiffs.forEach(l=>{this.state=kd.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=kd.syncDiff(this.state,r,s,a),o())}),this.onJoin((r,s,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:a})}),this.onLeave((r,s,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){const s=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=s[c];if(h){const p=u.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),v=u.filter(x=>m.indexOf(x.presence_ref)<0),y=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(o[c]=v),y.length>0&&(l[c]=y)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},i,r)}static syncDiff(e,t,i,r){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const h=e[o].map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0);e[o].unshift(...p)}i(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=c,r(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const r=e[i];return"metas"in r?t[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u1;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(u1||(u1={}));var Ad;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ad||(Ad={}));var Pr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class Cl{constructor(e,t={config:{}},i){var r,s;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Jg(this,Di.join,this.params,this.timeout),this.rejoinTimer=new $A(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Di.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new kd(this),this.broadcastEndpointURL=YA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[Ad.PRESENCE]&&this.bindings[Ad.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Pr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Pr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Pr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let f=0;f<x;f++){const b=y[f],{filter:{event:w,schema:T,table:E,filter:_}}=b,C=m&&m[f];if(C&&C.event===w&&Cl.isFilterValueEqual(C.schema,T)&&Cl.isFilterValueEqual(C.table,E)&&Cl.isFilterValueEqual(C.filter,_))g.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Wt.errored,e==null||e(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Pr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Wt.errored,e==null||e(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Wt.joined&&e===Ad.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var r;if(t==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Di.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new Jg(this,Di.leave,{},e),i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),a}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Jg(this,e,t,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_5){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Di;if(i&&[o,l,c,u].indexOf(a)>=0&&i!==this._joinRef())return;let p=this._onMessage(a,t,i);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var v,y,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(p,i)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var v,y,x,g,f,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const w=m.id,T=(v=m.filter)===null||v===void 0?void 0:v.event;return w&&((y=t.ids)===null||y===void 0?void 0:y.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(f=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:y,table:x,commit_timestamp:g,type:f,errors:b}=v;p=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:g,eventType:f,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(p,i)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Cl.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Di.close,{},e)}_onError(e){this._on(Di.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=c1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=c1(e.columns,e.old_record)),t}}const Qg=()=>{},Ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R5=[1e3,2e3,5e3,1e4],L5=1e4,N5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I5{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bx,this.transport=null,this.heartbeatIntervalMs=Ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qg,this.ref=0,this.reconnectTimer=null,this.vsn=l1,this.logger=Qg,this.conn=null,this.sendBuffer=[],this.serializer=new T5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...s)=>r(...s):(...s)=>fetch(...s),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${zx.websocket}`,this.httpEndpoint=YA(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return t==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case gs.connecting:return Ca.Connecting;case gs.open:return Ca.Open;case gs.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new Cl(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:i,payload:r,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${i} (${s})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S5,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:r,payload:s,ref:a}=t,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${i} ${r} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(r,s,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===gs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gs.open||this.conn.readyState===gs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Di.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([N5],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const s={access_token:t,version:b5};t&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Di.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $A(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,r,s,a,o,l,c,u,h,p,m;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Bx,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:Ch.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Qg,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:l1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>R5[v-1]||L5,this.vsn){case w5:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(v,y)=>y(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,y)=>y(JSON.parse(v));break;case WA:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var su=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function j5(n,e,t){const i=new URL(e,n);if(t)for(const[r,s]of Object.entries(t))s!==void 0&&i.searchParams.set(r,s);return i.toString()}async function D5(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function O5(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:r,body:s,headers:a}){const o=j5(n.baseUrl,i,r),l=await D5(n.auth),c=await e(o,{method:t,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&u?JSON.parse(u):u;if(!c.ok){const m=h?p:void 0,v=m==null?void 0:m.error;throw new su((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:c.status,headers:c.headers,data:p}}}}function Mh(n){return n.join("")}var F5=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Mh(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mh(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mh(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mh(n.namespace)}`}),!0}catch(e){if(e instanceof su&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof su&&t.status===409)return;throw t}}};function Io(n){return n.join("")}var B5=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Io(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Io(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Io(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Io(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof su&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof su&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},z5=class{constructor(n){var i;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=O5({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new F5(this.client,e),this.tableOps=new B5(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Lf=class extends Error{constructor(n,e="storage",t,i){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=i}};function Nf(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var kh=class extends Lf{constructor(n,e,t,i="storage"){super(n,i,e,t),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},KA=class extends Lf{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const U5=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),G5=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Gx=n=>{if(Array.isArray(n))return n.map(t=>Gx(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const r=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=Gx(i)}),e},H5=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function au(n){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(n)}function V5(n,e){if(au(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(au(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function W5(n){var e=V5(n,"string");return au(e)=="symbol"?e:e+""}function $5(n,e,t){return(e=W5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Oe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(t),!0).forEach(function(i){$5(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const p1=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},q5=async(n,e,t,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const r=n,s=r.status||500;if(typeof r.json=="function")r.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new kh(p1(a),s,o,i))}).catch(()=>{if(i==="vectors"){const a=s+"";e(new kh(r.statusText||`HTTP ${s} error`,s,a,i))}else{const a=s+"";e(new kh(r.statusText||`HTTP ${s} error`,s,a,i))}});else{const a=s+"";e(new kh(r.statusText||`HTTP ${s} error`,s,a,i))}}else e(new KA(p1(n),n,i))},Y5=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||n==="HEAD"||!i?Oe(Oe({},r),t):(G5(i)?(r.headers=Oe({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,e!=null&&e.duplex&&(r.duplex=e.duplex),Oe(Oe({},r),t))};async function ed(n,e,t,i,r,s,a){return new Promise((o,l)=>{n(t,Y5(e,i,r,s)).then(c=>{if(!c.ok)throw c;if(i!=null&&i.noResolveJson)return c;if(a==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>q5(c,l,i,a))})}function XA(n="storage"){return{get:async(e,t,i,r)=>ed(e,"GET",t,i,r,void 0,n),post:async(e,t,i,r,s)=>ed(e,"POST",t,r,s,i,n),put:async(e,t,i,r,s)=>ed(e,"PUT",t,r,s,i,n),head:async(e,t,i,r)=>ed(e,"HEAD",t,Oe(Oe({},i),{},{noResolveJson:!0}),r,void 0,n),remove:async(e,t,i,r,s)=>ed(e,"DELETE",t,r,s,i,n)}}const K5=XA("storage"),{get:ou,post:Li,put:Hx,head:X5,remove:qw}=K5,Qn=XA("vectors");var Nc=class{constructor(n,e={},t,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=U5(t),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nf(t))return{data:null,error:t};throw t}}},J5=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Nf(e))return{data:null,error:e};throw e}}};let JA;JA=Symbol.toStringTag;var Q5=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[JA]="BlobDownloadBuilder",this.promise=null}asStream(){return new J5(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Nf(e))return{data:null,error:e};throw e}}};const Z5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ez=class extends Nc{constructor(n,e={},t,i){super(n,e,i,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,i){var r=this;return r.handleOperation(async()=>{let s;const a=Oe(Oe({},m1),i);let o=Oe(Oe({},r.headers),n==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&t instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",r.encodeMetadata(l)),s.append("",t)):typeof FormData<"u"&&t instanceof FormData?(s=t,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",r.encodeMetadata(l))):(s=t,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=r.toBase64(r.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Oe(Oe({},o),i.headers));const c=r._removeEmptyFolders(e),u=r._getFinalPath(c),h=await(n=="PUT"?Hx:Li)(r.fetch,`${r.url}/object/${u}`,s,Oe({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,i){var r=this;const s=r._removeEmptyFolders(n),a=r._getFinalPath(s),o=new URL(r.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),r.handleOperation(async()=>{let l;const c=Oe({upsert:m1.upsert},i),u=Oe(Oe({},r.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.append("cacheControl",c.cacheControl)):(l=t,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await Hx(r.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let i=t._getFinalPath(n);const r=Oe({},t.headers);e!=null&&e.upsert&&(r["x-upsert"]="true");const s=await Li(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:r}),a=new URL(t.url+s.url),o=a.searchParams.get("token");if(!o)throw new Lf("No token returned by API");return{signedUrl:a.toString(),path:n,token:o}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var i=this;return i.handleOperation(async()=>await Li(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers}))}async copy(n,e,t){var i=this;return i.handleOperation(async()=>({path:(await Li(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,e,t){var i=this;return i.handleOperation(async()=>{let r=i._getFinalPath(n),s=await Li(i.fetch,`${i.url}/object/sign/${r}`,Oe({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:i.headers});const a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${i.url}${s.signedURL}${a}`)}})}async createSignedUrls(n,e,t){var i=this;return i.handleOperation(async()=>{const r=await Li(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:n},{headers:i.headers}),s=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return r.map(a=>Oe(Oe({},a),{},{signedUrl:a.signedURL?encodeURI(`${i.url}${a.signedURL}${s}`):null}))})}download(n,e,t){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",a=this._getFinalPath(n),o=()=>ou(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0},t);return new Q5(o,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>Gx(await ou(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await X5(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Nf(i)&&i instanceof KA){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,e){const t=this._getFinalPath(n),i=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&i.push(r);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&i.push(a);let o=i.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${t}${o}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await qw(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var i=this;return i.handleOperation(async()=>{const r=Oe(Oe(Oe({},Z5),e),{},{prefix:n||""});return await Li(i.fetch,`${i.url}/object/list/${i.bucketId}`,r,{headers:i.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const i=Oe({},n);return await Li(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const tz="2.95.3",Uu={"X-Client-Info":`storage-js/${tz}`};var nz=class extends Nc{constructor(n,e={},t,i){const r=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."));const s=r.href.replace(/\/$/,""),a=Oe(Oe({},Uu),e);super(s,a,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await ou(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await ou(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await Li(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await Hx(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await qw(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},iz=class extends Nc{constructor(n,e={},t){const i=n.replace(/\/$/,""),r=Oe(Oe({},Uu),e);super(i,r,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const i=t.toString(),r=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await ou(e.fetch,r,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await qw(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!H5(n))throw new Lf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new z5({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(r,s){const a=r[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(r,o),error:null}}catch(l){if(i)throw l;return{data:null,error:l}}}}})}},rz=class extends Nc{constructor(n,e={},t){const i=n.replace(/\/$/,""),r=Oe(Oe({},Uu),{},{"Content-Type":"application/json"},e);super(i,r,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},sz=class extends Nc{constructor(n,e={},t){const i=n.replace(/\/$/,""),r=Oe(Oe({},Uu),{},{"Content-Type":"application/json"},e);super(i,r,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},az=class extends Nc{constructor(n,e={},t){const i=n.replace(/\/$/,""),r=Oe(Oe({},Uu),{},{"Content-Type":"application/json"},e);super(i,r,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},oz=class extends az{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new lz(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},lz=class extends rz{constructor(n,e,t,i){super(n,e,i),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new cz(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},cz=class extends sz{constructor(n,e,t,i,r){super(n,e,r),this.vectorBucketName=t,this.indexName=i}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,Oe(Oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},dz=class extends nz{constructor(n,e={},t,i){super(n,e,t,i)}from(n){return new ez(this.url,this.headers,n,this.fetch)}get vectors(){return new oz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iz(this.url+"/iceberg",this.headers,this.fetch)}};const QA="2.95.3",hl=30*1e3,Vx=3,Zg=Vx*hl,uz="http://localhost:9999",hz="supabase.auth.token",pz={"X-Client-Info":`gotrue-js/${QA}`},Wx="X-Supabase-Api-Version",ZA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fz=10*60*1e3;class lu extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function Pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class gz extends lu{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function yz(n){return Pe(n)&&n.name==="AuthApiError"}class Ma extends lu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Jr extends lu{constructor(e,t,i,r){super(e,i,r),this.name=t,this.status=i}}class Kn extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ey(n){return Pe(n)&&n.name==="AuthSessionMissingError"}class jo extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ah extends Jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ph extends Jr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vz(n){return Pe(n)&&n.name==="AuthImplicitGrantRedirectError"}class f1 extends Jr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xz extends Jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $x extends Jr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ty(n){return Pe(n)&&n.name==="AuthRetryableFetchError"}class g1 extends Jr{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class qx extends Jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y1=` 	
\r=`.split(""),bz=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<y1.length;e+=1)n[y1[e].charCodeAt(0)]=-2;for(let e=0;e<zm.length;e+=1)n[zm[e].charCodeAt(0)]=e;return n})();function v1(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(zm[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(zm[i]),e.queuedBits-=6}}function eP(n,e,t){const i=bz[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function x1(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=a=>{_z(a,i,t)};for(let a=0;a<n.length;a+=1)eP(n.charCodeAt(a),r,s);return e.join("")}function wz(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Sz(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}wz(i,e)}}function _z(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if(!(n>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Bl(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<n.length;r+=1)eP(n.charCodeAt(r),t,i);return new Uint8Array(e)}function Tz(n){const e=[];return Sz(n,t=>e.push(t)),new Uint8Array(e)}function La(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};return n.forEach(r=>v1(r,t,i)),v1(null,t,i),e.join("")}function Ez(n){return Math.round(Date.now()/1e3)+n}function Cz(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},tP=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function Mz(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}const nP=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),kz=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",pl=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ma=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},an=async(n,e)=>{await n.removeItem(e)};class If{constructor(){this.promise=new If.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}If.promiseConstructor=Promise;function Rh(n){const e=n.split(".");if(e.length!==3)throw new qx("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!mz.test(e[i]))throw new qx("JWT not in base64url format");return{header:JSON.parse(x1(e[0])),payload:JSON.parse(x1(e[1])),signature:Bl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Az(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Pz(n,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await n(s);if(!e(s,null,a)){i(a);return}}catch(a){if(!e(s,a)){r(a);return}}})()})}function Rz(n){return("0"+n.toString(16)).substr(-2)}function Lz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let r="";for(let s=0;s<56;s++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,Rz).join("")}async function Nz(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function Iz(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Nz(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(n,e,t=!1){const i=Lz();let r=i;t&&(r+="/PASSWORD_RECOVERY"),await pl(n,`${e}-code-verifier`,r);const s=await Iz(i);return[s,i===s?"plain":"s256"]}const jz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dz(n){const e=n.headers.get(Wx);if(!e||!e.match(jz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Oz(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Fz(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oo(n){if(!Bz.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ny(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zz(n,e){return new Proxy(n,{get:(t,i,r)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,r)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,r)}})}function b1(n){return JSON.parse(JSON.stringify(n))}const Ta=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Uz=[502,503,504];async function w1(n){var e;if(!kz(n))throw new $x(Ta(n),0);if(Uz.includes(n.status))throw new $x(Ta(n),n.status);let t;try{t=await n.json()}catch(s){throw new Ma(Ta(s),s)}let i;const r=Dz(n);if(r&&r.getTime()>=ZA["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new g1(Ta(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Kn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new g1(Ta(t),n.status,t.weak_password.reasons);throw new gz(Ta(t),n.status||500,i)}const Gz=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function Ie(n,e,t,i){var r;const s=Object.assign({},i==null?void 0:i.headers);s[Wx]||(s[Wx]=ZA["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const a=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(a.redirect_to=i.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Hz(n,e,t+o,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function Hz(n,e,t,i,r,s){const a=Gz(e,i,r,s);let o;try{o=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new $x(Ta(l),0)}if(o.ok||await w1(o),i!=null&&i.noResolveJson)return o;try{return await o.json()}catch(l){await w1(l)}}function ki(n){var e;let t=null;$z(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Ez(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function S1(n){const e=ki(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function xs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Vz(n){return{data:n,error:null}}function Wz(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:s}=n,a=Lc(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function _1(n){return n}function $z(n){return n.access_token&&n.refresh_token&&n.expires_in}const iy=["global","local","others"];class qz{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=nP(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=iy[0]){if(iy.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iy.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xs})}catch(i){if(Pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Lc(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Wz,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xs})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:_1});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Oo(e);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xs})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Oo(e);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xs})}catch(i){if(Pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Oo(e);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xs})}catch(i){if(Pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Oo(e.userId);try{const{data:t,error:i}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Oo(e.userId),Oo(e.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,r,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:_1});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Pe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}}function T1(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Fo={debug:!!(globalThis&&tP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yz extends iP{}async function Kz(n,e,t){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Yz(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Fo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Xz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rP(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Jz(n){return parseInt(n,16)}function Qz(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Zz(n){var e;const{chainId:t,domain:i,expirationTime:r,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:h,version:p}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const m=rP(n.address),v=u?`${u}://${i}`:i,y=n.statement?`${n.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(r&&(g+=`
Expiration Time: ${r.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let f=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);f+=`
- ${b}`}g+=f}return`${x}
${g}`}class zt extends Error{constructor({message:e,code:t,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=r??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class Um extends zt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function eU({error:n,options:e}){var t,i,r;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new zt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(sP(a)){if(s.rp.id!==a)return new zt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function tU({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new zt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(sP(i)){if(t.rpId!==i)return new zt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class nU{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const iU=new nU;function rU(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:i}=n,r=Lc(n,["challenge","user","excludeCredentials"]),s=Bl(e).buffer,a=Object.assign(Object.assign({},t),{id:Bl(t.id).buffer}),o=Object.assign(Object.assign({},r),{challenge:s,user:a});if(i&&i.length>0){o.excludeCredentials=new Array(i.length);for(let l=0;l<i.length;l++){const c=i[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Bl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function sU(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,i=Lc(n,["challenge","allowCredentials"]),r=Bl(e).buffer,s=Object.assign(Object.assign({},i),{challenge:r});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){const o=t[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Bl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function aU(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:La(new Uint8Array(n.response.attestationObject)),clientDataJSON:La(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oU(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,i=n.getClientExtensionResults(),r=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:La(new Uint8Array(r.authenticatorData)),clientDataJSON:La(new Uint8Array(r.clientDataJSON)),signature:La(new Uint8Array(r.signature)),userHandle:r.userHandle?La(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sP(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function E1(){var n,e;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lU(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Um("Browser returned unexpected credential type",e)}:{data:null,error:new Um("Empty credential response",e)}}catch(e){return{data:null,error:eU({error:e,options:n})}}}async function cU(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Um("Browser returned unexpected credential type",e)}:{data:null,error:new Um("Empty credential response",e)}}catch(e){return{data:null,error:tU({error:e,options:n})}}}const dU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gm(...n){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of n)if(r)for(const s in r){const a=r[s];if(a!==void 0)if(Array.isArray(a))i[s]=a;else if(t(a))i[s]=a;else if(e(a)){const o=i[s];e(o)?i[s]=Gm(o,a):i[s]=Gm(a)}else i[s]=a}return i}function hU(n,e){return Gm(dU,n,e||{})}function pU(n,e){return Gm(uU,n,e||{})}class mU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:r},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:l};const c=r??iU.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;if(!u.name){const h=i;if(h)u.name=`${u.id}:${h}`;else{const m=(await this.client.getUser()).data.user,v=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";u.name=`${u.id}:${v}`}}u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=hU(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:p}=await lU({publicKey:u,signal:c});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const u=pU(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:p}=await cU(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new Ma("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},s){if(!t)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!E1())return{data:null,error:new Ma("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:r},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:i,credential_response:l.credential_response}})}catch(a){return Pe(a)?{data:null,error:a}:{data:null,error:new Ma("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},s){if(!t)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!E1())return{data:null,error:new Ma("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:r},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:i,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Pe(a)?{data:null,error:a}:{data:null,error:new Ma("Unexpected error in register",a)}}}}Xz();const fU={url:uz,storageKey:hz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function C1(n,e,t){return await t()}const Bo={};class cu{get jwks(){var e,t;return(t=(e=Bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Bo[this.storageKey]=Object.assign(Object.assign({},Bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bo[this.storageKey]=Object.assign(Object.assign({},Bo[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},fU),e);if(this.storageKey=s.storageKey,this.instanceID=(t=cu.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,cu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ln()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=nP(s.fetch),this.lock=s.lock||C1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ln()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Kz:this.lock=C1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:tP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T1(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=T1(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QA}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(ln()&&(t=Mz(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),ln()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(t,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),vz(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Pe(t)?this._returnResult({error:t}):this._returnResult({error:new Ma("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,r;try{const s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:ki}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,i,r;try{let s;if("email"in e){const{email:u,password:h,options:p}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Do(this.storage,this.storageKey)),s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:v},xform:ki})}else if("phone"in e){const{phone:u,password:h,options:p}=e;s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},channel:(r=p==null?void 0:p.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ki})}else throw new Ah("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:o}=e;t=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:S1})}else if("phone"in e){const{phone:s,password:a,options:o}=e;t=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:S1})}else throw new Ah("You must provide either an email or phone number and a password");const{data:i,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!i||!i.session||!i.user){const s=new jo;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,r,s,a,o,l,c,u,h,p;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:y,wallet:x,statement:g,options:f}=e;let b;if(ln())if(typeof x=="object")b=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const w=new URL((t=f==null?void 0:f.url)!==null&&t!==void 0?t:window.location.href),T=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=rP(T[0]);let _=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!_){const A=await b.request({method:"eth_chainId"});_=Jz(A)}const C={domain:w.host,address:E,statement:g,uri:w.href,version:"1",chainId:_,nonce:(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(a=(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=Zz(C),v=await b.request({method:"personal_sign",params:[Qz(m),E]})}try{const{data:y,error:x}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ki});if(x)throw x;if(!y||!y.session||!y.user){const g=new jo;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(Pe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var t,i,r,s,a,o,l,c,u,h,p,m;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:x,wallet:g,statement:f,options:b}=e;let w;if(ln())if(typeof g=="object")w=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const T=new URL((t=b==null?void 0:b.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),f?{statement:f}:null));let _;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")_=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)_=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(r=(i=b==null?void 0:b.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:x,error:g}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:La(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ki});if(g)throw g;if(!x||!x.session||!x.user){const f=new jo;return this._returnResult({data:{user:null,session:null},error:f})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(Pe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await ma(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new xz;const{data:s,error:a}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ki});if(await an(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:a})}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:i,token:r,access_token:s,nonce:a}=e,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ki}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new jo;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,r,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Do(this.storage,this.storageKey));const{error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Ah("You must provide either an email or phone number.")}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,i;try{let r,s;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:a,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ki});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,i,r,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Do(this.storage,this.storageKey));const c=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Vz});return!((s=c.data)===null||s===void 0)&&s.url&&ln()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Kn;const{error:r}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:a}=await Ie(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:a,error:o}=await Ie(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Ah("You must provide either an email or phone number and a type")}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Zg:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const a=await ma(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ny()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=zz(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xs}):await this._useSession(async t=>{var i,r,s;const{data:a,error:o}=t;if(o)throw o;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:xs})})}catch(t){if(Pe(t))return ey(t)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new Kn;const a=r.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Do(this.storage,this.storageKey));const{data:c,error:u}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:xs});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kn;const t=Date.now()/1e3;let i=t,r=!0,s=null;const{payload:a}=Rh(e.access_token);if(a.exp&&(i=a.exp,r=i<=t),r){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(Pe(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Kn;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!ln())throw new Ph("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ph(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new f1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ph("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new f1("No code detected.");const{data:f,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Ph("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let p=u+h;l&&(p=parseInt(l));const m=p-u;m*1e3<=hl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=p-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:y,error:x}=await this._getUser(s);if(x)throw x;const g={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:r,error:s}=t;if(s&&!ey(s))return this._returnResult({error:s});const a=(i=r.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(yz(o)&&(o.status===404||o.status===401||o.status===403)||ey(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Cz(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{const{data:{session:s},error:a}=t;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Do(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:r}=await this._useSession(async s=>{var a,o,l,c,u;const{data:h,error:p}=s;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return ln()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:r,data:{session:s}}=t;if(r)throw r;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,h=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s==null?void 0:s.access_token)!==null&&i!==void 0?i:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki}),{data:p,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new jo}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(r){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,r;const{data:s,error:a}=t;if(a)throw a;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await Pz(async r=>(r>0&&await Az(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(r,s)=>{const a=200*Math.pow(2,r);return s&&ty(s)&&Date.now()+a-i<hl})}catch(i){if(this._debug(t,"error",i),Pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ln()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await ma(this.storage,this.storageKey);if(r&&this.userStorage){let a=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:r.user},await pl(this.userStorage,this.storageKey+"-user",a)),r.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ny()}else if(r&&!r.user&&!r.user){const a=await ma(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(r.user=a.user,await an(this.storage,this.storageKey+"-user"),await pl(this.storage,this.storageKey,r)):r.user=ny()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Zg;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Zg}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),ty(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(r.access_token);!o&&(a!=null&&a.user)?(r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new If;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Kn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(r,"error",s),Pe(s)){const a={data:null,error:s};return ty(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await pl(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const s=b1(r);await pl(this.storage,this.storageKey,s)}else{const r=b1(t);await pl(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/hl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${hl}ms, refresh threshold is ${Vx} ticks`),r<=Vx&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const r=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,a]=await Do(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(o.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:r,error:s}=t;return s?this._returnResult({data:null,error:s}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aU(e.webauthn.credential_response):oU(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:rU(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:sU(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,i,r,s;if(e)try{const{payload:m}=Rh(e);let v=null;m.aal&&(v=m.aal);let y=v;const{data:{user:x},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((i=(t=x==null?void 0:x.factors)===null||t===void 0?void 0:t.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(y="aal2");const b=m.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:b},error:null}}catch(m){if(Pe(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Rh(a.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Kn})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:r},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new Kn});const a=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ln()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(i){if(Pe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:r},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new Kn});const a=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ln()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(i){if(Pe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Kn})})}catch(e){if(Pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?(await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kn})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(o=>o.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(o=>o.kid===e),i&&this.jwks_cached_at+fz>r)return i;const{data:s,error:a}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(o=>o.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});i=m.session.access_token}const{header:r,payload:s,signature:a,raw:{header:o,payload:l}}=Rh(i);t!=null&&t.allowExpired||Oz(s.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!c){const{error:m}=await this.getUser(i);if(m)throw m;return{data:{claims:s,header:r,signature:a},error:null}}const u=Fz(r.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,Tz(`${o}.${l}`)))throw new qx("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(i){if(Pe(i))return this._returnResult({data:null,error:i});throw i}}}cu.nextInstanceID={};const gU=cu,yU="2.95.3";let fd="";typeof Deno<"u"?fd="deno":typeof document<"u"?fd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fd="react-native":fd="node";const vU={"X-Client-Info":`supabase-js-${fd}/${yU}`},xU={headers:vU},bU={schema:"public"},wU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SU={};function du(n){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(n)}function _U(n,e){if(du(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(du(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TU(n){var e=_U(n,"string");return du(e)=="symbol"?e:e+""}function EU(n,e,t){return(e=TU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Rt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(t),!0).forEach(function(i){EU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const CU=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),MU=()=>Headers,kU=(n,e,t)=>{const i=CU(t),r=MU();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:n;let c=new r(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(s,Rt(Rt({},a),{},{headers:c}))}};function AU(n){return n.endsWith("/")?n:n+"/"}function PU(n,e){var t,i;const{db:r,auth:s,realtime:a,global:o}=n,{db:l,auth:c,realtime:u,global:h}=e,p={db:Rt(Rt({},l),r),auth:Rt(Rt({},c),s),realtime:Rt(Rt({},u),a),storage:{},global:Rt(Rt(Rt({},h),o),{},{headers:Rt(Rt({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(i=o==null?void 0:o.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function RU(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var LU=class extends gU{constructor(n){super(n)}},NU=class{constructor(n,e,t){var i,r;this.supabaseUrl=n,this.supabaseKey=e;const s=RU(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:bU,realtime:SU,auth:Rt(Rt({},wU),{},{storageKey:a}),global:xU},l=PU(t??{},o);if(this.storageKey=(i=l.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=l.global.headers)!==null&&r!==void 0?r:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=kU(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new y5(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new dz(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new c5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:r,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},u,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LU({url:this.authUrl.href,headers:Rt(Rt({},p),u),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:r,flowType:a,lock:o,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new I5(this.realtimeUrl.href,Rt(Rt({},n),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const IU=(n,e,t)=>new NU(n,e,t);function jU(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DU="https://gheshavzlxhzgxumzedd.supabase.co",OU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdoZXNoYXZ6bHhoemd4dW16ZWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwOTgyMzIsImV4cCI6MjA4NjY3NDIzMn0.GO7p0TrLG6oZUZqhScFPTBcv27WhsHSvZbVwqBJz4MY",Ee=IU(DU,OU,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),aP=S.createContext(void 0),FU=({children:n})=>{const[e,t]=S.useState(null),[i,r]=S.useState(null),[s,a]=S.useState(!1),[o,l]=S.useState(null),[c,u]=S.useState(!0),h=async y=>{const{data:x}=await Ee.from("profiles").select("display_name, avatar_url").eq("user_id",y).single();x&&l(x);const{data:g}=await Ee.from("user_roles").select("role").eq("user_id",y).eq("role","admin").maybeSingle();a(!!g)};S.useEffect(()=>{const{data:{subscription:y}}=Ee.auth.onAuthStateChange((x,g)=>{r(g),t((g==null?void 0:g.user)??null),g!=null&&g.user?setTimeout(async()=>{await h(g.user.id),u(!1)},0):(l(null),a(!1),u(!1))});return Ee.auth.getSession().then(async({data:{session:x}})=>{r(x),t((x==null?void 0:x.user)??null),x!=null&&x.user&&await h(x.user.id),u(!1)}),()=>y.unsubscribe()},[]);const p=async(y,x,g)=>{const f=`${window.location.origin}/`,{error:b}=await Ee.auth.signUp({email:y,password:x,options:{emailRedirectTo:f,data:{display_name:g||y.split("@")[0]}}});return{error:b?new Error(b.message):null}},m=async(y,x)=>{const{error:g}=await Ee.auth.signInWithPassword({email:y,password:x});return{error:g?new Error(g.message):null}},v=async()=>{await Ee.auth.signOut(),t(null),r(null),l(null),a(!1)};return d.jsx(aP.Provider,{value:{user:e,session:i,isAdmin:s,profile:o,loading:c,signUp:p,signIn:m,signOut:v},children:n})},yn=()=>{const n=S.useContext(aP);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},oP=S.createContext({theme:"dark",toggleTheme:()=>{}}),BU=({children:n})=>{const[e,t]=S.useState(()=>localStorage.getItem("app-theme")||"dark");S.useEffect(()=>{const r=document.documentElement;e==="light"?r.classList.add("light"):r.classList.remove("light"),localStorage.setItem("app-theme",e)},[e]);const i=()=>t(r=>r==="dark"?"light":"dark");return d.jsx(oP.Provider,{value:{theme:e,toggleTheme:i},children:n})},lP=()=>S.useContext(oP),k1=({children:n})=>{const{user:e,loading:t,signOut:i}=yn(),[r,s]=S.useState("loading"),[a,o]=S.useState(""),[l,c]=S.useState(null);return S.useEffect(()=>{if(!e){s("loading");return}(async()=>{const{data:h}=await Ee.from("profiles").select("is_banned, banned_until, ban_reason, access_expires_at").eq("user_id",e.id).maybeSingle();if(!h){s("allowed");return}if(h.is_banned)if(h.banned_until&&new Date(h.banned_until)<=new Date)s("allowed");else{o(h.ban_reason||""),c(h.banned_until),s("banned");return}if(h.access_expires_at&&new Date(h.access_expires_at)<new Date){s("expired");return}s("allowed")})()},[e]),t||e&&r==="loading"?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin"})}):e?r==="banned"?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-destructive/10 flex items-center justify-center",children:d.jsx("span",{className:"text-3xl",children:""})}),d.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Account  "}),a&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",a]}),l&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",new Date(l).toLocaleDateString("my-MM",{year:"numeric",month:"long",day:"numeric"})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin  "}),d.jsx("button",{onClick:i,className:"px-6 py-2 rounded-lg text-sm font-medium bg-secondary text-foreground border border-border hover:bg-secondary/80 transition-all",children:"Logout"})]})}):r==="expired"?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-orange-500/10 flex items-center justify-center",children:d.jsx("span",{className:"text-3xl",children:""})}),d.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Access  "}),d.jsx("p",{className:"text-sm text-muted-foreground",children:" website   Admin  "}),d.jsx("button",{onClick:i,className:"px-6 py-2 rounded-lg text-sm font-medium bg-secondary text-foreground border border-border hover:bg-secondary/80 transition-all",children:"Logout"})]})}):d.jsx(d.Fragment,{children:n}):d.jsx(Z4,{to:"/auth",replace:!0})},zU="modulepreload",UU=function(n){return"/dima-v3-improved/"+n},A1={},Yw=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=UU(l),l in A1)return;A1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":zU,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},ry=[{id:"openrouter",label:" OpenRouter",placeholder:"sk-or-v1-... API Key ",helpUrl:"https://openrouter.ai/keys",helpLabel:"OpenRouter"},{id:"gemini",label:" Gemini",placeholder:"AIzaSy... API Key ",helpUrl:"https://aistudio.google.com/apikey",helpLabel:"Google AI Studio"}],sy=(n,e)=>{const t=e.trim();return t?n==="openrouter"?t.startsWith("sk-or-")?{ok:!0,message:""}:{ok:!1,message:"OpenRouter key  sk-or-  "}:t.startsWith("AIza")?{ok:!0,message:""}:{ok:!1,message:"Gemini key  AIza  "}:{ok:!1,message:"API Key "}},GU=({onClose:n})=>{const{user:e}=yn(),[t,i]=S.useState("openrouter"),[r,s]=S.useState(""),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(!1),[p,m]=S.useState(""),[v,y]=S.useState({gemini:{hasKey:!1,maskedKey:""},openrouter:{hasKey:!1,maskedKey:""}});S.useEffect(()=>{e&&x()},[e]),S.useEffect(()=>{const w=v[t];w.hasKey?(s(w.maskedKey),c(!0)):(s(""),c(!1)),o(!1),m("")},[t,v]);const x=async()=>{for(const w of ry)try{const{data:T,error:E}=await Ee.functions.invoke("manage-api-key",{body:{action:"check",provider:w.id}});if(E)throw E;T!=null&&T.hasKey&&y(_=>({..._,[w.id]:{hasKey:!0,maskedKey:T.maskedKey}}))}catch(T){console.error(`Failed to check ${w.id} API key:`,T)}},g=async()=>{if(!e)return;const w=sy(t,r);if(!w.ok){m(w.message),pe.error(w.message);return}h(!0);try{const{data:T,error:E}=await Ee.functions.invoke("manage-api-key",{body:{action:"save",apiKey:r.trim(),provider:t}});if(E)throw E;const{data:_}=await Ee.functions.invoke("manage-api-key",{body:{action:"check",provider:t}});y(C=>({...C,[t]:{hasKey:!0,maskedKey:(_==null?void 0:_.maskedKey)||""}})),pe.success(`${t==="openrouter"?"OpenRouter":"Gemini"} API Key  `)}catch{pe.error("API Key  error ")}finally{h(!1)}},f=async()=>{if(e){h(!0);try{const{data:w,error:T}=await Ee.functions.invoke("manage-api-key",{body:{action:"delete",provider:t}});if(T)throw T;y(E=>({...E,[t]:{hasKey:!1,maskedKey:""}})),pe.success(`${t==="openrouter"?"OpenRouter":"Gemini"} API Key `)}catch{pe.error("Error ")}finally{h(!1)}}},b=ry.find(w=>w.id===t);return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm px-4",children:d.jsxs("div",{className:"glass glow-border rounded-2xl p-6 w-full max-w-md relative",children:[d.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground",children:d.jsx(Qs,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Rk,{className:"w-5 h-5 text-primary"}),d.jsx("h3",{className:"text-base font-semibold text-foreground",children:"API Key Settings"})]}),d.jsx("div",{className:"flex gap-2 mb-4",children:ry.map(w=>d.jsxs("button",{onClick:()=>i(w.id),className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all border ${t===w.id?"bg-primary/15 text-primary border-primary/40":"bg-secondary/30 text-muted-foreground border-border hover:border-primary/20"}`,children:[d.jsx("span",{children:w.label}),v[w.id].hasKey&&d.jsx("span",{className:"ml-1.5 inline-block w-1.5 h-1.5 rounded-full bg-primary"})]},w.id))}),d.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:t==="openrouter"?d.jsxs(d.Fragment,{children:["OpenRouter API Key  AI models   API Key "," ",d.jsx("a",{href:b.helpUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:b.helpLabel})," "," "]}):d.jsxs(d.Fragment,{children:[" Gemini API Key   Lovable AI   API Key "," ",d.jsx("a",{href:b.helpUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:b.helpLabel})," "," "]})}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:a?"text":"password",value:r,onChange:w=>{const T=w.target.value;s(T);const E=sy(t,T);m(E.ok?"":E.message)},placeholder:b.placeholder,className:"w-full bg-secondary/50 border border-border rounded-lg px-4 pr-10 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all font-mono"}),d.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]}),p&&d.jsxs("p",{className:"text-xs text-amber-400 mb-3",children:[" ",p]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,disabled:!r.trim()||u||!sy(t,r).ok,className:"flex-1 py-2.5 bg-primary text-primary-foreground rounded-lg font-medium text-sm hover:opacity-90 transition-all disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Ik,{className:"w-4 h-4"}),"Save"]}),l&&d.jsx("button",{onClick:f,disabled:u,className:"py-2.5 px-4 bg-destructive/10 text-destructive border border-destructive/30 rounded-lg font-medium text-sm hover:bg-destructive/20 transition-all disabled:opacity-40 flex items-center gap-2",children:d.jsx(jk,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"mt-4 p-3 bg-secondary/20 rounded-lg border border-border/50",children:d.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed",children:" API Key   key    Lovable AI   Key  encrypted    "})})]})})},HU=({onClose:n})=>{const[e,t]=S.useState(""),[i,r]=S.useState(""),[s,a]=S.useState(""),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[h,p]=S.useState(!1),[m,v]=S.useState(!1),y=async x=>{if(x.preventDefault(),i.length<6){pe.error("Password     ");return}if(i!==s){pe.error("Password  ");return}v(!0);try{const{data:{user:g}}=await Ee.auth.getUser();if(!(g!=null&&g.email)){pe.error("User session ");return}const{error:f}=await Ee.auth.signInWithPassword({email:g.email,password:e});if(f){pe.error(" Password ");return}const{error:b}=await Ee.auth.updateUser({password:i});b?pe.error(b.message):(pe.success("Password ! "),n())}catch{pe.error("")}finally{v(!1)}};return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[d.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm",onClick:n}),d.jsxs("div",{className:"relative z-10 w-full max-w-sm glass glow-border rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-base font-semibold text-foreground",children:" Password "}),d.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground transition-colors",children:d.jsx(Qs,{className:"w-4 h-4"})})]}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:" Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:o?"text":"password",value:e,onChange:x=>t(x.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-10 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,autoFocus:!0}),d.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Password "}),d.jsxs("div",{className:"relative",children:[d.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:c?"text":"password",value:i,onChange:x=>r(x.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-10 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:c?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Password "}),d.jsxs("div",{className:"relative",children:[d.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:h?"text":"password",value:s,onChange:x=>a(x.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-10 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]})]}),d.jsxs("button",{type:"submit",disabled:m,className:"w-full py-2.5 bg-primary text-primary-foreground rounded-xl font-semibold text-sm hover:opacity-90 transition-all disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2 glow-primary",children:[m&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary-foreground border-t-transparent animate-spin"}),"Password "]})]})]})]})},VU=[{id:"gemini-2.5-pro",label:"Gemini 2.5 Pro",description:"Google's most capable model"},{id:"gemini-2.5-flash",label:"Gemini 2.5 Flash",description:"Fast & efficient reasoning"},{id:"gemini-2.0-flash",label:"Gemini 2.0 Flash",description:"Previous gen fast model"},{id:"gemini-2.0-flash-lite",label:"Gemini 2.0 Flash Lite",description:"Lightweight & fast"},{id:"gemini-1.5-pro",label:"Gemini 1.5 Pro",description:"Long context, reliable"},{id:"gemini-1.5-flash",label:"Gemini 1.5 Flash",description:"Fast previous gen"}],WU=[{id:"openai/gpt-4.1",label:"GPT-4.1",description:"OpenAI's latest flagship model"},{id:"openai/gpt-4.1-mini",label:"GPT-4.1 Mini",description:"Fast & affordable, great quality"},{id:"openai/gpt-4.1-nano",label:"GPT-4.1 Nano",description:"Ultra-fast, cheapest OpenAI"},{id:"openai/gpt-4o",label:"GPT-4o",description:"Powerful multimodal model"},{id:"openai/gpt-4o-mini",label:"GPT-4o Mini",description:"Compact & efficient"},{id:"openai/o3",label:"O3",description:"OpenAI reasoning model"},{id:"openai/o3-mini",label:"O3 Mini",description:"Fast reasoning model"},{id:"openai/o4-mini",label:"O4 Mini",description:"Latest reasoning model"},{id:"anthropic/claude-sonnet-4",label:"Claude Sonnet 4",description:"Most capable Claude"},{id:"anthropic/claude-3.5-haiku",label:"Claude 3.5 Haiku",description:"Fast Claude model"},{id:"google/gemini-2.5-pro",label:"Gemini 2.5 Pro",description:"Google's top model"},{id:"google/gemini-2.5-flash",label:"Gemini 2.5 Flash",description:"Fast Gemini model"},{id:"google/gemini-2.5-flash-preview",label:"Gemini 2.5 Flash Preview",description:"Preview version, image gen support"},{id:"google/gemini-2.0-flash-001",label:"Gemini 2.0 Flash",description:"Previous gen fast model"},{id:"meta-llama/llama-4-maverick",label:"Llama 4 Maverick",description:"Meta's latest model"},{id:"meta-llama/llama-4-scout",label:"Llama 4 Scout",description:"Meta's efficient model"},{id:"meta-llama/llama-3.3-70b-instruct",label:"Llama 3.3 70B",description:"Meta's open model"},{id:"deepseek/deepseek-chat-v3-0324",label:"DeepSeek V3",description:"Strong coding & reasoning"},{id:"deepseek/deepseek-r1",label:"DeepSeek R1",description:"DeepSeek reasoning model"},{id:"mistralai/mistral-large-2411",label:"Mistral Large",description:"Mistral's flagship"},{id:"qwen/qwen-2.5-72b-instruct",label:"Qwen 2.5 72B",description:"Alibaba's top model"},{id:"google/gemma-3-1b-it:free",label:"Gemma 3 1B (Free)",description:"Free, basic tasks"},{id:"meta-llama/llama-3.2-3b-instruct:free",label:"Llama 3.2 3B (Free)",description:"Free Llama model"},{id:"mistralai/mistral-small-3.1-24b-instruct:free",label:"Mistral Small (Free)",description:"Free Mistral model"},{id:"nousresearch/hermes-3-llama-3.1-405b:free",label:"Hermes 3 405B (Free)",description:"Free large model"},{id:"deepseek/deepseek-chat-v3-0324:free",label:"DeepSeek V3 (Free)",description:"Free DeepSeek model"},{id:"nvidia/nemotron-nano-12b-v2-vl:free",label:"Nemotron Nano 12B VL (Free)",description:"NVIDIA vision-language model"},{id:"allenai/molmo-2-8b",label:"Molmo 2 8B",description:"Allen AI vision-language model"},{id:"bytedance-seed/seed-1.6-flash",label:"Seed 1.6 Flash",description:"ByteDance fast model"},{id:"bytedance-seed/seedream-4.5",label:"Seedream 4.5",description:"ByteDance image generation"},{id:"anthropic/claude-opus-4.6",label:"Claude Opus 4.6",description:"Anthropic's most powerful"},{id:"sourceful/riverflow-v2-pro",label:"Riverflow V2 Pro",description:"Sourceful advanced model"},{id:"sourceful/riverflow-v2-fast",label:"Riverflow V2 Fast",description:"Sourceful fast model"},{id:"openai/gpt-5-image-mini",label:"GPT-5 Image Mini",description:"OpenAI image gen (mini)"},{id:"openai/gpt-5-image",label:"GPT-5 Image",description:"OpenAI image generation"},{id:"google/gemini-2.5-flash-image",label:"Gemini Flash Image",description:"Google image generation"},{id:"openrouter/auto",label:"Auto (OpenRouter)",description:"Auto-select best available"}],$U=({onClose:n})=>{const{user:e}=yn(),[t,i]=S.useState("openrouter"),[r,s]=S.useState("openai/gpt-4o-mini"),[a,o]=S.useState("gemini-2.0-flash"),[l,c]=S.useState(!1),[u,h]=S.useState("openai/gpt-4o-mini"),[p,m]=S.useState("gemini-2.0-flash");S.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const{data:w,error:T}=await Ee.from("user_settings").select("openrouter_model, gemini_model").eq("user_id",e.id).maybeSingle();if(T)throw T;w!=null&&w.openrouter_model&&(s(w.openrouter_model),h(w.openrouter_model)),w!=null&&w.gemini_model&&(o(w.gemini_model),m(w.gemini_model))}catch(w){console.error("Failed to load settings:",w)}},y=async()=>{if(e){c(!0);try{const w=t==="openrouter"?{openrouter_model:r}:{gemini_model:a},{data:T}=await Ee.from("user_settings").select("id").eq("user_id",e.id).maybeSingle();if(T){const{error:E}=await Ee.from("user_settings").update(w).eq("user_id",e.id);if(E)throw E}else{const{error:E}=await Ee.from("user_settings").insert({user_id:e.id,...w});if(E)throw E}t==="openrouter"?h(r):m(a),pe.success("Model setting saved ")}catch(w){console.error("Failed to save settings:",w),pe.error("Failed to save settings")}finally{c(!1)}}},x=t==="openrouter"?r!==u:a!==p,g=t==="openrouter"?WU:VU,f=t==="openrouter"?r:a,b=t==="openrouter"?s:o;return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm px-4",children:d.jsxs("div",{className:"glass glow-border rounded-2xl p-6 w-full max-w-md relative max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground",children:d.jsx(Qs,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Pw,{className:"w-5 h-5 text-primary"}),d.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Model Settings"})]}),d.jsxs("div",{className:"flex gap-1 mb-4 p-1 bg-secondary/30 rounded-lg border border-border/50",children:[d.jsx("button",{onClick:()=>i("openrouter"),className:`flex-1 py-2 px-3 rounded-md text-xs font-medium transition-all ${t==="openrouter"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"OpenRouter"}),d.jsx("button",{onClick:()=>i("gemini"),className:`flex-1 py-2 px-3 rounded-md text-xs font-medium transition-all ${t==="gemini"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Gemini"})]}),d.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:t==="openrouter"?"OpenRouter API Key   AI model  ":"Gemini API Key   model  "}),d.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:g.map(w=>d.jsxs("button",{onClick:()=>b(w.id),className:`w-full p-3 rounded-lg border text-left transition-all ${f===w.id?"bg-primary/15 border-primary/40":"bg-secondary/30 border-border hover:border-primary/20"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${f===w.id?"text-primary":"text-foreground"}`,children:w.label}),d.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:w.description})]}),f===w.id&&d.jsx(oc,{className:"w-4 h-4 text-primary"})]}),d.jsx("p",{className:"text-[9px] text-muted-foreground/70 mt-1 font-mono",children:w.id})]},w.id))}),d.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:d.jsxs("button",{onClick:y,disabled:!x||l,className:"w-full py-2.5 bg-primary text-primary-foreground rounded-lg font-medium text-sm hover:opacity-90 transition-all disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Ik,{className:"w-4 h-4"}),"Save"]})}),d.jsx("div",{className:"mt-3 p-3 bg-secondary/20 rounded-lg border border-border/50",children:d.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed",children:t==="openrouter"?"  setting  OpenRouter API Key  ":"  setting  Gemini API Key   Image generation   model  "})})]})})},cP=()=>d.jsxs("div",{className:"glossy-title-wrap",children:[d.jsxs("div",{className:"glossy-title-btn",children:[d.jsx("div",{className:"glossy-title-corner"}),d.jsxs("div",{className:"glossy-title-inner",children:[d.jsx(Ur,{className:"w-5 h-5 text-[#ff7a3c] drop-shadow-[0_0_8px_rgba(255,122,60,0.6)]"}),d.jsxs("div",{className:"glossy-title-text",children:[d.jsx("span",{className:"glossy-title-main",children:"DIMA"}),d.jsx("span",{className:"glossy-title-sub",children:"Prompt Gen"})]})]}),d.jsx("div",{className:"glossy-title-glow"})]}),d.jsx("div",{className:"glossy-title-bg",children:d.jsx("div",{className:"glossy-title-shine"})}),d.jsx("div",{className:"glossy-title-led"})]}),P1=()=>{const{theme:n,toggleTheme:e}=lP(),t=n==="dark";return d.jsxs("label",{className:"theme-switch",children:[d.jsx("input",{type:"checkbox",className:"theme-switch__checkbox",checked:t,onChange:e}),d.jsxs("div",{className:"theme-switch__container",children:[d.jsx("div",{className:"theme-switch__clouds",children:d.jsx("div",{className:"theme-switch__stars-container",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 144 55",fill:"none",children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M135.831 3.00688C135.055 3.85027 134.111 4.29946 133 4.35447C134.111 4.40947 135.055 4.85867 135.831 5.70205C136.607 6.54544 136.996 7.56513 136.996 8.76094C136.996 7.56513 137.385 6.54544 138.161 5.70205C138.937 4.85867 139.881 4.40947 140.992 4.35447C139.881 4.29946 138.937 3.85027 138.161 3.00688C137.385 2.16349 136.996 1.14381 136.996 -0.0520019C136.996 1.14381 136.607 2.16349 135.831 3.00688ZM31 23.3545C32.1114 23.2995 33.0551 22.8503 33.8313 22.0069C34.6075 21.1635 34.9966 20.1438 34.9966 18.948C34.9966 20.1438 35.3857 21.1635 36.1619 22.0069C36.9381 22.8503 37.8818 23.2995 38.9932 23.3545C37.8818 23.4095 36.9381 23.8587 36.1619 24.7021C35.3857 25.5455 34.9966 26.5765 34.9966 27.7723C34.9966 26.5765 34.6075 25.5455 33.8313 24.7021C33.0551 23.8587 32.1114 23.4095 31 23.3545ZM120.831 18.0069C120.055 18.8503 119.111 19.2995 118 19.3545C119.111 19.4095 120.055 19.8587 120.831 20.7021C121.607 21.5455 121.996 22.5652 121.996 23.761C121.996 22.5652 122.385 21.5455 123.161 20.7021C123.937 19.8587 124.881 19.4095 125.992 19.3545C124.881 19.2995 123.937 18.8503 123.161 18.0069C122.385 17.1635 121.996 16.1438 121.996 14.948C121.996 16.1438 121.607 17.1635 120.831 18.0069ZM51 36.3545C52.1114 36.2995 53.0551 35.8503 53.8313 35.0069C54.6075 34.1635 54.9966 33.1438 54.9966 31.948C54.9966 33.1438 55.3857 34.1635 56.1619 35.0069C56.9381 35.8503 57.8818 36.2995 58.9932 36.3545C57.8818 36.4095 56.9381 36.8587 56.1619 37.7021C55.3857 38.5455 54.9966 39.5652 54.9966 40.761C54.9966 39.5652 54.6075 38.5455 53.8313 37.7021C53.0551 36.8587 52.1114 36.4095 51 36.3545ZM87.8313 48.0069C87.0551 48.8503 86.1114 49.2995 85 49.3545C86.1114 49.4095 87.0551 49.8587 87.8313 50.7021C88.6075 51.5455 88.9966 52.5652 88.9966 53.761C88.9966 52.5652 89.3857 51.5455 90.1619 50.7021C90.9381 49.8587 91.8818 49.4095 92.9932 49.3545C91.8818 49.2995 90.9381 48.8503 90.1619 48.0069C89.3857 47.1635 88.9966 46.1438 88.9966 44.948C88.9966 46.1438 88.6075 47.1635 87.8313 48.0069Z",fill:"currentColor"})})})}),d.jsx("div",{className:"theme-switch__circle-container",children:d.jsx("div",{className:"theme-switch__sun-moon-container",children:d.jsxs("div",{className:"theme-switch__moon",children:[d.jsx("div",{className:"theme-switch__spot"}),d.jsx("div",{className:"theme-switch__spot"}),d.jsx("div",{className:"theme-switch__spot"})]})})})]})]})},R1=()=>{const[n,e]=S.useState(0);S.useEffect(()=>{const a=setInterval(()=>{e(o=>(o+1)%5)},2500);return()=>clearInterval(a)},[]);const i=[{leftEye:"circle",rightEye:"circle",mouth:"smile",blink:!1},{leftEye:"circle",rightEye:"line",mouth:"smile",blink:!1},{leftEye:"arc",rightEye:"arc",mouth:"open",blink:!1},{leftEye:"flat",rightEye:"flat",mouth:"smirk",blink:!1},{leftEye:"circle",rightEye:"circle",mouth:"smile",blink:!0}][n],r=(a,o)=>{switch(a){case"circle":return d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:o,cy:"14",r:"3.5",fill:"hsl(var(--primary))",className:"animate-pulse"}),d.jsx("circle",{cx:o,cy:"13",r:"1.2",fill:"white",opacity:"0.7"})]});case"line":return d.jsx("line",{x1:o-3,y1:"14",x2:o+3,y2:"14",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round"});case"arc":return d.jsx("path",{d:`M${o-3} 15 Q${o} 11 ${o+3} 15`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",strokeLinecap:"round"});case"flat":return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o-4,y:"12",width:"8",height:"3",rx:"1.5",fill:"hsl(var(--primary))",opacity:"0.9"}),d.jsx("rect",{x:o-2,y:"12.5",width:"2",height:"2",rx:"1",fill:"white",opacity:"0.5"})]});default:return d.jsx("circle",{cx:o,cy:"14",r:"3",fill:"hsl(var(--primary))"})}},s=a=>{switch(a){case"smile":return d.jsx("path",{d:"M11 22 Q18 28 25 22",stroke:"hsl(var(--primary))",strokeWidth:"1.8",fill:"none",strokeLinecap:"round"});case"open":return d.jsx("ellipse",{cx:"18",cy:"24",rx:"4",ry:"3",fill:"hsl(var(--primary))",opacity:"0.8"});case"smirk":return d.jsx("path",{d:"M13 23 Q20 26 24 22",stroke:"hsl(var(--primary))",strokeWidth:"1.8",fill:"none",strokeLinecap:"round"});default:return d.jsx("path",{d:"M11 22 Q18 28 25 22",stroke:"hsl(var(--primary))",strokeWidth:"1.8",fill:"none",strokeLinecap:"round"})}};return d.jsxs("div",{className:"relative w-10 h-10 rounded-full bg-gradient-to-br from-secondary to-muted border border-white/10 flex items-center justify-center select-none cursor-pointer group",title:"AI Assistant",children:[d.jsxs("svg",{viewBox:"0 0 36 36",className:"w-8 h-8",style:{filter:"drop-shadow(0 0 4px hsl(var(--primary) / 0.4))"},children:[d.jsx("rect",{x:"4",y:"4",width:"28",height:"28",rx:"8",fill:"none",stroke:"hsl(var(--primary) / 0.3)",strokeWidth:"1"}),d.jsx("line",{x1:"18",y1:"4",x2:"18",y2:"1",stroke:"hsl(var(--primary))",strokeWidth:"1.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"18",cy:"0.5",r:"1.5",fill:"hsl(var(--primary))",className:"animate-pulse"}),d.jsx("g",{style:{transition:"all 0.4s ease"},children:i.blink?d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"8",y1:"14",x2:"14",y2:"14",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round",children:d.jsx("animate",{attributeName:"y1",values:"14;14;14;14",dur:"0.3s"})}),d.jsx("line",{x1:"22",y1:"14",x2:"28",y2:"14",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round"})]}):d.jsxs(d.Fragment,{children:[r(i.leftEye,11),r(i.rightEye,25)]})}),d.jsx("g",{style:{transition:"all 0.4s ease"},children:s(i.mouth)}),d.jsx("circle",{cx:"7",cy:"20",r:"2.5",fill:"hsl(var(--primary))",opacity:"0.1"}),d.jsx("circle",{cx:"29",cy:"20",r:"2.5",fill:"hsl(var(--primary))",opacity:"0.1"})]}),d.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/0 group-hover:border-primary/40 transition-all duration-300 group-hover:shadow-[0_0_12px_hsl(var(--primary)/0.3)]"})]})},L1=()=>{const[n,e]=S.useState(new Date);S.useEffect(()=>{const a=setInterval(()=>e(new Date),1e3);return()=>clearInterval(a)},[]);const t=n.getHours().toString().padStart(2,"0"),i=n.getMinutes().toString().padStart(2,"0"),r=n.getSeconds().toString().padStart(2,"0"),s=n.getSeconds()%2===0;return d.jsxs("div",{className:"relative px-3 py-1.5 rounded-xl bg-secondary/60 border border-white/10 backdrop-blur-sm flex items-center gap-0.5 select-none font-mono",children:[d.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/5 blur-sm"}),d.jsx("span",{className:"relative text-sm font-bold text-primary tracking-wider",style:{textShadow:"0 0 8px hsl(var(--primary) / 0.6)"},children:t}),d.jsx("span",{className:`relative text-sm font-bold text-primary transition-opacity duration-300 ${s?"opacity-100":"opacity-30"}`,style:{textShadow:"0 0 8px hsl(var(--primary) / 0.6)"},children:":"}),d.jsx("span",{className:"relative text-sm font-bold text-primary tracking-wider",style:{textShadow:"0 0 8px hsl(var(--primary) / 0.6)"},children:i}),d.jsx("span",{className:`relative text-sm font-bold text-primary transition-opacity duration-300 ${s?"opacity-100":"opacity-30"}`,style:{textShadow:"0 0 8px hsl(var(--primary) / 0.6)"},children:":"}),d.jsx("span",{className:"relative text-xs font-bold text-accent tracking-wider",style:{textShadow:"0 0 8px hsl(var(--accent) / 0.6)"},children:r})]})};var ay="focusScope.autoFocusOnMount",oy="focusScope.autoFocusOnUnmount",N1={bubbles:!1,cancelable:!0},qU="FocusScope",Kw=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=n,[o,l]=S.useState(null),c=en(r),u=en(s),h=S.useRef(null),p=st(e,y=>l(y)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(i){let y=function(b){if(m.paused||!o)return;const w=b.target;o.contains(w)?h.current=w:ps(h.current,{select:!0})},x=function(b){if(m.paused||!o)return;const w=b.relatedTarget;w!==null&&(o.contains(w)||ps(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&ps(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const f=new MutationObserver(g);return o&&f.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),f.disconnect()}}},[i,o,m.paused]),S.useEffect(()=>{if(o){j1.add(m);const y=document.activeElement;if(!o.contains(y)){const g=new CustomEvent(ay,N1);o.addEventListener(ay,c),o.dispatchEvent(g),g.defaultPrevented||(YU(ZU(dP(o)),{select:!0}),document.activeElement===y&&ps(o))}return()=>{o.removeEventListener(ay,c),setTimeout(()=>{const g=new CustomEvent(oy,N1);o.addEventListener(oy,u),o.dispatchEvent(g),g.defaultPrevented||ps(y??document.body,{select:!0}),o.removeEventListener(oy,u),j1.remove(m)},0)}}},[o,c,u,m]);const v=S.useCallback(y=>{if(!t&&!i||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(x&&g){const f=y.currentTarget,[b,w]=KU(f);b&&w?!y.shiftKey&&g===w?(y.preventDefault(),t&&ps(b,{select:!0})):y.shiftKey&&g===b&&(y.preventDefault(),t&&ps(w,{select:!0})):g===f&&y.preventDefault()}},[t,i,m.paused]);return d.jsx(qe.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});Kw.displayName=qU;function YU(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(ps(i,{select:e}),document.activeElement!==t)return}function KU(n){const e=dP(n),t=I1(e,n),i=I1(e.reverse(),n);return[t,i]}function dP(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function I1(n,e){for(const t of n)if(!XU(t,{upTo:e}))return t}function XU(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function JU(n){return n instanceof HTMLInputElement&&"select"in n}function ps(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&JU(n)&&e&&n.select()}}var j1=QU();function QU(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=D1(n,e),n.unshift(e)},remove(e){var t;n=D1(n,e),(t=n[0])==null||t.resume()}}}function D1(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function ZU(n){return n.filter(e=>e.tagName!=="A")}var ly=0;function uP(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??O1()),document.body.insertAdjacentElement("beforeend",n[1]??O1()),ly++,()=>{ly===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ly--}},[])}function O1(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var im="right-scroll-bar-position",rm="width-before-scroll-bar",eG="with-scroll-bars-hidden",tG="--removed-body-scroll-bar-size";function cy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function nG(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var iG=typeof window<"u"?S.useLayoutEffect:S.useEffect,F1=new WeakMap;function rG(n,e){var t=nG(null,function(i){return n.forEach(function(r){return cy(r,i)})});return iG(function(){var i=F1.get(t);if(i){var r=new Set(i),s=new Set(n),a=t.current;r.forEach(function(o){s.has(o)||cy(o,null)}),s.forEach(function(o){r.has(o)||cy(o,a)})}F1.set(t,n)},[n]),t}function sG(n){return n}function aG(n,e){e===void 0&&(e=sG);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,i);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(i=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){i=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),t}}}};return r}function oG(n){n===void 0&&(n={});var e=aG(null);return e.options=ir({async:!0,ssr:!1},n),e}var hP=function(n){var e=n.sideCar,t=Lc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,ir({},t))};hP.isSideCarExport=!0;function lG(n,e){return n.useMedium(e),hP}var pP=oG(),dy=function(){},jf=S.forwardRef(function(n,e){var t=S.useRef(null),i=S.useState({onScrollCapture:dy,onWheelCapture:dy,onTouchMoveCapture:dy}),r=i[0],s=i[1],a=n.forwardProps,o=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,p=n.sideCar,m=n.noRelative,v=n.noIsolation,y=n.inert,x=n.allowPinchZoom,g=n.as,f=g===void 0?"div":g,b=n.gapMode,w=Lc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,E=rG([t,e]),_=ir(ir({},w),r);return S.createElement(S.Fragment,null,u&&S.createElement(T,{sideCar:pP,removeScrollBar:c,shards:h,noRelative:m,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:t,gapMode:b}),a?S.cloneElement(S.Children.only(o),ir(ir({},_),{ref:E})):S.createElement(f,ir({},_,{className:l,ref:E}),o))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:rm,zeroRight:im};var cG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dG(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=cG();return e&&n.setAttribute("nonce",e),n}function uG(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function hG(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var pG=function(){var n=0,e=null;return{add:function(t){n==0&&(e=dG())&&(uG(e,t),hG(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mG=function(){var n=pG();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},mP=function(){var n=mG(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},fG={left:0,top:0,right:0,gap:0},uy=function(n){return parseInt(n||"",10)||0},gG=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[uy(t),uy(i),uy(r)]},yG=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return fG;var e=gG(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},vG=mP(),zl="data-scroll-locked",xG=function(n,e,t,i){var r=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(eG,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(o,"px ").concat(i,`;
  }
  body[`).concat(zl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(im,` {
    right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(rm,` {
    margin-right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(im," .").concat(im,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(rm," .").concat(rm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(zl,`] {
    `).concat(tG,": ").concat(o,`px;
  }
`)},B1=function(){var n=parseInt(document.body.getAttribute(zl)||"0",10);return isFinite(n)?n:0},bG=function(){S.useEffect(function(){return document.body.setAttribute(zl,(B1()+1).toString()),function(){var n=B1()-1;n<=0?document.body.removeAttribute(zl):document.body.setAttribute(zl,n.toString())}},[])},wG=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;bG();var s=S.useMemo(function(){return yG(r)},[r]);return S.createElement(vG,{styles:xG(s,!e,r,t?"":"!important")})},Yx=!1;if(typeof window<"u")try{var Lh=Object.defineProperty({},"passive",{get:function(){return Yx=!0,!0}});window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{Yx=!1}var zo=Yx?{passive:!1}:!1,SG=function(n){return n.tagName==="TEXTAREA"},fP=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!SG(n)&&t[e]==="visible")},_G=function(n){return fP(n,"overflowY")},TG=function(n){return fP(n,"overflowX")},z1=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=gP(n,i);if(r){var s=yP(n,i),a=s[1],o=s[2];if(a>o)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},EG=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},CG=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},gP=function(n,e){return n==="v"?_G(e):TG(e)},yP=function(n,e){return n==="v"?EG(e):CG(e)},MG=function(n,e){return n==="h"&&e==="rtl"?-1:1},kG=function(n,e,t,i,r){var s=MG(n,window.getComputedStyle(e).direction),a=s*i,o=t.target,l=e.contains(o),c=!1,u=a>0,h=0,p=0;do{if(!o)break;var m=yP(n,o),v=m[0],y=m[1],x=m[2],g=y-x-s*v;(v||g)&&gP(n,o)&&(h+=g,p+=v);var f=o.parentNode;o=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&(Math.abs(h)<1||!r)||!u&&(Math.abs(p)<1||!r))&&(c=!0),c},Nh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},U1=function(n){return[n.deltaX,n.deltaY]},G1=function(n){return n&&"current"in n?n.current:n},AG=function(n,e){return n[0]===e[0]&&n[1]===e[1]},PG=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},RG=0,Uo=[];function LG(n){var e=S.useRef([]),t=S.useRef([0,0]),i=S.useRef(),r=S.useState(RG++)[0],s=S.useState(mP)[0],a=S.useRef(n);S.useEffect(function(){a.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var y=a5([n.lockRef.current],(n.shards||[]).map(G1),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var o=S.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var g=Nh(y),f=t.current,b="deltaX"in y?y.deltaX:f[0]-g[0],w="deltaY"in y?y.deltaY:f[1]-g[1],T,E=y.target,_=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in y&&_==="h"&&E.type==="range")return!1;var C=z1(_,E);if(!C)return!0;if(C?T=_:(T=_==="v"?"h":"v",C=z1(_,E)),!C)return!1;if(!i.current&&"changedTouches"in y&&(b||w)&&(i.current=T),!T)return!0;var A=i.current||T;return kG(A,x,y,A==="h"?b:w,!0)},[]),l=S.useCallback(function(y){var x=y;if(!(!Uo.length||Uo[Uo.length-1]!==s)){var g="deltaY"in x?U1(x):Nh(x),f=e.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&AG(T.delta,g)})[0];if(f&&f.should){x.cancelable&&x.preventDefault();return}if(!f){var b=(a.current.shards||[]).map(G1).filter(Boolean).filter(function(T){return T.contains(x.target)}),w=b.length>0?o(x,b[0]):!a.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),c=S.useCallback(function(y,x,g,f){var b={name:y,delta:x,target:g,should:f,shadowParent:NG(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),u=S.useCallback(function(y){t.current=Nh(y),i.current=void 0},[]),h=S.useCallback(function(y){c(y.type,U1(y),y.target,o(y,n.lockRef.current))},[]),p=S.useCallback(function(y){c(y.type,Nh(y),y.target,o(y,n.lockRef.current))},[]);S.useEffect(function(){return Uo.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,zo),document.addEventListener("touchmove",l,zo),document.addEventListener("touchstart",u,zo),function(){Uo=Uo.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,zo),document.removeEventListener("touchmove",l,zo),document.removeEventListener("touchstart",u,zo)}},[]);var m=n.removeScrollBar,v=n.inert;return S.createElement(S.Fragment,null,v?S.createElement(s,{styles:PG(r)}):null,m?S.createElement(wG,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function NG(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const IG=lG(pP,LG);var Xw=S.forwardRef(function(n,e){return S.createElement(jf,ir({},n,{ref:e,sideCar:IG}))});Xw.classNames=jf.classNames;var jG=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Go=new WeakMap,Ih=new WeakMap,jh={},hy=0,vP=function(n){return n&&(n.host||vP(n.parentNode))},DG=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=vP(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},OG=function(n,e,t,i){var r=DG(e,Array.isArray(n)?n:[n]);jh[t]||(jh[t]=new WeakMap);var s=jh[t],a=[],o=new Set,l=new Set(r),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};r.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))u(p);else try{var m=p.getAttribute(i),v=m!==null&&m!=="false",y=(Go.get(p)||0)+1,x=(s.get(p)||0)+1;Go.set(p,y),s.set(p,x),a.push(p),y===1&&v&&Ih.set(p,!0),x===1&&p.setAttribute(t,"true"),v||p.setAttribute(i,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(e),o.clear(),hy++,function(){a.forEach(function(h){var p=Go.get(h)-1,m=s.get(h)-1;Go.set(h,p),s.set(h,m),p||(Ih.has(h)||h.removeAttribute(i),Ih.delete(h)),m||h.removeAttribute(t)}),hy--,hy||(Go=new WeakMap,Go=new WeakMap,Ih=new WeakMap,jh={})}},xP=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=jG(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),OG(i,r,t,"aria-hidden")):function(){return null}},Df="Dialog",[bP,aK]=bo(Df),[FG,$i]=bP(Df),wP=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:a=!0}=n,o=S.useRef(null),l=S.useRef(null),[c,u]=Rm({prop:i,defaultProp:r??!1,onChange:s,caller:Df});return d.jsx(FG,{scope:e,triggerRef:o,contentRef:l,contentId:Ol(),titleId:Ol(),descriptionId:Ol(),open:c,onOpenChange:u,onOpenToggle:S.useCallback(()=>u(h=>!h),[u]),modal:a,children:t})};wP.displayName=Df;var SP="DialogTrigger",_P=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=$i(SP,t),s=st(e,r.triggerRef);return d.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Zw(r.open),...i,ref:s,onClick:Fe(n.onClick,r.onOpenToggle)})});_P.displayName=SP;var Jw="DialogPortal",[BG,TP]=bP(Jw,{forceMount:void 0}),EP=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:r}=n,s=$i(Jw,e);return d.jsx(BG,{scope:e,forceMount:t,children:S.Children.map(i,a=>d.jsx(gr,{present:t||s.open,children:d.jsx(vf,{asChild:!0,container:r,children:a})}))})};EP.displayName=Jw;var Hm="DialogOverlay",CP=S.forwardRef((n,e)=>{const t=TP(Hm,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=$i(Hm,n.__scopeDialog);return s.modal?d.jsx(gr,{present:i||s.open,children:d.jsx(UG,{...r,ref:e})}):null});CP.displayName=Hm;var zG=ac("DialogOverlay.RemoveScroll"),UG=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=$i(Hm,t);return d.jsx(Xw,{as:zG,allowPinchZoom:!0,shards:[r.contentRef],children:d.jsx(qe.div,{"data-state":Zw(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),so="DialogContent",MP=S.forwardRef((n,e)=>{const t=TP(so,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=$i(so,n.__scopeDialog);return d.jsx(gr,{present:i||s.open,children:s.modal?d.jsx(GG,{...r,ref:e}):d.jsx(HG,{...r,ref:e})})});MP.displayName=so;var GG=S.forwardRef((n,e)=>{const t=$i(so,n.__scopeDialog),i=S.useRef(null),r=st(e,t.contentRef,i);return S.useEffect(()=>{const s=i.current;if(s)return xP(s)},[]),d.jsx(kP,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Fe(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Fe(n.onFocusOutside,s=>s.preventDefault())})}),HG=S.forwardRef((n,e)=>{const t=$i(so,n.__scopeDialog),i=S.useRef(!1),r=S.useRef(!1);return d.jsx(kP,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(i.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),kP=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...a}=n,o=$i(so,t),l=S.useRef(null),c=st(e,l);return uP(),d.jsxs(d.Fragment,{children:[d.jsx(Kw,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:d.jsx(ju,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Zw(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(VG,{titleId:o.titleId}),d.jsx($G,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Qw="DialogTitle",AP=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=$i(Qw,t);return d.jsx(qe.h2,{id:r.titleId,...i,ref:e})});AP.displayName=Qw;var PP="DialogDescription",RP=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=$i(PP,t);return d.jsx(qe.p,{id:r.descriptionId,...i,ref:e})});RP.displayName=PP;var LP="DialogClose",NP=S.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=$i(LP,t);return d.jsx(qe.button,{type:"button",...i,ref:e,onClick:Fe(n.onClick,()=>r.onOpenChange(!1))})});NP.displayName=LP;function Zw(n){return n?"open":"closed"}var IP="DialogTitleWarning",[oK,jP]=_j(IP,{contentName:so,titleName:Qw,docsSlug:"dialog"}),VG=({titleId:n})=>{const e=jP(IP),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},WG="DialogDescriptionWarning",$G=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jP(WG).contentName}}.`;return S.useEffect(()=>{var s;const r=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},qG=wP,YG=_P,KG=EP,DP=CP,OP=MP,FP=AP,BP=RP,XG=NP;const JG=qG,QG=YG,ZG=KG,zP=S.forwardRef(({className:n,...e},t)=>d.jsx(DP,{className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));zP.displayName=DP.displayName;const eH=Cw("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),UP=S.forwardRef(({side:n="right",className:e,children:t,...i},r)=>d.jsxs(ZG,{children:[d.jsx(zP,{}),d.jsxs(OP,{ref:r,className:ft(eH({side:n}),e),...i,children:[t,d.jsxs(XG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Qs,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));UP.displayName=OP.displayName;const GP=({className:n,...e})=>d.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",n),...e});GP.displayName="SheetHeader";const HP=S.forwardRef(({className:n,...e},t)=>d.jsx(FP,{ref:t,className:ft("text-lg font-semibold text-foreground",n),...e}));HP.displayName=FP.displayName;const tH=S.forwardRef(({className:n,...e},t)=>d.jsx(BP,{ref:t,className:ft("text-sm text-muted-foreground",n),...e}));tH.displayName=BP.displayName;const py=768;function VP(){const[n,e]=S.useState(void 0);return S.useEffect(()=>{const t=window.matchMedia(`(max-width: ${py-1}px)`),i=()=>{e(window.innerWidth<py)};return t.addEventListener("change",i),e(window.innerWidth<py),()=>t.removeEventListener("change",i)},[]),!!n}const nH=()=>{const{user:n,profile:e,isAdmin:t,signOut:i}=yn(),[r,s]=S.useState(!1),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(!1);VP();const p=n?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"text-sm text-muted-foreground flex items-center",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-primary mr-1.5 animate-pulse"}),n.email]}),d.jsxs("button",{onClick:()=>{s(!0),h(!1)},className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-primary w-full md:w-auto",children:[d.jsx(Rk,{className:"w-4 h-4"}),d.jsx("span",{children:"Key"})]}),d.jsxs("button",{onClick:()=>{c(!0),h(!1)},className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-foreground w-full md:w-auto",children:[d.jsx(Pw,{className:"w-4 h-4"}),d.jsx("span",{children:"Model"})]}),d.jsxs("button",{onClick:()=>{o(!0),h(!1)},className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-primary w-full md:w-auto",children:[d.jsx($a,{className:"w-4 h-4"}),d.jsx("span",{children:"Password"})]}),t&&d.jsxs("a",{href:"/admin",className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-accent w-full md:w-auto",children:[d.jsx(Rw,{className:"w-4 h-4"}),d.jsx("span",{children:"Admin"})]}),d.jsxs("button",{onClick:()=>{i(),h(!1)},className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-destructive w-full md:w-auto",children:[d.jsx(AD,{className:"w-4 h-4"}),d.jsx("span",{children:"Logout"})]})]}):null;return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"w-full py-3 px-3 md:py-4 md:px-6 bg-background/60 backdrop-blur-xl border-b border-white/5 sticky top-0 z-50",children:d.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-2",children:[d.jsx(cP,{}),d.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[d.jsx(R1,{}),d.jsx(L1,{}),d.jsx(P1,{}),p]}),d.jsxs("div",{className:"flex md:hidden items-center gap-1.5",children:[d.jsx(P1,{}),d.jsxs(JG,{open:u,onOpenChange:h,children:[d.jsx(QG,{asChild:!0,children:d.jsx("button",{className:"p-2 btn-glass rounded-xl",children:d.jsx(PD,{className:"w-5 h-5 text-foreground"})})}),d.jsxs(UP,{side:"right",className:"bg-background/95 backdrop-blur-xl border-l border-white/10 w-72",children:[d.jsx(GP,{children:d.jsx(HP,{className:"text-foreground",children:"Menu"})}),d.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(R1,{}),d.jsx(L1,{})]}),p]})]})]})]})]})}),r&&d.jsx(GU,{onClose:()=>s(!1)}),a&&d.jsx(HU,{onClose:()=>o(!1)}),l&&d.jsx($U,{onClose:()=>c(!1)})]})},iH=[{symbol:"BTCUSDT",label:"Bitcoin",display:"BTC"},{symbol:"ETHUSDT",label:"Ethereum",display:"ETH"},{symbol:"BNBUSDT",label:"BNB",display:"BNB"},{symbol:"SOLUSDT",label:"Solana",display:"SOL"},{symbol:"XRPUSDT",label:"XRP",display:"XRP"},{symbol:"ADAUSDT",label:"Cardano",display:"ADA"},{symbol:"DOGEUSDT",label:"Dogecoin",display:"DOGE"},{symbol:"XAUUSDT",label:" (XAU)",display:""}],rH=()=>{const[n,e]=S.useState([]);if(S.useEffect(()=>{const i=async()=>{try{const{data:s,error:a}=await Ee.functions.invoke("crypto-prices");if(a)throw a;if(!s||s.error)throw new Error((s==null?void 0:s.error)||"No data");const o=iH.map(l=>{const c=s.find(m=>m.symbol===l.symbol);if(!c)return{symbol:l.display,label:l.label,price:"N/A",change:0};const u=parseFloat(c.lastPrice),h=parseFloat(c.priceChangePercent);let p;return u>=1e3?p=`$${u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:u>=1?p=`$${u.toFixed(2)}`:p=`$${u.toFixed(4)}`,{symbol:l.display,label:l.label,price:p,change:h}});e(o)}catch(s){console.warn("Binance price fetch failed:",s)}};i();const r=setInterval(i,1e4);return()=>clearInterval(r)},[]),n.length===0)return null;const t=[...n,...n];return d.jsx("div",{className:"w-full overflow-hidden bg-secondary/40 border-b border-border/50 backdrop-blur-sm",children:d.jsx("div",{className:"ticker-track flex items-center gap-8 py-1.5 whitespace-nowrap",children:t.map((i,r)=>d.jsxs("div",{className:"flex items-center gap-1.5 text-xs shrink-0",children:[d.jsx("span",{className:"font-semibold text-foreground",children:i.symbol}),d.jsx("span",{className:"text-muted-foreground",children:i.label}),d.jsx("span",{className:"font-mono font-medium text-foreground",children:i.price}),d.jsxs("span",{className:`font-mono text-[10px] ${i.change>=0?"text-green-400":"text-red-400"}`,children:[i.change>=0?"":""," ",Math.abs(i.change).toFixed(2),"%"]})]},r))})})};function Kx(n,[e,t]){return Math.min(t,Math.max(e,n))}var sH=S.createContext(void 0);function WP(n){const e=S.useContext(sH);return n||e||"ltr"}function aH(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var oH=[" ","Enter","ArrowUp","ArrowDown"],lH=[" ","Enter"],ao="Select",[Of,Ff,cH]=nk(ao),[Ic,lK]=bo(ao,[cH,Tf]),Bf=Tf(),[dH,Zs]=Ic(ao),[uH,hH]=Ic(ao),$P=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:r,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:m,form:v}=n,y=Bf(e),[x,g]=S.useState(null),[f,b]=S.useState(null),[w,T]=S.useState(!1),E=WP(c),[_,C]=Rm({prop:i,defaultProp:r??!1,onChange:s,caller:ao}),[A,P]=Rm({prop:a,defaultProp:o,onChange:l,caller:ao}),R=S.useRef(null),G=x?v||!!x.closest("form"):!0,[I,j]=S.useState(new Set),z=Array.from(I).map(U=>U.props.value).join(";");return d.jsx(SB,{...y,children:d.jsxs(dH,{required:m,scope:e,trigger:x,onTriggerChange:g,valueNode:f,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:T,contentId:Ol(),value:A,onValueChange:P,open:_,onOpenChange:C,dir:E,triggerPointerDownPosRef:R,disabled:p,children:[d.jsx(Of.Provider,{scope:e,children:d.jsx(uH,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{j(W=>new Set(W).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{j(W=>{const V=new Set(W);return V.delete(U),V})},[]),children:t})}),G?d.jsxs(gR,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:A,onChange:U=>P(U.target.value),disabled:p,form:v,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(I)]},z):null]})})};$P.displayName=ao;var qP="SelectTrigger",YP=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...r}=n,s=Bf(t),a=Zs(qP,t),o=a.disabled||i,l=st(e,a.onTriggerChange),c=Ff(t),u=S.useRef("touch"),[h,p,m]=vR(y=>{const x=c().filter(b=>!b.disabled),g=x.find(b=>b.value===a.value),f=xR(x,y,g);f!==void 0&&a.onValueChange(f.value)}),v=y=>{o||(a.onOpenChange(!0),m()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(mA,{asChild:!0,...s,children:d.jsx(qe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":yR(a.value)?"":void 0,...r,ref:l,onClick:Fe(r.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&v(y)}),onPointerDown:Fe(r.onPointerDown,y=>{u.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Fe(r.onKeyDown,y=>{const x=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(x&&y.key===" ")&&oH.includes(y.key)&&(v(),y.preventDefault())})})})});YP.displayName=qP;var KP="SelectValue",XP=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:r,children:s,placeholder:a="",...o}=n,l=Zs(KP,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=st(e,l.onValueNodeChange);return nn(()=>{c(u)},[c,u]),d.jsx(qe.span,{...o,ref:h,style:{pointerEvents:"none"},children:yR(l.value)?d.jsx(d.Fragment,{children:a}):s})});XP.displayName=KP;var pH="SelectIcon",JP=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...r}=n;return d.jsx(qe.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});JP.displayName=pH;var mH="SelectPortal",QP=n=>d.jsx(vf,{asChild:!0,...n});QP.displayName=mH;var oo="SelectContent",ZP=S.forwardRef((n,e)=>{const t=Zs(oo,n.__scopeSelect),[i,r]=S.useState();if(nn(()=>{r(new DocumentFragment)},[]),!t.open){const s=i;return s?xo.createPortal(d.jsx(eR,{scope:n.__scopeSelect,children:d.jsx(Of.Slot,{scope:n.__scopeSelect,children:d.jsx("div",{children:n.children})})}),s):null}return d.jsx(tR,{...n,ref:e})});ZP.displayName=oo;var Ai=10,[eR,ea]=Ic(oo),fH="SelectContentImpl",gH=ac("SelectContent.RemoveScroll"),tR=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:x,...g}=n,f=Zs(oo,t),[b,w]=S.useState(null),[T,E]=S.useState(null),_=st(e,D=>w(D)),[C,A]=S.useState(null),[P,R]=S.useState(null),G=Ff(t),[I,j]=S.useState(!1),z=S.useRef(!1);S.useEffect(()=>{if(b)return xP(b)},[b]),uP();const U=S.useCallback(D=>{const[Q,...ae]=G().map(K=>K.ref.current),[le]=ae.slice(-1),ce=document.activeElement;for(const K of D)if(K===ce||(K==null||K.scrollIntoView({block:"nearest"}),K===Q&&T&&(T.scrollTop=0),K===le&&T&&(T.scrollTop=T.scrollHeight),K==null||K.focus(),document.activeElement!==ce))return},[G,T]),W=S.useCallback(()=>U([C,b]),[U,C,b]);S.useEffect(()=>{I&&W()},[I,W]);const{onOpenChange:V,triggerPointerDownPosRef:M}=f;S.useEffect(()=>{if(b){let D={x:0,y:0};const Q=le=>{var ce,K;D={x:Math.abs(Math.round(le.pageX)-(((ce=M.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(le.pageY)-(((K=M.current)==null?void 0:K.y)??0))}},ae=le=>{D.x<=10&&D.y<=10?le.preventDefault():b.contains(le.target)||V(!1),document.removeEventListener("pointermove",Q),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ae,{capture:!0})}}},[b,V,M]),S.useEffect(()=>{const D=()=>V(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[V]);const[q,X]=vR(D=>{const Q=G().filter(ce=>!ce.disabled),ae=Q.find(ce=>ce.ref.current===document.activeElement),le=xR(Q,D,ae);le&&setTimeout(()=>le.ref.current.focus())}),ne=S.useCallback((D,Q,ae)=>{const le=!z.current&&!ae;(f.value!==void 0&&f.value===Q||le)&&(A(D),le&&(z.current=!0))},[f.value]),Y=S.useCallback(()=>b==null?void 0:b.focus(),[b]),H=S.useCallback((D,Q,ae)=>{const le=!z.current&&!ae;(f.value!==void 0&&f.value===Q||le)&&R(D)},[f.value]),k=i==="popper"?Xx:nR,O=k===Xx?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:x}:{};return d.jsx(eR,{scope:t,content:b,viewport:T,onViewportChange:E,itemRefCallback:ne,selectedItem:C,onItemLeave:Y,itemTextRefCallback:H,focusSelectedItem:W,selectedItemText:P,position:i,isPositioned:I,searchRef:q,children:d.jsx(Xw,{as:gH,allowPinchZoom:!0,children:d.jsx(Kw,{asChild:!0,trapped:f.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:Fe(r,D=>{var Q;(Q=f.trigger)==null||Q.focus({preventScroll:!0}),D.preventDefault()}),children:d.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:d.jsx(k,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:D=>D.preventDefault(),...g,...O,onPlaced:()=>j(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Fe(g.onKeyDown,D=>{const Q=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!Q&&D.key.length===1&&X(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let le=G().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(D.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const ce=D.target,K=le.indexOf(ce);le=le.slice(K+1)}setTimeout(()=>U(le)),D.preventDefault()}})})})})})})});tR.displayName=fH;var yH="SelectItemAlignedPosition",nR=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...r}=n,s=Zs(oo,t),a=ea(oo,t),[o,l]=S.useState(null),[c,u]=S.useState(null),h=st(e,_=>u(_)),p=Ff(t),m=S.useRef(!1),v=S.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:g,focusSelectedItem:f}=a,b=S.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&y&&x&&g){const _=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),P=g.getBoundingClientRect();if(s.dir!=="rtl"){const ce=P.left-C.left,K=A.left-ce,te=_.left-K,re=_.width+te,we=Math.max(re,C.width),ge=window.innerWidth-Ai,B=Kx(K,[Ai,Math.max(Ai,ge-we)]);o.style.minWidth=re+"px",o.style.left=B+"px"}else{const ce=C.right-P.right,K=window.innerWidth-A.right-ce,te=window.innerWidth-_.right-K,re=_.width+te,we=Math.max(re,C.width),ge=window.innerWidth-Ai,B=Kx(K,[Ai,Math.max(Ai,ge-we)]);o.style.minWidth=re+"px",o.style.right=B+"px"}const R=p(),G=window.innerHeight-Ai*2,I=y.scrollHeight,j=window.getComputedStyle(c),z=parseInt(j.borderTopWidth,10),U=parseInt(j.paddingTop,10),W=parseInt(j.borderBottomWidth,10),V=parseInt(j.paddingBottom,10),M=z+U+I+V+W,q=Math.min(x.offsetHeight*5,M),X=window.getComputedStyle(y),ne=parseInt(X.paddingTop,10),Y=parseInt(X.paddingBottom,10),H=_.top+_.height/2-Ai,k=G-H,O=x.offsetHeight/2,D=x.offsetTop+O,Q=z+U+D,ae=M-Q;if(Q<=H){const ce=R.length>0&&x===R[R.length-1].ref.current;o.style.bottom="0px";const K=c.clientHeight-y.offsetTop-y.offsetHeight,te=Math.max(k,O+(ce?Y:0)+K+W),re=Q+te;o.style.height=re+"px"}else{const ce=R.length>0&&x===R[0].ref.current;o.style.top="0px";const te=Math.max(H,z+y.offsetTop+(ce?ne:0)+O)+ae;o.style.height=te+"px",y.scrollTop=Q-H+y.offsetTop}o.style.margin=`${Ai}px 0`,o.style.minHeight=q+"px",o.style.maxHeight=G+"px",i==null||i(),requestAnimationFrame(()=>m.current=!0)}},[p,s.trigger,s.valueNode,o,c,y,x,g,s.dir,i]);nn(()=>b(),[b]);const[w,T]=S.useState();nn(()=>{c&&T(window.getComputedStyle(c).zIndex)},[c]);const E=S.useCallback(_=>{_&&v.current===!0&&(b(),f==null||f(),v.current=!1)},[b,f]);return d.jsx(xH,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:d.jsx(qe.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});nR.displayName=yH;var vH="SelectPopperPosition",Xx=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:r=Ai,...s}=n,a=Bf(t);return d.jsx(fA,{...a,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xx.displayName=vH;var[xH,e0]=Ic(oo,{}),Jx="SelectViewport",iR=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...r}=n,s=ea(Jx,t),a=e0(Jx,t),o=st(e,s.onViewportChange),l=S.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Of.Slot,{scope:t,children:d.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Fe(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-Ai*2,y=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),g=Math.max(y,x);if(g<v){const f=g+m,b=Math.min(v,f),w=f-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});iR.displayName=Jx;var rR="SelectGroup",[bH,wH]=Ic(rR),SH=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=Ol();return d.jsx(bH,{scope:t,id:r,children:d.jsx(qe.div,{role:"group","aria-labelledby":r,...i,ref:e})})});SH.displayName=rR;var sR="SelectLabel",aR=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=wH(sR,t);return d.jsx(qe.div,{id:r.id,...i,ref:e})});aR.displayName=sR;var Vm="SelectItem",[_H,oR]=Ic(Vm),lR=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:r=!1,textValue:s,...a}=n,o=Zs(Vm,t),l=ea(Vm,t),c=o.value===i,[u,h]=S.useState(s??""),[p,m]=S.useState(!1),v=st(e,f=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,f,i,r)}),y=Ol(),x=S.useRef("touch"),g=()=>{r||(o.onValueChange(i),o.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(_H,{scope:t,value:i,disabled:r,textId:y,isSelected:c,onItemTextChange:S.useCallback(f=>{h(b=>b||((f==null?void 0:f.textContent)??"").trim())},[]),children:d.jsx(Of.ItemSlot,{scope:t,value:i,disabled:r,textValue:u,children:d.jsx(qe.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:v,onFocus:Fe(a.onFocus,()=>m(!0)),onBlur:Fe(a.onBlur,()=>m(!1)),onClick:Fe(a.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:Fe(a.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:Fe(a.onPointerDown,f=>{x.current=f.pointerType}),onPointerMove:Fe(a.onPointerMove,f=>{var b;x.current=f.pointerType,r?(b=l.onItemLeave)==null||b.call(l):x.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(a.onPointerLeave,f=>{var b;f.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Fe(a.onKeyDown,f=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&f.key===" "||(lH.includes(f.key)&&g(),f.key===" "&&f.preventDefault())})})})})});lR.displayName=Vm;var gd="SelectItemText",cR=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:r,...s}=n,a=Zs(gd,t),o=ea(gd,t),l=oR(gd,t),c=hH(gd,t),[u,h]=S.useState(null),p=st(e,g=>h(g),l.onItemTextChange,g=>{var f;return(f=o.itemTextRefCallback)==null?void 0:f.call(o,g,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=S.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return nn(()=>(y(v),()=>x(v)),[y,x,v]),d.jsxs(d.Fragment,{children:[d.jsx(qe.span,{id:l.textId,...s,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?xo.createPortal(s.children,a.valueNode):null]})});cR.displayName=gd;var dR="SelectItemIndicator",uR=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return oR(dR,t).isSelected?d.jsx(qe.span,{"aria-hidden":!0,...i,ref:e}):null});uR.displayName=dR;var Qx="SelectScrollUpButton",hR=S.forwardRef((n,e)=>{const t=ea(Qx,n.__scopeSelect),i=e0(Qx,n.__scopeSelect),[r,s]=S.useState(!1),a=st(e,i.onScrollButtonChange);return nn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),r?d.jsx(mR,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});hR.displayName=Qx;var Zx="SelectScrollDownButton",pR=S.forwardRef((n,e)=>{const t=ea(Zx,n.__scopeSelect),i=e0(Zx,n.__scopeSelect),[r,s]=S.useState(!1),a=st(e,i.onScrollButtonChange);return nn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),r?d.jsx(mR,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});pR.displayName=Zx;var mR=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...r}=n,s=ea("SelectScrollButton",t),a=S.useRef(null),o=Ff(t),l=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),nn(()=>{var u;const c=o().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),d.jsx(qe.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:Fe(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:Fe(r.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:Fe(r.onPointerLeave,()=>{l()})})}),TH="SelectSeparator",fR=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return d.jsx(qe.div,{"aria-hidden":!0,...i,ref:e})});fR.displayName=TH;var eb="SelectArrow",EH=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=Bf(t),s=Zs(eb,t),a=ea(eb,t);return s.open&&a.position==="popper"?d.jsx(gA,{...r,...i,ref:e}):null});EH.displayName=eb;var CH="SelectBubbleInput",gR=S.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const r=S.useRef(null),s=st(i,r),a=aH(e);return S.useEffect(()=>{const o=r.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const h=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(h)}},[a,e]),d.jsx(qe.select,{...t,style:{...ok,...t.style},ref:s,defaultValue:e})});gR.displayName=CH;function yR(n){return n===""||n===void 0}function vR(n){const e=en(n),t=S.useRef(""),i=S.useRef(0),r=S.useCallback(a=>{const o=t.current+a;e(o),function l(c){t.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=S.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,r,s]}function xR(n,e,t){const r=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=MH(n,Math.max(s,0));r.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function MH(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var kH=$P,bR=YP,AH=XP,PH=JP,RH=QP,wR=ZP,LH=iR,SR=aR,_R=lR,NH=cR,IH=uR,TR=hR,ER=pR,CR=fR;const jH=kH,DH=AH,MR=S.forwardRef(({className:n,children:e,...t},i)=>d.jsxs(bR,{ref:i,className:ft("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,d.jsx(PH,{asChild:!0,children:d.jsx(Xr,{className:"h-4 w-4 opacity-50"})})]}));MR.displayName=bR.displayName;const kR=S.forwardRef(({className:n,...e},t)=>d.jsx(TR,{ref:t,className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(Mw,{className:"h-4 w-4"})}));kR.displayName=TR.displayName;const AR=S.forwardRef(({className:n,...e},t)=>d.jsx(ER,{ref:t,className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(Xr,{className:"h-4 w-4"})}));AR.displayName=ER.displayName;const PR=S.forwardRef(({className:n,children:e,position:t="popper",...i},r)=>d.jsx(RH,{children:d.jsxs(wR,{ref:r,className:ft("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[d.jsx(kR,{}),d.jsx(LH,{className:ft("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(AR,{})]})}));PR.displayName=wR.displayName;const OH=S.forwardRef(({className:n,...e},t)=>d.jsx(SR,{ref:t,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));OH.displayName=SR.displayName;const RR=S.forwardRef(({className:n,children:e,...t},i)=>d.jsxs(_R,{ref:i,className:ft("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(IH,{children:d.jsx(oc,{className:"h-4 w-4"})})}),d.jsx(NH,{children:e})]}));RR.displayName=_R.displayName;const FH=S.forwardRef(({className:n,...e},t)=>d.jsx(CR,{ref:t,className:ft("-mx-1 my-1 h-px bg-muted",n),...e}));FH.displayName=CR.displayName;const my=[{id:"prompt",label:"General Prompt",emoji:""},{id:"refine-prompt",label:"Refine Prompt",emoji:""},{id:"coding-prompt",label:"Coding Prompt",emoji:""},{id:"vibe-coding",label:"Vibe Coding",emoji:""},{id:"ready-made",label:"Ready-Made Coding Prompt",emoji:""},{id:"text-design",label:"Text Design Prompt",emoji:""},{id:"video-prompt",label:"Video Prompt",emoji:""},{id:"video-prompt-en",label:"Video Prompt (EN)",emoji:""},{id:"logo-prompt",label:"Logo Prompt",emoji:""},{id:"image-prompt",label:"Image Prompt",emoji:""},{id:"image-to-prompt",label:"Image to Prompt",emoji:""},{id:"chatbot",label:"AI Chat",emoji:""},{id:"activity-log",label:"Activity Log",emoji:""},{id:"api-test",label:"API Test",emoji:""}],BH=({activeTab:n,onTabChange:e})=>{const t=VP(),i=my.find(r=>r.id===n);return t?d.jsx("div",{className:"w-full",children:d.jsxs(jH,{value:n,onValueChange:e,children:[d.jsx(MR,{className:"w-full h-14 rounded-2xl text-base font-semibold tracking-wide border-none text-primary",style:{background:"hsl(var(--neu-bg))",boxShadow:"-6px -6px 14px hsl(var(--neu-shadow-light)), 6px 6px 14px hsl(var(--neu-shadow-dark)), inset 0 1px 0 hsl(var(--neu-inset-light) / 0.3), 0 0 20px hsl(var(--primary) / 0.1)"},children:d.jsx(DH,{children:i?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:i.emoji}),d.jsx("span",{className:"text-gradient font-bold",children:i.label})]}):"Select tab"})}),d.jsx(PR,{className:"z-[200] rounded-2xl border-none p-1.5 max-h-[70vh]",style:{background:"hsl(var(--neu-bg))",boxShadow:"-8px -8px 18px hsl(var(--neu-shadow-light)), 8px 8px 18px hsl(var(--neu-shadow-dark)), 0 0 30px hsl(var(--primary) / 0.12)"},children:my.map(r=>d.jsx(RR,{value:r.id,className:"rounded-xl cursor-pointer text-sm py-3 px-3 my-0.5 font-medium text-foreground transition-all duration-200 focus:bg-transparent data-[highlighted]:bg-transparent",style:{...n===r.id?{background:"hsl(var(--primary) / 0.12)",boxShadow:"inset -2px -2px 5px hsl(var(--neu-inset-light) / 0.15), inset 2px 2px 5px hsl(var(--neu-inset-dark) / 0.25), 0 0 12px hsl(var(--primary) / 0.08)"}:{}},children:d.jsxs("span",{className:"flex items-center gap-2.5",children:[d.jsx("span",{className:"text-base",children:r.emoji}),d.jsx("span",{className:n===r.id?"text-primary font-semibold":"text-foreground",style:n===r.id?{textShadow:"0 0 12px hsl(var(--primary) / 0.4)"}:{},children:r.label})]})},r.id))})]})}):d.jsx("div",{className:"w-full",children:d.jsx("div",{className:"flex flex-wrap gap-3 p-3 glass-card rounded-2xl",children:my.map(r=>{const s=n===r.id;return d.jsx("button",{onClick:()=>e(r.id),className:`glossy-tab relative overflow-hidden transition-all duration-200 whitespace-nowrap ${s?"glossy-tab--active":""}`,children:d.jsx("span",{className:"glossy-tab__wrap",children:d.jsxs("span",{className:"glossy-tab__text",children:[r.emoji," ",r.label]})})},r.id)})})})},Ft=ye.forwardRef(({className:n,onClear:e,value:t,onChange:i,...r},s)=>{const a=typeof t=="string"?t.length>0:!1,o=()=>{e?e():i&&i({target:{value:""}})};return d.jsxs("div",{className:"glow-input-wrap relative",children:[d.jsx("div",{className:"glow-blur-layer"}),d.jsx("div",{className:"glow-dark-border"}),d.jsx("div",{className:"glow-border-layer"}),d.jsx("div",{className:"glow-layer"}),d.jsx("textarea",{ref:s,value:t,onChange:i,className:`glow-textarea ${a?"pr-10":""} ${n||""}`,...r}),a&&d.jsx("button",{type:"button",onClick:o,className:"absolute top-2.5 right-2.5 z-20 w-6 h-6 flex items-center justify-center rounded-full bg-muted/80 hover:bg-destructive/20 hover:text-destructive text-muted-foreground transition-all duration-200 backdrop-blur-sm",title:"Clear",children:d.jsx(Qs,{className:"w-3.5 h-3.5"})})]})});Ft.displayName="GlowTextarea";let fy=null;function zH(){return fy||(fy=new AudioContext),fy}function gi(){try{const n=zH(),e=n.currentTime;[{freq:523.25,start:0,duration:.15},{freq:659.25,start:.12,duration:.25}].forEach(({freq:i,start:r,duration:s})=>{const a=n.createOscillator(),o=n.createGain();a.type="sine",a.frequency.value=i,o.gain.setValueAtTime(0,e+r),o.gain.linearRampToValueAtTime(.3,e+r+.02),o.gain.exponentialRampToValueAtTime(.001,e+r+s),a.connect(o),o.connect(n.destination),a.start(e+r),a.stop(e+r+s)})}catch{}}function UH(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const t=document.implementation.createHTMLDocument(),i=t.createElement("base"),r=t.createElement("a");return t.head.appendChild(i),t.body.appendChild(r),e&&(i.href=e),r.href=n,r.href}const GH=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function Os(n){const e=[];for(let t=0,i=n.length;t<i;t++)e.push(n[t]);return e}let Ho=null;function LR(n={}){return Ho||(n.includeStyleProperties?(Ho=n.includeStyleProperties,Ho):(Ho=Os(window.getComputedStyle(document.documentElement)),Ho))}function Wm(n,e){const i=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function HH(n){const e=Wm(n,"border-left-width"),t=Wm(n,"border-right-width");return n.clientWidth+e+t}function VH(n){const e=Wm(n,"border-top-width"),t=Wm(n,"border-bottom-width");return n.clientHeight+e+t}function NR(n,e={}){const t=e.width||HH(n),i=e.height||VH(n);return{width:t,height:i}}function WH(){let n,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const $n=16384;function $H(n){(n.width>$n||n.height>$n)&&(n.width>$n&&n.height>$n?n.width>n.height?(n.height*=$n/n.width,n.width=$n):(n.width*=$n/n.height,n.height=$n):n.width>$n?(n.height*=$n/n.width,n.width=$n):(n.width*=$n/n.height,n.height=$n))}function $m(n){return new Promise((e,t)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>e(i))})},i.onerror=t,i.crossOrigin="anonymous",i.decoding="async",i.src=n})}async function qH(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function YH(n,e,t){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${t}`),r.setAttribute("viewBox",`0 0 ${e} ${t}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(n),qH(r)}const Gn=(n,e)=>{if(n instanceof e)return!0;const t=Object.getPrototypeOf(n);return t===null?!1:t.constructor.name===e.name||Gn(t,e)};function KH(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function XH(n,e){return LR(e).map(t=>{const i=n.getPropertyValue(t),r=n.getPropertyPriority(t);return`${t}: ${i}${r?" !important":""};`}).join(" ")}function JH(n,e,t,i){const r=`.${n}:${e}`,s=t.cssText?KH(t):XH(t,i);return document.createTextNode(`${r}{${s}}`)}function H1(n,e,t,i){const r=window.getComputedStyle(n,t),s=r.getPropertyValue("content");if(s===""||s==="none")return;const a=GH();try{e.className=`${e.className} ${a}`}catch{return}const o=document.createElement("style");o.appendChild(JH(a,t,r,i)),e.appendChild(o)}function QH(n,e,t){H1(n,e,":before",t),H1(n,e,":after",t)}const V1="application/font-woff",W1="image/jpeg",ZH={woff:V1,woff2:V1,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:W1,jpeg:W1,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function eV(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function t0(n){const e=eV(n).toLowerCase();return ZH[e]||""}function tV(n){return n.split(/,/)[1]}function tb(n){return n.search(/^(data:)/)!==-1}function nV(n,e){return`data:${e};base64,${n}`}async function IR(n,e,t){const i=await fetch(n,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((s,a)=>{const o=new FileReader;o.onerror=a,o.onloadend=()=>{try{s(t({res:i,result:o.result}))}catch(l){a(l)}},o.readAsDataURL(r)})}const gy={};function iV(n,e,t){let i=n.replace(/\?.*/,"");return t&&(i=n),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function n0(n,e,t){const i=iV(n,e,t.includeQueryParams);if(gy[i]!=null)return gy[i];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let r;try{const s=await IR(n,t.fetchRequestInit,({res:a,result:o})=>(e||(e=a.headers.get("Content-Type")||""),tV(o)));r=nV(s,e)}catch(s){r=t.imagePlaceholder||"";let a=`Failed to fetch resource: ${n}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return gy[i]=r,r}async function rV(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):$m(e)}async function sV(n,e){if(n.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=n.clientWidth,s.height=n.clientHeight,a==null||a.drawImage(n,0,0,s.width,s.height);const o=s.toDataURL();return $m(o)}const t=n.poster,i=t0(t),r=await n0(t,i,e);return $m(r)}async function aV(n,e){var t;try{if(!((t=n==null?void 0:n.contentDocument)===null||t===void 0)&&t.body)return await zf(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function oV(n,e){return Gn(n,HTMLCanvasElement)?rV(n):Gn(n,HTMLVideoElement)?sV(n,e):Gn(n,HTMLIFrameElement)?aV(n,e):n.cloneNode(jR(n))}const lV=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",jR=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function cV(n,e,t){var i,r;if(jR(e))return e;let s=[];return lV(n)&&n.assignedNodes?s=Os(n.assignedNodes()):Gn(n,HTMLIFrameElement)&&(!((i=n.contentDocument)===null||i===void 0)&&i.body)?s=Os(n.contentDocument.body.childNodes):s=Os(((r=n.shadowRoot)!==null&&r!==void 0?r:n).childNodes),s.length===0||Gn(n,HTMLVideoElement)||await s.reduce((a,o)=>a.then(()=>zf(o,t)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function dV(n,e,t){const i=e.style;if(!i)return;const r=window.getComputedStyle(n);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):LR(t).forEach(s=>{let a=r.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),Gn(n,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),i.setProperty(s,a,r.getPropertyPriority(s))})}function uV(n,e){Gn(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Gn(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function hV(n,e){if(Gn(n,HTMLSelectElement)){const t=e,i=Array.from(t.children).find(r=>n.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function pV(n,e,t){return Gn(e,Element)&&(dV(n,e,t),QH(n,e,t),uV(n,e),hV(n,e)),e}async function mV(n,e){const t=n.querySelectorAll?n.querySelectorAll("use"):[];if(t.length===0)return n;const i={};for(let s=0;s<t.length;s++){const o=t[s].getAttribute("xlink:href");if(o){const l=n.querySelector(o),c=document.querySelector(o);!l&&c&&!i[o]&&(i[o]=await zf(c,e,!0))}}const r=Object.values(i);if(r.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const o=document.createElementNS(s,"defs");a.appendChild(o);for(let l=0;l<r.length;l++)o.appendChild(r[l]);n.appendChild(a)}return n}async function zf(n,e,t){return!t&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(i=>oV(i,e)).then(i=>cV(n,i,e)).then(i=>pV(n,i,e)).then(i=>mV(i,e))}const DR=/url\((['"]?)([^'"]+?)\1\)/g,fV=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,gV=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function yV(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function vV(n){const e=[];return n.replace(DR,(t,i,r)=>(e.push(r),t)),e.filter(t=>!tb(t))}async function xV(n,e,t,i,r){try{const s=t?UH(e,t):e,a=t0(e);let o;return r||(o=await n0(s,a,i)),n.replace(yV(e),`$1${o}$3`)}catch{}return n}function bV(n,{preferredFontFormat:e}){return e?n.replace(gV,t=>{for(;;){const[i,,r]=fV.exec(t)||[];if(!r)return"";if(r===e)return`src: ${i};`}}):n}function OR(n){return n.search(DR)!==-1}async function FR(n,e,t){if(!OR(n))return n;const i=bV(n,t);return vV(i).reduce((s,a)=>s.then(o=>xV(o,a,e,t)),Promise.resolve(i))}async function Vo(n,e,t){var i;const r=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(n);if(r){const s=await FR(r,null,t);return e.style.setProperty(n,s,e.style.getPropertyPriority(n)),!0}return!1}async function wV(n,e){await Vo("background",n,e)||await Vo("background-image",n,e),await Vo("mask",n,e)||await Vo("-webkit-mask",n,e)||await Vo("mask-image",n,e)||await Vo("-webkit-mask-image",n,e)}async function SV(n,e){const t=Gn(n,HTMLImageElement);if(!(t&&!tb(n.src))&&!(Gn(n,SVGImageElement)&&!tb(n.href.baseVal)))return;const i=t?n.src:n.href.baseVal,r=await n0(i,t0(i),e);await new Promise((s,a)=>{n.onload=s,n.onerror=e.onImageErrorHandler?(...l)=>{try{s(e.onImageErrorHandler(...l))}catch(c){a(c)}}:a;const o=n;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),t?(n.srcset="",n.src=r):n.href.baseVal=r})}async function _V(n,e){const i=Os(n.childNodes).map(r=>BR(r,e));await Promise.all(i).then(()=>n)}async function BR(n,e){Gn(n,Element)&&(await wV(n,e),await SV(n,e),await _V(n,e))}function TV(n,e){const{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(r=>{t[r]=i[r]}),n}const $1={};async function q1(n){let e=$1[n];if(e!=null)return e;const i=await(await fetch(n)).text();return e={url:n,cssText:i},$1[n]=e,e}async function Y1(n,e){let t=n.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(t.match(/url\([^)]+\)/g)||[]).map(async a=>{let o=a.replace(i,"$1");return o.startsWith("https://")||(o=new URL(o,n.url).href),IR(o,e.fetchRequestInit,({result:l})=>(t=t.replace(a,`url(${l})`),[a,l]))});return Promise.all(s).then(()=>t)}function K1(n){if(n==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let i=n.replace(t,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(i);if(l===null)break;e.push(l[0])}i=i.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(a,"gi");for(;;){let l=s.exec(i);if(l===null){if(l=o.exec(i),l===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;e.push(l[0])}return e}async function EV(n,e){const t=[],i=[];return n.forEach(r=>{if("cssRules"in r)try{Os(r.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let o=a+1;const l=s.href,c=q1(l).then(u=>Y1(u,e)).then(u=>K1(u).forEach(h=>{try{r.insertRule(h,h.startsWith("@import")?o+=1:r.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:h,error:p})}})).catch(u=>{console.error("Error loading remote css",u.toString())});i.push(c)}})}catch(s){const a=n.find(o=>o.href==null)||document.styleSheets[0];r.href!=null&&i.push(q1(r.href).then(o=>Y1(o,e)).then(o=>K1(o).forEach(l=>{a.insertRule(l,a.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(n.forEach(r=>{if("cssRules"in r)try{Os(r.cssRules||[]).forEach(s=>{t.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s)}}),t))}function CV(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>OR(e.style.getPropertyValue("src")))}async function MV(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=Os(n.ownerDocument.styleSheets),i=await EV(t,e);return CV(i)}function zR(n){return n.trim().replace(/["']/g,"")}function kV(n){const e=new Set;function t(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{e.add(zR(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&t(s)})}return t(n),e}async function AV(n,e){const t=await MV(n,e),i=kV(n);return(await Promise.all(t.filter(s=>i.has(zR(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return FR(s.cssText,a,e)}))).join(`
`)}async function PV(n,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await AV(n,e);if(t){const i=document.createElement("style"),r=document.createTextNode(t);i.appendChild(r),n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}}async function RV(n,e={}){const{width:t,height:i}=NR(n,e),r=await zf(n,e,!0);return await PV(r,e),await BR(r,e),TV(r,e),await YH(r,t,i)}async function LV(n,e={}){const{width:t,height:i}=NR(n,e),r=await RV(n,e),s=await $m(r),a=document.createElement("canvas"),o=a.getContext("2d"),l=e.pixelRatio||WH(),c=e.canvasWidth||t,u=e.canvasHeight||i;return a.width=c*l,a.height=u*l,e.skipAutoScale||$H(a),a.style.width=`${c}`,a.style.height=`${u}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,a.width,a.height)),o.drawImage(s,0,0,a.width,a.height),a}async function NV(n,e={}){return(await LV(n,e)).toDataURL()}const X1=({text:n="LOADING"})=>d.jsxs("div",{className:"hourglass-loader-container",children:[d.jsxs("div",{className:"hourglass-wrapper",children:[d.jsx("div",{className:"hourglass-blob"}),d.jsxs("div",{className:"hourglass",children:[d.jsx("div",{className:"hourglass-cap hourglass-cap-top"}),d.jsxs("div",{className:"hourglass-glass",children:[d.jsx("div",{className:"hourglass-sand-top"}),d.jsx("div",{className:"hourglass-stream"}),d.jsx("div",{className:"hourglass-sand-bottom"})]}),d.jsx("div",{className:"hourglass-cap hourglass-cap-bottom"})]}),d.jsx("div",{className:"hourglass-shadow"})]}),d.jsx("span",{className:"hourglass-text",children:n})]});function J1(n){const e=n.split(/\n+/).map(s=>s.trim()).filter(Boolean),t=[];let i={title:"Main Prompt",content:[]};for(const s of e)s.match(/^(?:#{1,4}\s+|(?:\*\*|__)(.+?)(?:\*\*|__)\s*$|(\d+)\.\s+(.{3,60}):)/)?((i.content.length>0||t.length===0)&&t.push({...i}),i={title:s.replace(/^#{1,4}\s+/,"").replace(/^\*\*|^\__|__$|\*\*$/g,"").replace(/:$/,"").trim(),content:[]}):i.content.push(s);if((i.content.length>0||t.length===0)&&t.push(i),t.length===1&&t[0].title==="Main Prompt"){const s={prompt:n.trim(),format:"structured",sections:IV(n)};return JSON.stringify(s,null,2)}const r={format:"structured",sections:t.map(s=>({title:s.title,content:s.content.length===1?s.content[0]:s.content})),full_prompt:n.trim()};return JSON.stringify(r,null,2)}function IV(n){return n.split(new RegExp("(?<=[.!?])\\s+")).map(e=>e.trim()).filter(e=>e.length>0)}const Qr=({prompt:n,isLoading:e,imageUrl:t,isImageMode:i,executedResult:r,isExecuting:s})=>{const[a,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(!0),[p,m]=S.useState("text"),v=S.useRef(null),y=()=>{if(!n)return;const E=new Blob([n],{type:"text/markdown"}),_=URL.createObjectURL(E),C=document.createElement("a");C.href=_,C.download=`prompt-${Date.now()}.md`,C.click(),URL.revokeObjectURL(_)},x=async()=>{if(v.current)try{const E=await NV(v.current,{backgroundColor:"#1a1a2e"}),_=document.createElement("a");_.href=E,_.download=`prompt-${Date.now()}.jpg`,_.click()}catch{}},g=async(E,_)=>{E&&(await navigator.clipboard.writeText(E),_==="prompt"?(o(!0),setTimeout(()=>o(!1),2e3)):(c(!0),setTimeout(()=>c(!1),2e3)))},f=()=>{if(!t)return;const E=document.createElement("a");E.href=t,E.download=`generated-image-${Date.now()}.png`,document.body.appendChild(E),E.click(),document.body.removeChild(E)},b=p==="json"&&n?J1(n):n,w=p==="json"&&n?J1(n):n;if(e)return d.jsx("div",{className:"glass-card rounded-2xl p-8 min-h-[200px] flex items-center justify-center",children:d.jsx(X1,{text:i?"GENERATING IMAGE...":"GENERATING..."})});if(!n&&!t&&!s)return d.jsx("div",{className:"glass-card rounded-2xl p-8 min-h-[200px] flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl glass flex items-center justify-center",children:d.jsx(Ou,{className:"w-8 h-8 animate-float"})}),d.jsx("p",{className:"text-base",children:i?"Generated image   ":"Generated prompt   "})]})});if(t)return d.jsxs("div",{className:"glass-card rounded-2xl p-6 relative group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-base font-semibold text-primary",children:"Generated Image "}),d.jsxs("button",{onClick:f,className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-primary",children:[d.jsx(SD,{className:"w-4 h-4"}),"Download"]})]}),d.jsx("div",{className:"glass-subtle rounded-xl p-2 overflow-hidden",children:d.jsx("img",{src:t,alt:"AI Generated",className:"w-full rounded-xl object-contain max-h-[512px]"})}),n&&d.jsx("div",{className:"mt-3 glass-subtle rounded-xl p-3",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:n})})]});const T=!!r||s;return d.jsxs("div",{className:"space-y-4",children:[n&&d.jsxs("div",{className:"glass-card rounded-2xl p-6 relative group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-base font-semibold text-primary",children:T?" Generated Prompt":"Generated Prompt"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center rounded-lg overflow-hidden border border-primary/20",children:[d.jsxs("button",{onClick:()=>m("text"),className:`flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium transition-all ${p==="text"?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground"}`,title:"Text ",children:[d.jsx(TD,{className:"w-3.5 h-3.5"}),"Text"]}),d.jsxs("button",{onClick:()=>m("json"),className:`flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium transition-all ${p==="json"?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground"}`,title:"JSON/Structured ",children:[d.jsx(Pk,{className:"w-3.5 h-3.5"}),"JSON"]})]}),d.jsxs("button",{onClick:()=>g(w,"prompt"),className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-primary",children:[a?d.jsx(oc,{className:"w-4 h-4"}):d.jsx(Lm,{className:"w-4 h-4"}),a?"Copied!":"Copy"]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 px-3 py-2 btn-glass rounded-xl text-sm font-medium text-primary",title:"Download as .md",children:[d.jsx(_D,{className:"w-4 h-4"}),".md"]}),d.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-2 btn-glass rounded-xl text-sm font-medium text-primary",title:"Download as JPG",children:[d.jsx(Ex,{className:"w-4 h-4"}),".jpg"]}),T&&d.jsx("button",{onClick:()=>h(!u),className:"flex items-center gap-1 px-2 py-2 text-muted-foreground hover:text-foreground transition-colors",children:u?d.jsx(Mw,{className:"w-4 h-4"}):d.jsx(Xr,{className:"w-4 h-4"})})]})]}),u&&d.jsx("div",{ref:v,className:"glass-subtle rounded-xl p-4",children:p==="json"?d.jsx("pre",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap font-mono overflow-x-auto",children:b}):d.jsx("p",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:b})})]}),s&&d.jsx("div",{className:"glass-card rounded-2xl p-8 min-h-[200px] flex items-center justify-center border-accent/20",children:d.jsx(X1,{text:"EXECUTING..."})}),r&&d.jsxs("div",{className:"glass-card rounded-2xl p-6 relative group border-accent/20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-base font-semibold text-accent",children:" Executed Result"}),d.jsxs("button",{onClick:()=>g(r,"result"),className:"flex items-center gap-1.5 px-3.5 py-2 btn-glass rounded-xl text-sm font-medium text-accent",children:[l?d.jsx(oc,{className:"w-4 h-4"}):d.jsx(Lm,{className:"w-4 h-4"}),l?"Copied!":"Copy"]})]}),d.jsx("div",{className:"glass-subtle rounded-xl p-4",children:d.jsx("p",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:r})})]})]})},nb=[{category:"Content & Writing",emoji:"",items:[{id:"writing",label:" Writing",description:"Content & Creative Writing"},{id:"copywriting",label:" Copywriting",description:"Sales & Ad Copy"},{id:"storytelling",label:" Storytelling",description:"Narrative & Stories"},{id:"poetry",label:" Poetry",description:"Poems & Lyrics"},{id:"blogging",label:" Blogging",description:"Blog Posts & Articles"},{id:"scriptwriting",label:" Scriptwriting",description:"Video & Film Scripts"},{id:"journalism",label:" Journalism",description:"News & Reporting"}]},{category:"Marketing & Business",emoji:"",items:[{id:"marketing",label:" Marketing",description:"Marketing & Advertising"},{id:"business",label:" Business",description:"Business & Strategy"},{id:"seo",label:" SEO",description:"Search Engine Optimization"},{id:"social-media",label:" Social Media",description:"Social Media Content"},{id:"email",label:" Email",description:"Email Writing & Campaigns"},{id:"branding",label:" Branding",description:"Brand Identity & Voice"},{id:"sales",label:" Sales",description:"Sales Pitches & Proposals"},{id:"ecommerce",label:" E-Commerce",description:"Product Listings & Descriptions"}]},{category:"Technical & Development",emoji:"",items:[{id:"coding",label:" Coding",description:"Programming & Development"},{id:"data",label:" Data",description:"Data Analysis & Science"},{id:"automation",label:" Automation",description:"Bots & Workflows"},{id:"devops",label:" DevOps",description:"CI/CD & Infrastructure"},{id:"api-design",label:" API Design",description:"REST & GraphQL APIs"},{id:"database",label:" Database",description:"SQL & Schema Design"},{id:"testing",label:" Testing",description:"QA & Test Automation"}]},{category:"Education & Research",emoji:"",items:[{id:"education",label:" Education",description:"Teaching & Learning"},{id:"research",label:" Research",description:"Research & Analysis"},{id:"summarization",label:" Summarization",description:"Text Summarization"},{id:"translation",label:" Translation",description:"Language Translation"},{id:"tutoring",label:" Tutoring",description:"1-on-1 Teaching"},{id:"exam-prep",label:" Exam Prep",description:"Study Guides & Quizzes"},{id:"lesson-plan",label:" Lesson Plan",description:"Course Design"}]},{category:"Creative & Design",emoji:"",items:[{id:"creative",label:" Creative",description:"Art & Design"},{id:"music",label:" Music",description:"Music Theory & Lyrics"},{id:"gaming",label:" Gaming",description:"Game Design & Reviews"},{id:"ux-design",label:" UX Design",description:"User Experience & UI"},{id:"photography",label:" Photography",description:"Photo Direction"},{id:"animation",label:" Animation",description:"Motion & Animation"}]},{category:"Professional Services",emoji:"",items:[{id:"legal",label:" Legal",description:"Legal Documents & Advice"},{id:"medical",label:" Medical",description:"Healthcare & Medical"},{id:"finance",label:" Finance",description:"Finance & Accounting"},{id:"hr",label:" HR",description:"Human Resources"},{id:"customer-service",label:" Customer Service",description:"Support & Service"},{id:"consulting",label:" Consulting",description:"Advisory & Strategy"},{id:"real-estate",label:" Real Estate",description:"Property & Listings"}]},{category:"Science & Logic",emoji:"",items:[{id:"science",label:" Science",description:"Science & Discovery"},{id:"math",label:" Math",description:"Mathematics & Logic"},{id:"philosophy",label:" Philosophy",description:"Philosophy & Ethics"},{id:"psychology",label:" Psychology",description:"Mental Health & Behavior"},{id:"statistics",label:" Statistics",description:"Statistical Analysis"}]},{category:"Lifestyle & Personal",emoji:"",items:[{id:"productivity",label:" Productivity",description:"Workflow & Efficiency"},{id:"cooking",label:" Cooking",description:"Recipes & Food"},{id:"travel",label:" Travel",description:"Travel Planning & Guides"},{id:"fitness",label:" Fitness",description:"Health & Exercise"},{id:"parenting",label:" Parenting",description:"Childcare & Family"},{id:"resume",label:" Resume",description:"CV & Job Applications"},{id:"presentation",label:" Presentation",description:"Slides & Pitches"},{id:"debate",label:" Debate",description:"Arguments & Persuasion"},{id:"general",label:" General",description:"General Purpose"}]}],yy=nb.flatMap(n=>n.items),vy=["Professional","Casual","Technical","Creative","Persuasive","Educational","Formal","Friendly","Humorous","Inspirational","Analytical","Conversational"],Dh=[{id:"standard",label:" Standard",desc:"Basic prompt generation"},{id:"chain-of-thought",label:" Chain-of-Thought",desc:"Step-by-step reasoning"},{id:"few-shot",label:" Few-Shot",desc:"With examples included"},{id:"role-play",label:" Role-Play",desc:"Expert persona assignment"},{id:"tree-of-thought",label:" Tree-of-Thought",desc:"Multi-path exploration"},{id:"socratic",label:" Socratic",desc:"Question-driven exploration"},{id:"mega-prompt",label:" Mega Prompt",desc:"Extremely comprehensive"},{id:"react",label:" ReAct",desc:"Reasoning + Action steps"},{id:"constraint",label:" Constraint-Based",desc:"With strict rules"},{id:"iterative",label:" Iterative Refinement",desc:"Progressive improvement"}],Oh=[{id:"default",label:" Default",desc:"Natural prose"},{id:"markdown",label:" Markdown",desc:"Structured with headings"},{id:"json",label:" JSON",desc:"Structured data format"},{id:"step-by-step",label:" Step-by-Step",desc:"Numbered instructions"},{id:"bullet-points",label:" Bullet Points",desc:"Concise list format"},{id:"essay",label:" Essay",desc:"Long-form article"},{id:"table",label:" Table",desc:"Tabular comparison"},{id:"checklist",label:" Checklist",desc:"Actionable task list"},{id:"qa",label:" Q&A",desc:"Question & Answer pairs"},{id:"outline",label:" Outline",desc:"Hierarchical structure"}],Fh=[{id:"general",label:" General",desc:"Anyone"},{id:"beginner",label:" Beginner",desc:"New learners"},{id:"intermediate",label:" Intermediate",desc:"Some experience"},{id:"expert",label:" Expert",desc:"Advanced users"},{id:"kids",label:" Kids",desc:"Children (5-12)"},{id:"teens",label:" Teens",desc:"Teenagers (13-18)"},{id:"academic",label:" Academic",desc:"Scholars & researchers"},{id:"business",label:" Business",desc:"Professionals"}],qm=[{id:"english",label:" English"},{id:"myanmar",label:" Myanmar"},{id:"chinese",label:" Chinese"},{id:"japanese",label:" Japanese"},{id:"korean",label:" Korean"},{id:"thai",label:" Thai"},{id:"spanish",label:" Spanish"},{id:"french",label:" French"},{id:"german",label:" German"},{id:"hindi",label:" Hindi"},{id:"arabic",label:" Arabic"},{id:"portuguese",label:" Portuguese"}],Bh=[{id:"brief",label:" Brief",desc:"Short & focused (200-400 words)"},{id:"detailed",label:" Detailed",desc:"Step-by-step (400-800 words)"},{id:"mega",label:" Mega",desc:"Comprehensive (800-1500 words)"}],ta=({value:n,onChange:e})=>d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(kw,{className:"w-5 h-5 inline mr-2"}),"Output Language ()"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:qm.map(t=>d.jsx("button",{onClick:()=>e(t.id),className:`glossy-chip ${n===t.id?"glossy-chip--active":""}`,children:t.label},t.id))})]}),So=n=>{if(n==="english")return"";const e=qm.find(t=>t.id===n);return`

OUTPUT LANGUAGE: You MUST write the ENTIRE output in ${(e==null?void 0:e.label)||n}. Every sentence, heading, and detail must be in this language. Do NOT write in English.`},na=S.forwardRef(({className:n,children:e,...t},i)=>d.jsx("button",{ref:i,className:ft("group relative inline-flex items-center justify-center whitespace-nowrap rounded-lg text-xs font-semibold","cursor-pointer border-0 px-3.5 py-1.5 transition-transform duration-200","hover:scale-105 active:scale-95 disabled:pointer-events-none disabled:opacity-50","animate-[rainbow_3s_linear_infinite]","bg-[length:200%]","bg-[linear-gradient(hsl(var(--card)),hsl(var(--card))),linear-gradient(hsl(var(--card))_50%,hsl(var(--card)/0.6)_80%,transparent),linear-gradient(90deg,hsl(0,100%,63%),hsl(90,100%,63%),hsl(210,100%,63%),hsl(195,100%,63%),hsl(270,100%,63%))]","[background-clip:padding-box,border-box,border-box]","[background-origin:border-box]","[border:2px_solid_transparent]","before:absolute before:bottom-[-20%] before:left-1/2 before:z-0 before:h-[20%] before:w-[60%] before:-translate-x-1/2","before:animate-[rainbow_3s_linear_infinite] before:bg-[length:200%]","before:bg-[linear-gradient(90deg,hsl(0,100%,63%),hsl(90,100%,63%),hsl(210,100%,63%),hsl(195,100%,63%),hsl(270,100%,63%))]","before:[filter:blur(0.6rem)]","text-foreground",n),...t,children:d.jsx("span",{className:"relative z-10 flex items-center gap-1.5",children:e})}));na.displayName="RainbowButton";const ia=({onClick:n,isLoading:e,disabled:t})=>d.jsx(na,{onClick:n,disabled:e||t,children:e?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"AI Selecting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ou,{className:"w-3 h-3"}),"AI Auto-Select"]})});function ra(){const[n,e]=S.useState(!1);return{suggest:async(i,r)=>{if(!i.trim())return pe.error(" "),null;e(!0);try{const s=r.map(l=>l.multiple?`"${l.key}": an array of 1-3 best matching values from [${l.options.map(c=>`"${c}"`).join(", ")}]`:`"${l.key}": one of [${l.options.map(c=>`"${c}"`).join(", ")}]`).join(`
`),{data:a,error:o}=await Ee.functions.invoke("generate-prompt",{body:{topic:i.trim(),category:"ai-suggestion",categoryDescription:"AI Auto-Selection System",tone:"Technical",context:`You are an expert AI that analyzes user input and selects the BEST matching options for each field.

USER INPUT: "${i.trim()}"

For each field below, pick the SINGLE BEST option that matches the user's input most accurately.

FIELDS:
${s}

CRITICAL RULES:
- Return ONLY a valid JSON object with the exact field keys
- Each value MUST be exactly from the provided options (copy the exact string)
- For array fields, return an array of 1-3 best matches
- For single fields, return exactly one string value
- Do NOT add any explanation, markdown, or extra text
- Analyze the user's input carefully and choose the most relevant option for each field
- If unsure, pick the most commonly appropriate option

Example output format:
{${r.map(l=>`"${l.key}":"${l.options[0]}"`).join(",")}}`}});if(o)throw new Error(o.message);if(a!=null&&a.error)throw new Error(a.error);if(a!=null&&a.prompt){const l=a.prompt.trim(),c=l.match(/```(?:json)?\s*([\s\S]*?)```/)||l.match(/(\{[\s\S]*\})/);if(c){const u=JSON.parse(c[1].trim()),h={};for(const p of r){const m=u[p.key];if(p.multiple&&Array.isArray(m)){const v=m.map(y=>p.options.includes(y)?y:p.options.find(g=>g.toLowerCase()===String(y).toLowerCase())||null).filter(Boolean);v.length>0&&(h[p.key]=v)}else if(!p.multiple){const v=Array.isArray(m)?m[0]:m;if(v&&p.options.includes(v))h[p.key]=v;else{const y=p.options.find(x=>x.toLowerCase()===String(v).toLowerCase());y&&(h[p.key]=y)}}}return pe.success("AI    ! "),h}throw new Error("AI response format error")}throw new Error("No response from AI")}catch(s){return console.error("AI suggestion error:",s),pe.error(s instanceof Error?s.message:"AI suggestion error "),null}finally{e(!1)}},isSuggesting:n}}const jV=({value:n,onChange:e})=>{const[t,i]=S.useState([]),r=o=>{i(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},s=nb.find(o=>o.items.some(l=>l.id===n)),a=s==null?void 0:s.items.find(o=>o.id===n);return d.jsxs("div",{className:"space-y-2",children:[a&&d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:"text-xs text-muted-foreground",children:":"}),d.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold glass-subtle border border-primary/30 text-primary",children:[a.label,"  ",a.description]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:nb.map(o=>{const l=t.includes(o.category),c=o.items.some(u=>u.id===n);return d.jsxs("div",{className:`rounded-xl border transition-all duration-200 overflow-hidden ${c?"border-primary/30 bg-primary/5":"border-border/50 bg-background/30"}`,children:[d.jsxs("button",{onClick:()=>r(o.category),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-foreground hover:bg-muted/30 transition-colors",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{children:o.emoji}),d.jsx("span",{children:o.category}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",o.items.length,")"]})]}),d.jsx(Xr,{className:`w-4 h-4 text-muted-foreground transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&d.jsx("div",{className:"px-2 pb-2 grid grid-cols-1 gap-1.5",children:o.items.map(u=>d.jsxs("button",{onClick:()=>e(u.id),className:`glossy-chip glossy-chip--lg text-left ${n===u.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:u.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:u.description})]},u.id))})]},o.category)})})]})},Q1=()=>{const{user:n}=yn(),[e,t]=S.useState("general"),[i,r]=S.useState("Professional"),[s,a]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState("standard"),[h,p]=S.useState("default"),[m,v]=S.useState("general"),[y,x]=S.useState("english"),[g,f]=S.useState("detailed"),[b,w]=S.useState(""),[T,E]=S.useState(""),[_,C]=S.useState(!1),[A,P]=S.useState(!1),[R,G]=S.useState(null),[I,j]=S.useState(!1),{suggest:z,isSuggesting:U}=ra(),W=async()=>{const D=await z(s,[{key:"category",label:"Category",options:yy.map(Q=>Q.id)},{key:"tone",label:"Tone",options:vy},{key:"promptMethod",label:"Prompt Method",options:Dh.map(Q=>Q.id)},{key:"outputFormat",label:"Output Format",options:Oh.map(Q=>Q.id)},{key:"audience",label:"Audience",options:Fh.map(Q=>Q.id)},{key:"detailLevel",label:"Detail Level",options:Bh.map(Q=>Q.id)}]);D&&(D.category&&t(D.category),D.tone&&r(D.tone),D.promptMethod&&u(D.promptMethod),D.outputFormat&&p(D.outputFormat),D.audience&&v(D.audience),D.detailLevel&&f(D.detailLevel))},V=async()=>{j(!0);const D=ce=>ce[Math.floor(Math.random()*ce.length)];t(D(yy).id),r(D(vy)),u(D(Dh).id),p(D(Oh).id),v(D(Fh).id),f(D(Bh).id),x(D(qm).id);const Q=["science fiction storytelling","educational game design","philosophical debate simulation","historical event recreation","music composition guidance","architectural visualization","psychological analysis","culinary innovation","space exploration scenario","environmental sustainability plan","artistic movement manifesto","medical diagnosis training","legal argument construction","sports strategy optimization","fashion trend forecasting","wildlife documentary narration","cryptocurrency analysis","urban planning proposal","theatrical script writing","robotics programming challenge","language translation nuance","dream interpretation guide","mythological world building","data visualization storytelling","mindfulness meditation script"],ae=["must include an unexpected twist","should blend two unrelated fields","needs a controversial angle","requires step-by-step breakdown","should challenge common assumptions","must incorporate sensory details","needs measurable outcomes","should tell a personal story","requires cultural sensitivity","must be implementable in 24 hours"],le=`Domain focus: ${D(Q)}. Constraint: ${D(ae)}. Random seed: ${Math.random().toString(36).slice(2,8)}`;try{const{data:ce,error:K}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Generate a wildly creative and unique topic idea. ${le}`,category:"random-general-idea",categoryDescription:"Random General Idea Generator",tone:"Creative",context:`You are a creative genius generating UNIQUE, NEVER-BEFORE-SEEN topic ideas. ${le}. Generate ONE short (1-2 sentences) creative and SURPRISING topic idea. It must be DIFFERENT from common AI prompts. Be bold, unconventional, and specific. Return ONLY the topic text. No quotes, no explanations, no numbering.`}});if(K)throw new Error(K.message);ce!=null&&ce.prompt?(a(ce.prompt.replace(/^["']|["']$/g,"").trim()),pe.success("AI generated a random idea! ")):(a("How to build a personal productivity system using AI tools"),pe.success("Random idea loaded! "))}catch{a("How to build a personal productivity system using AI tools"),pe.success("Random idea loaded! ")}finally{j(!1)}},M=yy.find(D=>D.id===e);Dh.find(D=>D.id===c),Oh.find(D=>D.id===h),Fh.find(D=>D.id===m);const q=qm.find(D=>D.id===y);Bh.find(D=>D.id===g);const X=()=>{const D=[],Q={"chain-of-thought":"Use Chain-of-Thought reasoning: break down the problem step-by-step, showing your reasoning process before reaching conclusions.","few-shot":"Use Few-Shot prompting: include 2-3 concrete examples that demonstrate the expected input/output pattern before the actual task.","role-play":"Use Role-Play method: assign a specific expert persona with relevant credentials, experience, and domain expertise.","tree-of-thought":"Use Tree-of-Thought: explore multiple solution paths, evaluate each branch, and select the most promising approach.",socratic:"Use Socratic method: guide through a series of probing questions that lead to deeper understanding and self-discovery.","mega-prompt":"Create a Mega Prompt: extremely comprehensive with every possible detail, constraint, example, and quality marker. Minimum 800 words.",react:"Use ReAct framework: alternate between Thought (reasoning), Action (what to do), and Observation (what was learned) steps.",constraint:"Use Constraint-Based prompting: define strict boundaries, rules, and limitations that must be followed exactly.",iterative:"Use Iterative Refinement: start with a basic version, then progressively improve with specific enhancement instructions."};c!=="standard"&&Q[c]&&D.push(`PROMPT METHOD: ${Q[c]}`);const ae={markdown:"Format output in clean Markdown with proper headings (##), lists, bold text, and code blocks where appropriate.",json:"Structure the output as a valid JSON object with clear key-value pairs and nested structures.","step-by-step":"Present as numbered step-by-step instructions, each step clearly explained.","bullet-points":"Use concise bullet points for easy scanning. Group related points under sub-headings.",essay:"Write as a well-structured essay with introduction, body paragraphs, and conclusion.",table:"Present information in a tabular format with clear column headers for comparison.",checklist:"Format as an actionable checklist with [ ] checkbox items.",qa:"Structure as Question & Answer pairs, covering key aspects of the topic.",outline:"Present as a hierarchical outline with main topics, subtopics, and supporting details."};h!=="default"&&ae[h]&&D.push(`OUTPUT FORMAT: ${ae[h]}`);const le={beginner:"Target audience: BEGINNERS. Use simple language, avoid jargon, explain concepts from scratch, include analogies.",intermediate:"Target audience: INTERMEDIATE learners. Assume basic knowledge, focus on deeper concepts and practical applications.",expert:"Target audience: EXPERTS. Use technical terminology freely, focus on advanced concepts, nuances, and edge cases.",kids:"Target audience: CHILDREN (5-12). Use very simple words, fun examples, emoji, and engaging storytelling.",teens:"Target audience: TEENAGERS (13-18). Use relatable examples, modern references, clear but not condescending language.",academic:"Target audience: ACADEMICS. Use formal academic tone, cite methodologies, include theoretical frameworks.",business:"Target audience: BUSINESS PROFESSIONALS. Focus on ROI, metrics, actionable insights, and strategic implications."};m!=="general"&&le[m]&&D.push(le[m]),y!=="english"&&D.push(`OUTPUT LANGUAGE: Write the entire output in ${(q==null?void 0:q.label)||y}. All content must be in this language.`);const ce={brief:"DETAIL LEVEL: Keep it concise and focused (200-400 words). Hit key points only.",detailed:"DETAIL LEVEL: Be thorough and well-organized (400-800 words). Include specific details, examples, and clear structure.",mega:"DETAIL LEVEL: Be EXTREMELY comprehensive (800-1500+ words). Include every detail, edge case, example, and consideration. Leave nothing to imagination."};return ce[g]&&D.push(ce[g]),o.trim()&&D.push(`ADDITIONAL CONTEXT: ${o.trim()}`),D.join(`

`)},ne=async()=>{if(!s.trim()){pe.error("Topic ");return}C(!0),w(""),E(""),G("generate");try{const D=await H();w(D),gi(),pe.success("Prompt generate ! "),k("prompt")}catch(D){console.error("Generation error:",D),pe.error(D instanceof Error?D.message:"Error ")}finally{C(!1)}},Y=async()=>{if(!s.trim()){pe.error("Topic ");return}C(!0),w(""),E(""),G("execute");try{const D=await H();w(D),C(!1),P(!0);const{data:Q,error:ae}=await Ee.functions.invoke("execute-prompt",{body:{prompt:D}});if(ae)throw new Error(ae.message);if(Q!=null&&Q.error)throw new Error(Q.error);if(Q!=null&&Q.result)E(Q.result),gi(),pe.success("Prompt execute ! "),k("prompt_execute");else throw new Error("Response  result ")}catch(D){console.error("Execute error:",D),pe.error(D instanceof Error?D.message:"Error ")}finally{C(!1),P(!1)}},H=async()=>{var ce,K;const D=te=>new Promise(re=>setTimeout(re,te)),Q=te=>{if(!te)return"Unknown error";if(typeof te=="string"){try{const re=JSON.parse(te);if(re&&typeof re=="object"&&"error"in re&&typeof re.error=="string")return re.error}catch{}return te}if(typeof te=="object"){const re=te;if(typeof re.error=="string")return re.error;if(typeof re.message=="string")return re.message}return"Unknown error"},ae=X(),le=3;for(let te=1;te<=le;te++){const{data:re,error:we}=await Ee.functions.invoke("generate-prompt",{body:{topic:s.trim(),category:e,categoryDescription:(M==null?void 0:M.description)||"General Purpose",tone:i,context:ae||void 0}});if(!we&&!(re!=null&&re.error)&&(re!=null&&re.prompt))return re.prompt;const ge=we,B=(ce=ge==null?void 0:ge.context)==null?void 0:ce.status,N=Q((re==null?void 0:re.error)??((K=ge==null?void 0:ge.context)==null?void 0:K.body)??(ge==null?void 0:ge.message));if(B===429&&te<le){const Z=900*Math.pow(2,te-1);pe.message(`Free models busy retrying (${te}/${le})`,{duration:1200}),await D(Z);continue}throw new Error(N)}throw new Error("Rate limit exceeded ")},k=async D=>{n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:D,topic:s.trim(),category:e})},O=_||A||!s.trim();return d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:" General Prompt"}),d.jsx(ia,{onClick:W,isLoading:U,disabled:!s.trim()}),d.jsx(na,{onClick:V,disabled:I,children:I?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"Generating..."]}):" Random Idea (AI)"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Ou,{className:"w-5 h-5 inline mr-2"}),""]}),d.jsx(Ft,{value:s,onChange:D=>a(D.target.value),onClear:()=>a(""),placeholder:"How to create Gemini API Key  Design  ...",rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Lk,{className:"w-5 h-5 inline mr-2"}),"Category "]}),d.jsx(jV,{value:e,onChange:t})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Jd,{className:"w-5 h-5 inline mr-2"}),"Prompt Engineering Method"]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:Dh.map(D=>d.jsxs("button",{onClick:()=>u(D.id),className:`glossy-chip glossy-chip--lg ${c===D.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:D.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:D.desc})]},D.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Ur,{className:"w-5 h-5 inline mr-2"}),"Tone / Style"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:vy.map(D=>d.jsx("button",{onClick:()=>r(D),className:`glossy-chip ${i===D?"glossy-chip--active":""}`,children:D},D))})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(xD,{className:"w-5 h-5 inline mr-2"}),"Output Format"]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:Oh.map(D=>d.jsxs("button",{onClick:()=>p(D.id),className:`glossy-chip glossy-chip--lg ${h===D.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:D.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:D.desc})]},D.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(kw,{className:"w-5 h-5 inline mr-2"}),"Target Audience"]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:Fh.map(D=>d.jsxs("button",{onClick:()=>v(D.id),className:`glossy-chip glossy-chip--lg ${m===D.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:D.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:D.desc})]},D.id))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsx(ta,{value:y,onChange:x}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Nm,{className:"w-5 h-5 inline mr-2"}),"Prompt Detail Level"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Bh.map(D=>d.jsxs("button",{onClick:()=>f(D.id),className:`glossy-chip glossy-chip--lg ${g===D.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:D.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:D.desc})]},D.id))})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:["Additional Context ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:o,onChange:D=>l(D.target.value),onClear:()=>l(""),placeholder:" details  ...",rows:2})]}),d.jsxs("div",{className:"glass-subtle rounded-2xl p-3",children:[d.jsx("p",{className:"text-[11px] uppercase tracking-wide text-muted-foreground mb-2",children:"Mode Guide"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-xs text-foreground/80",children:[d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:"text-primary font-bold",children:""}),d.jsxs("span",{children:[d.jsx("b",{children:"Prompt Generate"})," = Prompt  (copy )"]})]}),d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:"text-accent font-bold",children:""}),d.jsxs("span",{children:[d.jsx("b",{children:"Generate + Execute"})," = Prompt  AI  "]})]})]})]}),d.jsx("div",{className:"sticky bottom-2 z-30 md:static md:z-auto bg-background/70 backdrop-blur-sm rounded-2xl p-2 md:p-0 border border-border/40 md:border-0",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("button",{onClick:ne,disabled:O,className:"gen-btn gen-sm",children:[_&&R==="generate"&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Prompt Generate "})]}),d.jsxs("button",{onClick:Y,disabled:O,className:"gen-btn gen-sm",children:[(_||A)&&R==="execute"&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:A?"Execute ...":"Generate + Execute"})]})]})}),d.jsx(Qr,{prompt:b,isLoading:_,executedResult:T,isExecuting:A})]})},ib=[{category:"Classic & Foundational",emoji:"",styles:[{id:"modern-minimal",label:" Modern Minimal",desc:"Clean, spacious, whitespace-focused"},{id:"flat-design",label:" Flat Design",desc:"No shadows, bold colors, simple shapes"},{id:"material-design",label:" Material Design",desc:"Google's elevation & motion system"},{id:"skeuomorphism",label:" Skeuomorphism",desc:"Realistic textures & 3D effects"},{id:"swiss-design",label:" Swiss / International",desc:"Grid-based, Helvetica, structured"}]},{category:"Modern Trends",emoji:"",styles:[{id:"glassmorphism",label:" Glassmorphism",desc:"Frosted glass, blur, transparency"},{id:"neomorphism",label:" Neomorphism",desc:"Soft inner/outer shadows, embossed"},{id:"claymorphism",label:" Claymorphism",desc:"3D clay-like, soft rounded shapes"},{id:"aurora-ui",label:" Aurora UI",desc:"Gradient mesh, ethereal glow effects"},{id:"bento-grid",label:" Bento Grid",desc:"Card-based modular grid layout"}]},{category:"Bold & Artistic",emoji:"",styles:[{id:"brutalist",label:" Brutalist",desc:"Raw HTML, bold typography, anti-design"},{id:"maximalist",label:" Maximalist",desc:"Dense, layered, visually overwhelming"},{id:"art-deco",label:" Art Deco",desc:"Gold accents, geometric patterns, luxury"},{id:"bauhaus",label:" Bauhaus",desc:"Primary colors, geometric, functional"},{id:"pop-art",label:" Pop Art",desc:"Bright colors, comic-book style, halftone"}]},{category:"Retro & Nostalgic",emoji:"",styles:[{id:"retro-pixel",label:" Retro / Pixel",desc:"8-bit, nostalgic gaming aesthetic"},{id:"vaporwave",label:" Vaporwave",desc:"80s/90s aesthetic, neon, pink/purple"},{id:"synthwave",label:" Synthwave",desc:"Neon grids, sunset gradients, retro-futuristic"},{id:"y2k",label:" Y2K",desc:"2000s web style, chrome, bubble fonts"},{id:"win95",label:" Windows 95",desc:"Retro OS UI, pixel borders, grey panels"},{id:"geocities",label:" GeoCities / Web 1.0",desc:"Nostalgic old web, animated GIFs"}]},{category:"Dark & Premium",emoji:"",styles:[{id:"dark-premium",label:" Dark Premium",desc:"Luxurious dark theme, subtle accents"},{id:"dark-neon",label:" Dark Neon",desc:"Dark background, vibrant neon accents"},{id:"cyberpunk",label:" Cyberpunk",desc:"Glitch effects, neon, futuristic dystopia"},{id:"hacker-terminal",label:" Hacker Terminal",desc:"Green-on-black, monospace, matrix"},{id:"midnight-luxe",label:" Midnight Luxe",desc:"Deep navy, gold accents, premium feel"}]},{category:"Light & Soft",emoji:"",styles:[{id:"pastel-soft",label:" Pastel Soft",desc:"Light pastel colors, gentle, airy"},{id:"cotton-candy",label:" Cotton Candy",desc:"Pink & blue gradients, dreamy"},{id:"neutral-warm",label:" Neutral Warm",desc:"Beige, cream, earthy warm tones"},{id:"scandinavian",label:" Scandinavian",desc:"White, wood tones, hygge simplicity"},{id:"zen-minimal",label:" Zen Minimal",desc:"Ultra-clean, breathing room, calm"}]},{category:"Colorful & Playful",emoji:"",styles:[{id:"gradient-rich",label:" Gradient Rich",desc:"Bold color transitions, vibrant"},{id:"playful-fun",label:" Playful / Fun",desc:"Rounded shapes, colorful, bouncy"},{id:"memphis",label:" Memphis Design",desc:"Geometric shapes, squiggles, bold"},{id:"candy-ui",label:" Candy UI",desc:"Sweet colors, glossy buttons, cheerful"},{id:"rainbow",label:" Rainbow",desc:"Multi-color spectrum, pride-inspired"}]},{category:"Nature & Organic",emoji:"",styles:[{id:"organic",label:" Organic / Natural",desc:"Earth tones, leaf shapes, natural"},{id:"botanical",label:" Botanical",desc:"Plant illustrations, green palette"},{id:"ocean",label:" Ocean",desc:"Blue gradients, wave patterns, aquatic"},{id:"forest",label:" Forest",desc:"Deep greens, wood textures, rustic"},{id:"sunset",label:" Sunset / Golden Hour",desc:"Orange, pink, warm gradient sky"}]},{category:"Professional & Corporate",emoji:"",styles:[{id:"corporate-pro",label:" Corporate Pro",desc:"Professional, trustworthy, clean"},{id:"fintech",label:" Fintech",desc:"Trust-focused, data-rich, charts"},{id:"healthcare",label:" Healthcare",desc:"Calming blue/green, accessibility-first"},{id:"legal",label:" Legal / Formal",desc:"Serif fonts, muted tones, authoritative"},{id:"startup",label:" Startup Modern",desc:"Bold hero, gradient CTA, energetic"}]},{category:"Editorial & Content",emoji:"",styles:[{id:"editorial",label:" Editorial",desc:"Magazine-like, strong typography"},{id:"newspaper",label:" Newspaper",desc:"Column layout, serif, print-inspired"},{id:"blog-modern",label:" Blog Modern",desc:"Reading-focused, clean typography"},{id:"portfolio-creative",label:" Portfolio Creative",desc:"Full-screen sections, bold imagery"}]},{category:"Futuristic & Tech",emoji:"",styles:[{id:"sci-fi",label:" Sci-Fi",desc:"HUD elements, holographic, space-themed"},{id:"holographic",label:" Holographic",desc:"Iridescent, rainbow reflections, chrome"},{id:"tech-dashboard",label:" Tech Dashboard",desc:"Data-dense, dark, real-time metrics"},{id:"ai-futuristic",label:" AI Futuristic",desc:"Neural network visuals, blue glow"},{id:"blockchain",label:" Blockchain",desc:"Crypto aesthetic, dark, neon accents"}]},{category:"Cultural & Themed",emoji:"",styles:[{id:"japanese-minimal",label:" Japanese Minimal",desc:"Wabi-sabi, asymmetry, muted"},{id:"arabic-geometric",label:" Arabic Geometric",desc:"Islamic patterns, ornate, gold"},{id:"chinese-modern",label:" Chinese Modern",desc:"Red & gold, modern eastern fusion"},{id:"african-vibrant",label:" African Vibrant",desc:"Bold patterns, warm colors, Kente"},{id:"indian-festive",label:" Indian Festive",desc:"Rangoli patterns, rich colors, ornate"}]},{category:"Special & Unique",emoji:"",styles:[{id:"comic-book",label:" Comic Book",desc:"Speech bubbles, halftone, panels"},{id:"hand-drawn",label:" Hand Drawn",desc:"Sketch-like, doodle borders, informal"},{id:"paper-craft",label:" Paper / Craft",desc:"Paper textures, cutout shapes, tactile"},{id:"3d-immersive",label:" 3D Immersive",desc:"WebGL, parallax, depth layers"},{id:"monochrome",label:" Monochrome",desc:"Single color + shades, high contrast"},{id:"duotone",label:" Duotone",desc:"Two-tone color overlay, bold photos"},{id:"split-screen",label:" Split Screen",desc:"Two-panel layout, contrast sides"},{id:"asymmetric",label:" Asymmetric",desc:"Off-grid layout, creative positioning"}]}],Ul=ib.flatMap(n=>n.styles),UR=({value:n,onChange:e,allowDeselect:t=!0})=>{const[i,r]=S.useState([]),s=l=>{r(c=>c.includes(l)?c.filter(u=>u!==l):[...c,l])},a=ib.find(l=>l.styles.some(c=>c.id===n)),o=a==null?void 0:a.styles.find(l=>l.id===n);return d.jsxs("div",{className:"space-y-2",children:[o&&d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:"text-xs text-muted-foreground",children:":"}),d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold glass-subtle border border-primary/30 text-primary",children:o.label})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:ib.map(l=>{const c=i.includes(l.category),u=l.styles.some(h=>h.id===n);return d.jsxs("div",{className:`rounded-xl border transition-all duration-200 overflow-hidden ${u?"border-primary/30 bg-primary/5":"border-border/50 bg-background/30"}`,children:[d.jsxs("button",{onClick:()=>s(l.category),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-foreground hover:bg-muted/30 transition-colors",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{children:l.emoji}),d.jsx("span",{children:l.category}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",l.styles.length,")"]})]}),d.jsx(Xr,{className:`w-4 h-4 text-muted-foreground transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&d.jsx("div",{className:"px-2 pb-2 grid grid-cols-1 gap-1.5",children:l.styles.map(h=>d.jsxs("button",{onClick:()=>e(t&&n===h.id?"":h.id),className:`glossy-chip glossy-chip--lg text-left ${n===h.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:h.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:h.desc})]},h.id))})]},l.category)})})]})},zh=[{id:"python",label:" Python"},{id:"javascript",label:" JavaScript"},{id:"typescript",label:" TypeScript"},{id:"react",label:" React"},{id:"nextjs",label:" Next.js"},{id:"nodejs",label:" Node.js"},{id:"java",label:" Java"},{id:"csharp",label:" C#"},{id:"go",label:" Go"},{id:"rust",label:" Rust"},{id:"swift",label:" Swift"},{id:"kotlin",label:" Kotlin"},{id:"php",label:" PHP"},{id:"sql",label:" SQL"},{id:"html-css",label:" HTML/CSS"},{id:"flutter",label:" Flutter/Dart"}],Uh=[{id:"build-feature",label:" Feature ",desc:"New feature/module "},{id:"debug",label:" Debug / Fix",desc:"Bug /"},{id:"refactor",label:" Refactor",desc:"Code   "},{id:"api-integration",label:" API Integration",desc:"API "},{id:"database",label:" Database Design",desc:"DB schema/query "},{id:"auth",label:" Authentication",desc:"Login/Auth system"},{id:"testing",label:" Testing",desc:"Test "},{id:"deployment",label:" Deployment",desc:"Deploy/DevOps setup"},{id:"optimization",label:" Optimization",desc:"Performance "},{id:"architecture",label:" Architecture",desc:"System design/structure"},{id:"ui-component",label:" UI Component",desc:"UI/UX component "},{id:"algorithm",label:" Algorithm",desc:"Algorithm/Data Structure"}],Gh=[{id:"beginner",label:" Beginner",desc:""},{id:"intermediate",label:" Intermediate",desc:""},{id:"advanced",label:" Advanced",desc:""},{id:"expert",label:" Expert",desc:""}],Hh=[{id:"static",label:" Static Website",desc:"HTML/CSS/JS only, no backend"},{id:"dynamic",label:" Dynamic Website",desc:"Server-side rendering, DB connected"},{id:"spa",label:" SPA (Single Page App)",desc:"Client-side routing, API-based"},{id:"fullstack",label:" Full Stack",desc:"Frontend + Backend + Database"},{id:"jamstack",label:" JAMstack",desc:"Static gen + APIs + Headless CMS"},{id:"ssr",label:" SSR (Server-Side)",desc:"Next.js/Nuxt server rendering"},{id:"pwa",label:" PWA",desc:"Progressive Web App, offline support"},{id:"serverless",label:" Serverless",desc:"Edge functions, no traditional server"},{id:"headless",label:" Headless (API Only)",desc:"Backend API without frontend"},{id:"micro-frontend",label:" Micro Frontend",desc:"Module federation architecture"}],Vh=[{id:"step-by-step",label:" Step-by-Step Guide"},{id:"full-code",label:" Full Code Solution"},{id:"explain-then-code",label:" Explain + Code"},{id:"best-practices",label:" Best Practices"},{id:"compare",label:" Compare Approaches"},{id:"review",label:" Code Review Style"}],DV=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState(["typescript"]),[s,a]=S.useState("build-feature"),[o,l]=S.useState("intermediate"),[c,u]=S.useState("explain-then-code"),[h,p]=S.useState(""),[m,v]=S.useState(""),[y,x]=S.useState(""),[g,f]=S.useState("english"),[b,w]=S.useState(""),[T,E]=S.useState(!1),[_,C]=S.useState(!1),{suggest:A,isSuggesting:P}=ra(),R=async()=>{const M=await A(e,[{key:"language",label:"Language",options:zh.map(q=>q.id),multiple:!0},{key:"useCase",label:"Use Case",options:Uh.map(q=>q.id)},{key:"complexity",label:"Complexity",options:Gh.map(q=>q.id)},{key:"promptStyle",label:"Prompt Style",options:Vh.map(q=>q.id)},{key:"websiteType",label:"Website Type",options:Hh.map(q=>q.id)},{key:"designStyle",label:"Design Style",options:Ul.map(q=>q.id)}]);M&&(M.language&&r(Array.isArray(M.language)?M.language:[M.language]),M.useCase&&a(M.useCase),M.complexity&&l(M.complexity),M.promptStyle&&u(M.promptStyle),M.websiteType&&p(M.websiteType),M.designStyle&&v(M.designStyle))},G=async()=>{C(!0);const M=Y=>Y[Math.floor(Math.random()*Y.length)];r([M(zh).id]),a(M(Uh).id),l(M(Gh).id),u(M(Vh).id);const q=["WebRTC video streaming","blockchain smart contracts","IoT device dashboard","machine learning pipeline","geolocation-based social app","real-time multiplayer game","browser extension","CLI developer tool","GraphQL API gateway","serverless microservice","progressive web app","accessibility auditing tool","code playground/sandbox","data pipeline ETL","payment processing system","notification engine","search engine with ranking","file encryption service","CI/CD pipeline manager","API rate limiter","WebAssembly module","natural language processing","computer vision app","recommendation engine","workflow automation builder"],X=["with AI-powered features","using only edge functions","with real-time collaboration","that works offline-first","with voice control interface","using WebSocket streams","with gamification mechanics","using peer-to-peer architecture","with end-to-end encryption","that generates visualizations","with plugin/extension system","using event-driven architecture"],ne=`Tech: ${M(q)}. Twist: ${M(X)}. Seed: ${Math.random().toString(36).slice(2,8)}`;try{const{data:Y,error:H}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Generate a unique coding project idea. ${ne}`,category:"random-coding-idea",categoryDescription:"Random Coding Idea Generator",tone:"Technical",context:`You are a senior developer brainstorming UNIQUE project ideas. ${ne}. Generate ONE short (1-2 sentences) innovative coding project idea that is SPECIFIC and ACTIONABLE. Avoid generic ideas like "todo app" or "blog". Be creative and technically interesting. Return ONLY the project description. No quotes, no explanations, no numbering.`}});if(H)throw new Error(H.message);Y!=null&&Y.prompt?(t(Y.prompt.replace(/^["']|["']$/g,"").trim()),pe.success("AI generated a random coding idea! ")):(t("Build a real-time collaborative markdown editor with WebSocket support"),pe.success("Random coding idea loaded! "))}catch{t("Build a real-time collaborative markdown editor with WebSocket support"),pe.success("Random coding idea loaded! ")}finally{C(!1)}},I=M=>{r(q=>q.includes(M)?q.length>1?q.filter(X=>X!==M):q:[...q,M])},j=Uh.find(M=>M.id===s),z=Gh.find(M=>M.id===o),U=Vh.find(M=>M.id===c),W=zh.filter(M=>i.includes(M.id)).map(M=>M.label).join(", "),V=async()=>{var M,q,X,ne;if(!e.trim()){pe.error(" ");return}E(!0),w("");try{const{data:Y,error:H}=await Ee.functions.invoke("generate-prompt",{body:{topic:e.trim(),category:"coding-prompt",categoryDescription:"Advanced Coding Prompt Generator",tone:"Technical",context:`You are an expert software engineering prompt architect. Generate a highly detailed, production-ready coding prompt that an AI coding assistant can use to produce excellent code.

REQUIREMENTS:
- Languages/Frameworks: ${W}
- Use Case: ${j==null?void 0:j.label} - ${j==null?void 0:j.desc}
- Complexity Level: ${z==null?void 0:z.label} - ${z==null?void 0:z.desc}
- Output Style: ${U==null?void 0:U.label}
${h?`- Website Type: ${(M=Hh.find(k=>k.id===h))==null?void 0:M.label} - ${(q=Hh.find(k=>k.id===h))==null?void 0:q.desc}`:""}
${m?`- UI/UX Design Style: ${(X=Ul.find(k=>k.id===m))==null?void 0:X.label} - ${(ne=Ul.find(k=>k.id===m))==null?void 0:ne.desc}`:""}
${y?`- Additional Context: ${y}`:""}

PROMPT OUTPUT FORMAT (based on style "${c}"):
${c==="step-by-step"?`Generate a step-by-step implementation guide prompt that includes:
1. Project setup instructions
2. File structure
3. Each step with clear code snippets
4. Error handling considerations
5. Testing suggestions`:""}
${c==="full-code"?`Generate a prompt that asks for complete, production-ready code including:
1. All necessary imports
2. Type definitions (if TypeScript)
3. Main implementation
4. Error handling
5. Comments explaining key decisions`:""}
${c==="explain-then-code"?`Generate a prompt that asks for:
1. Conceptual explanation of the approach
2. Architecture decisions and why
3. Complete implementation code
4. Usage examples
5. Edge cases to consider`:""}
${c==="best-practices"?`Generate a prompt focused on:
1. Industry best practices for this task
2. Common pitfalls to avoid
3. Recommended patterns and anti-patterns
4. Performance considerations
5. Security considerations
6. Code with best practices applied`:""}
${c==="compare"?`Generate a prompt that asks for:
1. Multiple approaches to solve the problem
2. Pros and cons of each approach
3. Performance comparison
4. When to use which approach
5. Recommended approach with implementation`:""}
${c==="review"?`Generate a prompt in code review style:
1. Initial implementation
2. Issues and improvements identified
3. Refactored version with explanations
4. Performance and security audit
5. Final polished code`:""}

IMPORTANT RULES:
- The prompt should be specific enough that an AI can produce production-quality code
- Include relevant technical specifications
- Mention error handling, edge cases, and testing
- For ${o} level, adjust complexity accordingly
- Make the prompt reusable and well-structured
- Output ONLY the prompt, no meta-explanations${So(g)}`}});if(H)throw new Error(H.message);if(Y!=null&&Y.error)throw new Error(Y.error);if(Y!=null&&Y.prompt)w(Y.prompt),gi(),pe.success("Coding Prompt generate ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"prompt",topic:e.trim(),category:"coding-prompt"});else throw new Error("Prompt generate ")}catch(Y){console.error("Generation error:",Y),pe.error(Y instanceof Error?Y.message:"Error ")}finally{E(!1)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:"Advanced Coding"}),d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-accent/20 text-accent",children:" Production-Ready Prompts"}),d.jsx(ia,{onClick:R,isLoading:P,disabled:!e.trim()}),d.jsx(na,{onClick:G,disabled:_,children:_?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"Generating..."]}):" Random Idea (AI)"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(bD,{className:"w-5 h-5 inline mr-2"}),"?"]}),d.jsx(Ft,{value:e,onChange:M=>t(M.target.value),placeholder:" - User authentication system with JWT, refresh tokens, role-based access control...",rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Pk,{className:"w-5 h-5 inline mr-2"}),"Language / Framework ",d.jsx("span",{className:"text-muted-foreground text-xs",children:"( )"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:zh.map(M=>d.jsx("button",{onClick:()=>I(M.id),className:`glossy-chip ${i.includes(M.id)?"glossy-chip--active":""}`,children:M.label},M.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Nm,{className:"w-5 h-5 inline mr-2"}),"Use Case"]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Uh.map(M=>d.jsxs("button",{onClick:()=>a(M.id),className:`glossy-chip glossy-chip--lg ${s===M.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:M.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:M.desc})]},M.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(kw,{className:"w-5 h-5 inline mr-2"}),"Website  ",d.jsx("span",{className:"text-muted-foreground text-xs",children:"(Website  )"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Hh.map(M=>d.jsxs("button",{onClick:()=>p(h===M.id?"":M.id),className:`glossy-chip glossy-chip--lg ${h===M.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:M.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:M.desc})]},M.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Mx,{className:"w-5 h-5 inline mr-2"}),"UI/UX Design Style ",d.jsx("span",{className:"text-muted-foreground text-xs",children:"(optional -  )"})]}),d.jsx(UR,{value:m,onChange:v})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(wD,{className:"w-5 h-5 inline mr-2"}),"Complexity Level"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Gh.map(M=>d.jsx("button",{onClick:()=>l(M.id),className:`glossy-chip ${o===M.id?"glossy-chip--active":""}`,children:M.label},M.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(CD,{className:"w-5 h-5 inline mr-2"}),"Output Style"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Vh.map(M=>d.jsx("button",{onClick:()=>u(M.id),className:`glossy-chip ${c===M.id?"glossy-chip--active":""}`,children:M.label},M.id))})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(OD,{className:"w-5 h-5 inline mr-2"}),"Additional Context ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:y,onChange:M=>x(M.target.value),placeholder:" - Using PostgreSQL, Docker deployment, must support 10k concurrent users, REST API with OpenAPI spec...",rows:2}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" Tech stack, constraints, requirements  "})]}),d.jsx(ta,{value:g,onChange:f}),d.jsxs("button",{onClick:V,disabled:T||!e.trim(),className:"gen-btn",children:[T&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Coding Prompt Generate "})]}),d.jsx(Qr,{prompt:b,isLoading:T})]})},rb=[{category:"Authentication & Security",emoji:"",features:[{id:"auth",label:" Authentication"},{id:"oauth",label:" OAuth / Social Login"},{id:"2fa",label:" Two-Factor Auth (2FA)"},{id:"rbac",label:" Role-Based Access"},{id:"jwt",label:" JWT Tokens"},{id:"encryption",label:" Data Encryption"},{id:"audit-log",label:" Audit Logging"},{id:"rate-limiting",label:" Rate Limiting"},{id:"captcha",label:" CAPTCHA"},{id:"sso",label:" SSO Integration"}]},{category:"Database & Storage",emoji:"",features:[{id:"database",label:" Database CRUD"},{id:"file-upload",label:" File Upload"},{id:"image-storage",label:" Image Storage"},{id:"caching",label:" Caching Layer"},{id:"search-index",label:" Full-Text Search"},{id:"data-export",label:" Data Export (CSV/JSON)"},{id:"data-import",label:" Data Import"},{id:"backup",label:" Auto Backup"},{id:"versioning",label:" Data Versioning"},{id:"cloud-storage",label:" Cloud Storage"}]},{category:"UI & Design",emoji:"",features:[{id:"responsive",label:" Responsive Design"},{id:"dark-mode",label:" Dark Mode"},{id:"animations",label:" Animations"},{id:"skeleton-loading",label:" Skeleton Loading"},{id:"custom-themes",label:" Custom Themes"},{id:"drag-drop",label:" Drag & Drop"},{id:"infinite-scroll",label:" Infinite Scroll"},{id:"parallax",label:" Parallax Effects"},{id:"micro-interactions",label:" Micro-interactions"},{id:"glass-morphism",label:" Glass Morphism"},{id:"color-picker",label:" Color Picker"},{id:"tooltip-popover",label:" Tooltips & Popovers"}]},{category:"Navigation & Layout",emoji:"",features:[{id:"sidebar-nav",label:" Sidebar Navigation"},{id:"breadcrumbs",label:" Breadcrumbs"},{id:"tabs-layout",label:" Tabs Layout"},{id:"multi-step-wizard",label:" Multi-Step Wizard"},{id:"modal-dialogs",label:" Modal Dialogs"},{id:"bottom-nav",label:" Bottom Navigation"},{id:"mega-menu",label:" Mega Menu"},{id:"command-palette",label:" Command Palette"},{id:"split-view",label:" Split View"},{id:"sticky-header",label:" Sticky Header"}]},{category:"Communication & Social",emoji:"",features:[{id:"realtime",label:" Realtime Updates"},{id:"notifications",label:" Notifications"},{id:"chat",label:" Live Chat"},{id:"comments",label:" Comments System"},{id:"reactions",label:" Reactions / Likes"},{id:"mentions",label:"@ Mentions"},{id:"activity-feed",label:" Activity Feed"},{id:"sharing",label:" Social Sharing"},{id:"follow-system",label:" Follow System"},{id:"forums",label:" Forums / Threads"}]},{category:"E-Commerce & Payments",emoji:"",features:[{id:"payments",label:" Payment Gateway"},{id:"shopping-cart",label:" Shopping Cart"},{id:"subscriptions",label:" Subscriptions"},{id:"invoicing",label:" Invoicing"},{id:"product-catalog",label:" Product Catalog"},{id:"wishlist",label:" Wishlist"},{id:"coupons",label:" Coupons / Discounts"},{id:"order-tracking",label:" Order Tracking"},{id:"reviews-ratings",label:" Reviews & Ratings"},{id:"inventory",label:" Inventory Management"}]},{category:"AI & Machine Learning",emoji:"",features:[{id:"ai-features",label:" AI Features"},{id:"ai-chatbot",label:" AI Chatbot"},{id:"ai-summarization",label:" AI Summarization"},{id:"ai-image-gen",label:" AI Image Generation"},{id:"ai-recommendation",label:" AI Recommendations"},{id:"ai-translation",label:" AI Translation"},{id:"ai-voice",label:" AI Voice Features"},{id:"ai-code-assist",label:" AI Code Assistant"},{id:"sentiment-analysis",label:" Sentiment Analysis"},{id:"ocr",label:" OCR / Text Extraction"}]},{category:"Data Visualization",emoji:"",features:[{id:"charts",label:" Charts / Graphs"},{id:"dashboards",label:" Dashboard Widgets"},{id:"tables-grid",label:" Data Tables / Grid"},{id:"maps",label:" Interactive Maps"},{id:"timeline",label:" Timeline View"},{id:"kanban",label:" Kanban Board"},{id:"calendar-view",label:" Calendar View"},{id:"gantt-chart",label:" Gantt Chart"},{id:"heatmaps",label:" Heatmaps"},{id:"tree-view",label:" Tree / Hierarchy View"}]},{category:"Content & Media",emoji:"",features:[{id:"rich-text-editor",label:" Rich Text Editor"},{id:"markdown",label:" Markdown Support"},{id:"media-player",label:" Media Player"},{id:"image-gallery",label:" Image Gallery"},{id:"pdf-viewer",label:" PDF Viewer"},{id:"code-editor",label:" Code Editor"},{id:"carousel",label:" Image Carousel"},{id:"video-embed",label:" Video Embed"},{id:"audio-recorder",label:" Audio Recorder"},{id:"cms",label:" CMS / Blog Engine"}]},{category:"Search & Filtering",emoji:"",features:[{id:"search",label:" Search & Filter"},{id:"autocomplete",label:" Autocomplete"},{id:"faceted-search",label:" Faceted Search"},{id:"sorting",label:" Advanced Sorting"},{id:"saved-filters",label:" Saved Filters"},{id:"fuzzy-search",label:" Fuzzy Search"},{id:"recent-searches",label:" Recent Searches"},{id:"tag-system",label:" Tag System"}]},{category:"Integrations & APIs",emoji:"",features:[{id:"api-integration",label:" API Integration"},{id:"webhooks",label:" Webhooks"},{id:"email",label:" Email System"},{id:"sms",label:" SMS Notifications"},{id:"push-notif",label:" Push Notifications"},{id:"calendar-sync",label:" Calendar Sync"},{id:"payment-gateway",label:" Payment APIs"},{id:"social-api",label:" Social Media APIs"},{id:"analytics-integration",label:" Analytics APIs"},{id:"crm-integration",label:" CRM Integration"}]},{category:"Localization & Accessibility",emoji:"",features:[{id:"i18n",label:" Multi-language (i18n)"},{id:"rtl",label:" RTL Support"},{id:"a11y",label:" Accessibility (a11y)"},{id:"seo",label:" SEO Optimized"},{id:"timezone",label:" Timezone Support"},{id:"currency",label:" Multi-Currency"},{id:"screen-reader",label:" Screen Reader"},{id:"keyboard-nav",label:" Keyboard Navigation"}]},{category:"DevOps & Performance",emoji:"",features:[{id:"pwa",label:" PWA Support"},{id:"offline",label:" Offline Mode"},{id:"lazy-loading",label:" Lazy Loading"},{id:"error-handling",label:" Error Handling"},{id:"logging",label:" Logging System"},{id:"testing",label:" Unit / E2E Tests"},{id:"ci-cd",label:" CI/CD Pipeline"},{id:"monitoring",label:" App Monitoring"},{id:"feature-flags",label:" Feature Flags"},{id:"code-splitting",label:" Code Splitting"}]}],xy=rb.flatMap(n=>n.features),OV=({selected:n,onChange:e})=>{const[t,i]=S.useState([]),r=o=>{i(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},s=o=>{e(n.includes(o)?n.filter(l=>l!==o):[...n,o])},a=n.length;return d.jsxs("div",{className:"space-y-2",children:[a>0&&d.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mb-3",children:[d.jsxs("span",{className:"text-xs text-muted-foreground",children:[" (",a,"):"]}),n.slice(0,8).map(o=>{const l=rb.flatMap(c=>c.features).find(c=>c.id===o);return l?d.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium glass-subtle border border-primary/30 text-primary",children:l.label},o):null}),a>8&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",a-8," more"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:rb.map(o=>{const l=t.includes(o.category),c=o.features.filter(u=>n.includes(u.id)).length;return d.jsxs("div",{className:`rounded-xl border transition-all duration-200 overflow-hidden ${c>0?"border-primary/30 bg-primary/5":"border-border/50 bg-background/30"}`,children:[d.jsxs("button",{onClick:()=>r(o.category),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-foreground hover:bg-muted/30 transition-colors",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{children:o.emoji}),d.jsx("span",{children:o.category}),c>0&&d.jsx("span",{className:"px-1.5 py-0.5 rounded-full text-[10px] font-bold bg-primary/20 text-primary",children:c})]}),d.jsx(Xr,{className:`w-4 h-4 text-muted-foreground transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&d.jsx("div",{className:"px-2 pb-2 grid grid-cols-1 gap-1.5",children:o.features.map(u=>d.jsx("button",{onClick:()=>s(u.id),className:`glossy-chip text-left ${n.includes(u.id)?"glossy-chip--active":""}`,children:u.label},u.id))})]},o.category)})})]})},Wh=[{id:"lovable",label:" Lovable"},{id:"cursor",label:" Cursor"},{id:"bolt",label:" Bolt.new"},{id:"v0",label:" v0 (Vercel)"},{id:"replit",label:" Replit Agent"},{id:"windsurf",label:" Windsurf"},{id:"copilot",label:" GitHub Copilot"},{id:"claude",label:" Claude Code"},{id:"devin",label:" Devin"},{id:"cline",label:" Cline"}],$h=[{id:"web-app",label:" Web App",desc:"Full web application"},{id:"landing",label:" Landing Page",desc:"Marketing / product page"},{id:"dashboard",label:" Dashboard",desc:"Admin / analytics panel"},{id:"ecommerce",label:" E-Commerce",desc:"Online store"},{id:"saas",label:" SaaS Platform",desc:"Subscription service"},{id:"portfolio",label:" Portfolio",desc:"Personal showcase"},{id:"blog",label:" Blog / CMS",desc:"Content platform"},{id:"social",label:" Social App",desc:"Community / messaging"},{id:"mobile-web",label:" Mobile Web App",desc:"Mobile-first PWA"},{id:"ai-tool",label:" AI Tool",desc:"AI-powered application"},{id:"marketplace",label:" Marketplace",desc:"Multi-vendor platform"},{id:"game",label:" Web Game",desc:"Browser-based game"}],qh=[{id:"react-tailwind",label:" React + Tailwind"},{id:"nextjs",label:" Next.js"},{id:"vue-nuxt",label:" Vue / Nuxt"},{id:"svelte",label:" SvelteKit"},{id:"react-native",label:" React Native"},{id:"flutter",label:" Flutter Web"},{id:"astro",label:" Astro"},{id:"remix",label:" Remix"},{id:"vanilla",label:" Vanilla JS/TS"},{id:"angular",label:" Angular"}],Yh=[{id:"brief",label:" Brief",desc:"Short & focused prompt"},{id:"detailed",label:" Detailed",desc:"Step-by-step instructions"},{id:"mega",label:" Mega Prompt",desc:"Extremely comprehensive"}],FV=()=>{var Y;const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState("lovable"),[s,a]=S.useState("web-app"),[o,l]=S.useState(["react-tailwind"]),[c,u]=S.useState("modern-minimal"),[h,p]=S.useState(["responsive","dark-mode"]),[m,v]=S.useState("detailed"),[y,x]=S.useState(""),[g,f]=S.useState(""),[b,w]=S.useState("english"),[T,E]=S.useState(""),[_,C]=S.useState(!1),[A,P]=S.useState(!1),{suggest:R,isSuggesting:G}=ra(),I=async()=>{const H=await R(e,[{key:"platform",label:"Platform",options:Wh.map(k=>k.id)},{key:"projectType",label:"Project Type",options:$h.map(k=>k.id)},{key:"stack",label:"Tech Stack",options:qh.map(k=>k.id),multiple:!0},{key:"designStyle",label:"Design Style",options:Ul.map(k=>k.id)},{key:"features",label:"Features",options:xy.map(k=>k.id),multiple:!0},{key:"detailLevel",label:"Detail Level",options:Yh.map(k=>k.id)}]);H&&(H.platform&&r(H.platform),H.projectType&&a(H.projectType),H.stack&&l(Array.isArray(H.stack)?H.stack:[H.stack]),H.designStyle&&u(H.designStyle),H.features&&p(Array.isArray(H.features)?H.features:[H.features]),H.detailLevel&&v(H.detailLevel))},j=async()=>{P(!0);const H=D=>D[Math.floor(Math.random()*D.length)],k=(D,Q)=>[...D].sort(()=>Math.random()-.5).slice(0,Q).map(le=>le.id);r(H(Wh).id),a(H($h).id),l([H(qh).id]),u(H(Ul).id),p(k(xy,3+Math.floor(Math.random()*4))),v(H(Yh).id);const O=["AI-powered recipe recommendation app with meal planning and grocery lists","Real-time collaborative whiteboard with drawing tools and video chat","Personal finance tracker with AI insights and spending predictions","Music discovery platform with AI-curated playlists and social sharing","Habit tracking app with gamification, streaks, and community challenges","Virtual event platform with live streaming, chat, and networking rooms","AI writing assistant with tone analysis, grammar fixes, and templates","Smart bookmark manager with AI tagging, search, and reading list","Freelancer project management tool with time tracking and invoicing","Plant care app with AI identification, watering schedules, and community","Language learning platform with AI conversation partner and spaced repetition","Fitness app with AI workout generator, progress tracking, and social feeds"];try{const D=`Idea: ${H(O)}. Unique seed: ${Math.random().toString(36).slice(2,8)}`,{data:Q,error:ae}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Generate a unique vibe coding project idea. ${D}`,category:"random-vibe-idea",categoryDescription:"Random Vibe Coding Idea",tone:"Creative",context:`You are a creative app designer brainstorming UNIQUE project ideas for vibe coding (AI-assisted development). ${D}. Generate ONE short (1-2 sentences) innovative app idea that is SPECIFIC, VISUAL, and FUN to build with AI tools. Focus on modern web apps. Return ONLY the project description.`}});if(ae)throw ae;Q!=null&&Q.prompt?(t(Q.prompt.replace(/^["']|["']$/g,"").trim()),pe.success("AI generated a vibe coding idea! ")):(t(H(O)),pe.success("Random vibe idea loaded! "))}catch{t(H(O)),pe.success("Random vibe idea loaded! ")}finally{P(!1)}},z=H=>{l(k=>k.includes(H)?k.length>1?k.filter(O=>O!==H):k:[...k,H])},U=((Y=Wh.find(H=>H.id===i))==null?void 0:Y.label)||"",W=$h.find(H=>H.id===s),V=qh.filter(H=>o.includes(H.id)).map(H=>H.label).join(", "),M=Ul.find(H=>H.id===c),q=xy.filter(H=>h.includes(H.id)).map(H=>H.label).join(", "),X=Yh.find(H=>H.id===m),ne=async()=>{if(!e.trim()){pe.error(" ");return}C(!0),E("");const H={brief:"Generate a CONCISE vibe coding prompt (200-400 words). Focus on the key requirements and let the AI figure out the details. Perfect for quick builds.",detailed:"Generate a DETAILED vibe coding prompt (400-800 words). Include specific component structures, page layouts, feature requirements, and design specifications. Well-organized with clear sections.",mega:"Generate an EXTREMELY COMPREHENSIVE mega prompt (800-1500 words). Include EVERY detail: exact page layouts, component hierarchy, color codes, typography, animations, database schema, API endpoints, user flows, edge cases, responsive breakpoints, accessibility, SEO, and deployment notes. Leave NOTHING to imagination."};try{const{data:k,error:O}=await Ee.functions.invoke("generate-prompt",{body:{topic:e.trim(),category:"vibe-coding-prompt",categoryDescription:"Vibe Coding Prompt Generator",tone:"Technical-Creative",context:`You are an expert vibe coding prompt engineer who creates PERFECT prompts for AI coding platforms. Your prompts should be optimized for ${U} platform.

PROJECT DETAILS:
- Platform: ${U}
- Project Type: ${W==null?void 0:W.label} - ${W==null?void 0:W.desc}
- Tech Stack: ${V}
- Design Style: ${M==null?void 0:M.label} - ${M==null?void 0:M.desc}
- Features: ${q}
${y?`- Color Scheme: ${y}`:""}
${g?`- Additional Notes: ${g}`:""}

DETAIL LEVEL: ${X==null?void 0:X.label} - ${X==null?void 0:X.desc}
${H[m]}

PLATFORM-SPECIFIC OPTIMIZATIONS:
${i==="lovable"?`- Lovable uses React + Vite + Tailwind + shadcn/ui + Supabase
- Mention specific shadcn components to use
- Include Supabase table structures if database is needed
- Specify Tailwind classes and design tokens`:""}
${i==="cursor"?`- Cursor works with any codebase, be specific about file structure
- Include terminal commands for setup
- Specify package.json dependencies`:""}
${i==="bolt"?`- Bolt.new creates full-stack apps, specify both frontend and backend
- Include deployment considerations
- Mention specific npm packages`:""}
${i==="v0"?`- v0 specializes in React + Tailwind UI components
- Focus on component design and props
- Include specific Tailwind utility classes`:""}
${["replit","windsurf","copilot","claude","devin","cline"].includes(i)?`- Be specific about the project structure and dependencies
- Include clear setup instructions
- Specify file naming conventions`:""}

PROMPT STRUCTURE:
1. Start with a clear project overview
2. List all pages/screens with their components
3. Describe the design system (colors, typography, spacing)
4. Detail each feature with user interactions
5. Include data models if database is needed
6. Specify responsive behavior
7. Add animation/transition details
8. Include error states and loading states

IMPORTANT RULES:
- Write the prompt as if you're giving instructions to an AI coding assistant
- Be specific enough that the AI can build it in ONE shot
- Use clear, actionable language
- Include visual references where helpful (describe exactly how things should look)
- Output ONLY the prompt, no meta-explanations
- Make it feel like a natural "vibe coding" conversation${So(b)}`}});if(O)throw new Error(O.message);if(k!=null&&k.error)throw new Error(k.error);if(k!=null&&k.prompt)E(k.prompt),gi(),pe.success("Vibe Coding Prompt ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"prompt",topic:e.trim(),category:"vibe-coding"});else throw new Error("Prompt generate ")}catch(k){console.error("Generation error:",k),pe.error(k instanceof Error?k.message:"Error ")}finally{C(!1)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:"Vibe Coding"}),d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-accent/20 text-accent",children:" AI-Powered Development"}),d.jsx(ia,{onClick:I,isLoading:G,disabled:!e.trim()}),d.jsx(na,{onClick:j,disabled:A,children:A?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"Generating..."]}):" Random Idea (AI)"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Ou,{className:"w-5 h-5 inline mr-2"}),"?"]}),d.jsx(Ft,{value:e,onChange:H=>t(H.target.value),placeholder:" - AI chatbot  task management app, Spotify-like music player, ...",rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Ur,{className:"w-5 h-5 inline mr-2"}),"AI Platform"]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:Wh.map(H=>d.jsx("button",{onClick:()=>r(H.id),className:`glossy-chip ${i===H.id?"glossy-chip--active":""}`,children:H.label},H.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Lk,{className:"w-5 h-5 inline mr-2"}),"Project "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:$h.map(H=>d.jsxs("button",{onClick:()=>a(H.id),className:`glossy-chip glossy-chip--lg ${s===H.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:H.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:H.desc})]},H.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Nm,{className:"w-5 h-5 inline mr-2"}),"Tech Stack ",d.jsx("span",{className:"text-muted-foreground text-xs",children:"( )"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:qh.map(H=>d.jsx("button",{onClick:()=>z(H.id),className:`glossy-chip ${o.includes(H.id)?"glossy-chip--active":""}`,children:H.label},H.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Mx,{className:"w-5 h-5 inline mr-2"}),"Design Style"]}),d.jsx(UR,{value:c,onChange:u,allowDeselect:!1})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Jd,{className:"w-5 h-5 inline mr-2"}),"Features ",d.jsx("span",{className:"text-muted-foreground text-xs",children:"( )"})]}),d.jsx(OV,{selected:h,onChange:p})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Nm,{className:"w-5 h-5 inline mr-2"}),"Prompt Detail Level"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Yh.map(H=>d.jsxs("button",{onClick:()=>v(H.id),className:`glossy-chip glossy-chip--lg ${m===H.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:H.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:H.desc})]},H.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(Mx,{className:"w-5 h-5 inline mr-2"}),"Color Scheme ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:y,onChange:H=>x(H.target.value),placeholder:" - Purple & dark theme, Pastel colors, Ocean blue & white...",rows:2})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[d.jsx(ND,{className:"w-5 h-5 inline mr-2"}),"Additional Notes ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:g,onChange:H=>f(H.target.value),placeholder:" - Framer Motion animations , Mobile-first , Supabase backend ...",rows:2}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"  requirements, references, inspirations  "})]}),d.jsx(ta,{value:b,onChange:w}),d.jsxs("button",{onClick:ne,disabled:_||!e.trim(),className:"gen-btn",children:[_&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Vibe Coding Prompt Generate "})]}),d.jsx(Qr,{prompt:T,isLoading:_})]})},by=["Photorealistic","Digital Art","Oil Painting","Watercolor","Anime","3D Render","Pixel Art","Cinematic","Comic Book","Surrealism","Minimalist","Fantasy Art","Concept Art","Sketch","Pop Art","Art Nouveau","Art Deco","Baroque","Impressionism","Expressionism","Cubism","Futurism","Gothic","Steampunk","Cyberpunk","Vaporwave","Retro/Vintage","Ukiyo-e","Stained Glass","Mosaic","Pencil Drawing","Charcoal","Ink Wash","Gouache","Pastel","Low Poly","Isometric","Claymation","Paper Cut","Origami","Graffiti/Street Art","Psychedelic","Noir","Ethereal","Hyper-Surreal"],wy=[{id:"illustration",label:" Illustration",desc:" / "},{id:"photo",label:" Photo",desc:""},{id:"poster",label:" Poster",desc:" "},{id:"wallpaper",label:" Wallpaper",desc:""},{id:"icon",label:" Icon/Logo",desc:" / "},{id:"texture",label:" Texture/Pattern",desc:" / "},{id:"character",label:" Character Design",desc:" "},{id:"landscape",label:" Landscape/Scene",desc:" / "},{id:"product",label:" Product Shot",desc:" "},{id:"fashion",label:" Fashion",desc:" "},{id:"food",label:" Food Photography",desc:" "},{id:"abstract",label:" Abstract Art",desc:" "},{id:"meme",label:" Meme/Fun",desc:" / Meme "},{id:"book-cover",label:" Book Cover",desc:""},{id:"sticker",label:" Sticker",desc:" "},{id:"portrait",label:" Portrait",desc:" "},{id:"infographic",label:" Infographic",desc:" "},{id:"ui-mockup",label:" UI/Mockup",desc:"UI "},{id:"album-cover",label:" Album Cover",desc:" "},{id:"game-asset",label:" Game Asset",desc:" "},{id:"comic-panel",label:" Comic Panel",desc:" "},{id:"avatar",label:" Avatar/Profile",desc:" "},{id:"banner",label:" Banner/Ad",desc:" / "},{id:"packaging",label:" Packaging",desc:" "},{id:"tattoo",label:" Tattoo Design",desc:" "},{id:"coloring-page",label:" Coloring Page",desc:" "},{id:"emoji",label:" Emoji/Emoticon",desc:""},{id:"map",label:" Map/Fantasy Map",desc:" "},{id:"architecture",label:" Architecture",desc:" "},{id:"vehicle",label:" Vehicle Design",desc:" "},{id:"jewelry",label:" Jewelry Design",desc:""},{id:"interior",label:" Interior Design",desc:" "},{id:"nature-macro",label:" Nature/Macro",desc:" "},{id:"sci-fi-scene",label:" Sci-Fi Scene",desc:" "},{id:"horror",label:" Horror/Dark",desc:" "}],Sy=["Natural Light","Golden Hour","Studio Lighting","Dramatic","Neon","Backlit","Soft Ambient","Moody Dark"],_y=["Close-up","Wide Shot","Bird's Eye","Low Angle","Eye Level","Dutch Angle","Macro","Panoramic"],Ty=[{id:"1:1",label:"1:1 Square"},{id:"16:9",label:"16:9 Landscape"},{id:"9:16",label:"9:16 Portrait"},{id:"4:3",label:"4:3 Standard"},{id:"3:2",label:"3:2 Photo"},{id:"21:9",label:"21:9 Ultra-wide"}],BV=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState("Photorealistic"),[s,a]=S.useState("Natural Light"),[o,l]=S.useState("Eye Level"),[c,u]=S.useState("1:1"),[h,p]=S.useState("illustration"),[m,v]=S.useState(""),[y,x]=S.useState(""),[g,f]=S.useState("english"),[b,w]=S.useState(""),[T,E]=S.useState(!1),[_,C]=S.useState(!1),{suggest:A,isSuggesting:P}=ra(),R=async()=>{const z=await A(e,[{key:"style",label:"Art Style",options:by},{key:"imageType",label:"Image Type",options:wy.map(U=>U.id)},{key:"lighting",label:"Lighting",options:Sy},{key:"cameraAngle",label:"Camera Angle",options:_y},{key:"aspectRatio",label:"Aspect Ratio",options:Ty.map(U=>U.id)}]);z&&(z.style&&r(z.style),z.imageType&&p(z.imageType),z.lighting&&a(z.lighting),z.cameraAngle&&l(z.cameraAngle),z.aspectRatio&&u(z.aspectRatio))},G=async()=>{C(!0);const z=M=>M[Math.floor(Math.random()*M.length)];r(z(by)),a(z(Sy)),l(z(_y)),u(z(Ty).id);const U=["abandoned space station interior","bioluminescent deep sea creature","ancient temple in jungle ruins","steampunk clockwork city","crystal cave with underground lake","floating island above clouds","cyberpunk street food market","aurora borealis over volcano","microscopic cell universe","post-apocalyptic nature reclaim","underwater ancient civilization","magical library with living books","desert oasis mirage at sunset","mechanical garden of metal flowers","parallel dimension portal opening","ice palace interior with prismatic light","giant tree city at golden hour","storm chaser capturing tornado","zen garden in autumn rain","forgotten robot in overgrown field"],W=["Renaissance painting style","Studio Ghibli dreamscape","hyperrealistic macro photography","surrealist Dal-inspired","ukiyo-e woodblock print","art nouveau poster","brutalist architecture study","biopunk organic technology","vaporwave aesthetic","double exposure photography","tilt-shift miniature effect","infrared photography","cyanotype print process","pointillism technique","low-poly 3D render"],V=`Subject: ${z(U)}. Style influence: ${z(W)}. Seed: ${Math.random().toString(36).slice(2,8)}`;try{const{data:M,error:q}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Generate a visually stunning image concept. ${V}`,category:"random-image-idea",categoryDescription:"Random Image Idea Generator",tone:"Creative",context:`You are a visionary digital artist generating UNIQUE image concepts. ${V}. Generate ONE short (1-2 sentences) SPECIFIC and VIVID image description. Focus on unexpected combinations, dramatic compositions, and emotional impact. Be HIGHLY SPECIFIC about colors, mood, and scene details. Return ONLY the description. No quotes, no explanations.`}});if(q)throw new Error(q.message);M!=null&&M.prompt?(t(M.prompt.replace(/^["']|["']$/g,"").trim()),pe.success("AI generated a random image idea! ")):(t("A mystical forest with glowing mushrooms and fireflies at twilight"),pe.success("Random image idea loaded! "))}catch{t("A mystical forest with glowing mushrooms and fireflies at twilight"),pe.success("Random image idea loaded! ")}finally{C(!1)}},I=async()=>{var z;if(!e.trim()){pe.error("  ");return}E(!0),w("");try{const{data:U,error:W}=await Ee.functions.invoke("generate-prompt",{body:{topic:e.trim(),category:"image-prompt",categoryDescription:"Image Generation Prompt",tone:"Technical",context:`Generate ONE single image prompt  NEVER a grid, collage, or multiple images.

Style: ${i} | Type: ${((z=wy.find(V=>V.id===h))==null?void 0:z.label)||h} | Lighting: ${s} | Camera: ${o} | Ratio: ${c}
${m?`Details: ${m}`:""}
${y?`Avoid: ${y}`:""}

CRITICAL: Output ONE continuous paragraph (80-150 words) describing a SINGLE scene/subject. Include quality tags (masterpiece, 8k, ultra detailed). NEVER mention "variations", "grid", "multiple", "collection". Be vivid and specific about colors, textures, mood, and composition.${So(g)}`}});if(W)throw new Error(W.message);if(U!=null&&U.error)throw new Error(U.error);if(U!=null&&U.prompt)w(U.prompt),gi(),pe.success("Image Prompt generated! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"prompt",topic:e.trim(),category:"image-prompt"});else throw new Error("Prompt generate ")}catch(U){console.error("Generation error:",U),pe.error(U instanceof Error?U.message:"Error ")}finally{E(!1)}},j=z=>`glossy-chip ${z?"glossy-chip--active":""}`;return d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:" Image Prompt"}),d.jsx(ia,{onClick:R,isLoading:P,disabled:!e.trim()}),d.jsx(na,{onClick:G,disabled:_,children:_?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"Generating..."]}):" Random Idea (AI)"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"  "}),d.jsx(Ft,{value:e,onChange:z=>t(z.target.value),placeholder:" - A dragon flying over a medieval castle, A girl in cyberpunk city...",rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:" Art Style"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:by.map(z=>d.jsx("button",{onClick:()=>r(z),className:j(i===z),children:z},z))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:" Image Type ( )"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:wy.map(z=>d.jsx("button",{onClick:()=>p(z.id),className:j(h===z.id),title:z.desc,children:z.label},z.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:" Lighting"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Sy.map(z=>d.jsx("button",{onClick:()=>a(z),className:j(s===z),children:z},z))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:" Camera Angle"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:_y.map(z=>d.jsx("button",{onClick:()=>l(z),className:j(o===z),children:z},z))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:" Aspect Ratio"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ty.map(z=>d.jsx("button",{onClick:()=>u(z.id),className:j(c===z.id),children:z.label},z.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-sm font-medium text-foreground mb-3 block",children:["  details ",d.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),d.jsx(Ft,{value:m,onChange:z=>v(z.target.value),placeholder:"Color palette, mood, texture, background details...",rows:2})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-sm font-medium text-foreground mb-3 block",children:["  (Negative Prompt) ",d.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),d.jsx(Ft,{value:y,onChange:z=>x(z.target.value),placeholder:"blurry, low quality, watermark, text...",rows:2})]}),d.jsx(ta,{value:g,onChange:f}),d.jsxs("button",{onClick:I,disabled:T||!e.trim(),className:"gen-btn",children:[T&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Image Prompt Generate "})]}),d.jsx(Qr,{prompt:b,isLoading:T})]})},zV=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState(""),[s,a]=S.useState(""),[o,l]=S.useState(!1),c=h=>{var v;const p=(v=h.target.files)==null?void 0:v[0];if(!p)return;if(p.size>5*1024*1024){pe.error("File size 5MB ");return}const m=new FileReader;m.onload=y=>{var g;const x=(g=y.target)==null?void 0:g.result;t(x),r(x)},m.readAsDataURL(p)},u=async()=>{if(!e){pe.error("");return}l(!0),a("");try{const{data:h,error:p}=await Ee.functions.invoke("image-to-prompt",{body:{imageUrl:e}});if(p)throw new Error(p.message);if(h!=null&&h.error)throw new Error(h.error);h!=null&&h.prompt&&(a(h.prompt),gi(),pe.success("Prompt generated from image! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"image_to_prompt",topic:"Image to Prompt",category:"image_to_prompt"}))}catch(h){pe.error(h instanceof Error?h.message:"Error ")}finally{l(!1)}};return d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:""}),d.jsxs("div",{className:"border-2 border-dashed border-border/50 rounded-2xl p-8 text-center hover:border-primary/30 transition-all cursor-pointer relative glass-subtle",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),i?d.jsx("img",{src:i,alt:"Preview",className:"max-h-48 mx-auto rounded-xl object-contain"}):d.jsxs("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl glass flex items-center justify-center",children:d.jsx(BD,{className:"w-7 h-7"})}),d.jsx("p",{className:"text-sm",children:"Click  drag & drop"}),d.jsx("p",{className:"text-xs",children:"PNG, JPG, WEBP (Max 5MB)"})]})]})]}),d.jsxs("button",{onClick:u,disabled:o||!e,className:"gen-btn",children:[o&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:o?"Analyzing...":"Generate Prompt from Image "})]}),d.jsx(Qr,{prompt:s,isLoading:o})]})},Ey=[{id:"talking-head",label:" Talking Head",desc:" Video"},{id:"explainer",label:" Explainer",desc:" Video"},{id:"product",label:" Product Demo",desc:" Video"},{id:"story",label:" Story",desc:" Video"},{id:"ad",label:" Advertisement",desc:" Video"},{id:"music-video",label:" Music Video",desc:" Video"},{id:"tutorial",label:" Tutorial",desc:" Video"},{id:"cinematic",label:" Cinematic",desc:""}],Z1=["Realistic","Cinematic","Anime","3D Animation","Documentary","Vintage Film","Motion Graphics","Slow Motion"],eT=["Static ()","Pan (/)","Tilt (/)","Zoom In","Zoom Out","Tracking Shot","Dolly","Drone Shot","Handheld","360 Rotation"],tT=[{id:"5",label:"5 "},{id:"10",label:"10 "},{id:"15",label:"15 "},{id:"30",label:"30 "},{id:"60",label:"1 "}],nT=[{id:"16:9",label:"16:9 Landscape"},{id:"9:16",label:"9:16 Portrait (TikTok/Reels)"},{id:"1:1",label:"1:1 Square"},{id:"4:3",label:"4:3 Standard"},{id:"21:9",label:"21:9 Cinematic"}],UV=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState("talking-head"),[s,a]=S.useState("Realistic"),[o,l]=S.useState("Static ()"),[c,u]=S.useState("10"),[h,p]=S.useState("16:9"),[m,v]=S.useState(""),[y,x]=S.useState(""),[g,f]=S.useState("myanmar"),[b,w]=S.useState(""),[T,E]=S.useState(!1),{suggest:_,isSuggesting:C}=ra(),A=async()=>{const I=await _(e,[{key:"videoType",label:"Video Type",options:Ey.map(j=>j.id)},{key:"visualStyle",label:"Visual Style",options:Z1},{key:"cameraMovement",label:"Camera Movement",options:eT},{key:"duration",label:"Duration",options:tT.map(j=>j.id)},{key:"aspectRatio",label:"Aspect Ratio",options:nT.map(j=>j.id)}]);I&&(I.videoType&&r(I.videoType),I.visualStyle&&a(I.visualStyle),I.cameraMovement&&l(I.cameraMovement),I.duration&&u(I.duration),I.aspectRatio&&p(I.aspectRatio))},P=Ey.find(I=>I.id===i),R=async()=>{if(!e.trim()){pe.error("Video  ");return}E(!0),w("");try{const{data:I,error:j}=await Ee.functions.invoke("generate-prompt",{body:{topic:e.trim(),category:"video-prompt",categoryDescription:"Veo 3.1 Video Generation Prompt",tone:"Technical",context:`Generate a highly detailed video generation prompt optimized for Google Veo 3.1.

CRITICAL REQUIREMENTS:
- This video MUST feature MYANMAR LANGUAGE (Burmese) spoken dialogue/narration
- The characters in the video should speak Myanmar/Burmese language naturally
- Include specific Myanmar cultural elements where appropriate

Video Type: ${P==null?void 0:P.label} - ${P==null?void 0:P.desc}
Visual Style: ${s}
Camera Movement: ${o}
Target Duration: ${c} seconds
Aspect Ratio: ${h}
${m?`Myanmar Dialogue/Script: ${m}`:""}
${y?`Mood/Atmosphere: ${y}`:""}

OUTPUT FORMAT:
Generate a single, comprehensive Veo 3.1 video prompt that includes:
1. Opening scene description with camera setup
2. Character descriptions (appearance, clothing, expressions)
3. Myanmar language dialogue directions (what they should say in Burmese)
4. Camera movements and transitions
5. Lighting and color grading
6. Background/environment details
7. Audio/sound design notes
8. Timing and pacing instructions

Make the prompt highly specific and directly usable in Veo 3.1. 
Do NOT include any explanations, just the prompt.${So(g)}`}});if(j)throw new Error(j.message);if(I!=null&&I.error)throw new Error(I.error);if(I!=null&&I.prompt)w(I.prompt),gi(),pe.success("Video Prompt generate ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"prompt",topic:e.trim(),category:"video-prompt"});else throw new Error("Prompt generate ")}catch(I){console.error("Generation error:",I),pe.error(I instanceof Error?I.message:"Error ")}finally{E(!1)}},G=I=>`glossy-chip ${I?"glossy-chip--active":""}`;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:"Veo 3.1 Optimized"}),d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-accent/20 text-accent",children:" Myanmar Language"}),d.jsx(ia,{onClick:A,isLoading:C,disabled:!e.trim()})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Video "}),d.jsx(Ft,{value:e,onChange:I=>t(I.target.value),placeholder:" -  AI     ...",rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Video "}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Ey.map(I=>d.jsxs("button",{onClick:()=>r(I.id),className:`glossy-chip glossy-chip--lg ${i===I.id?"glossy-chip--active":""}`,children:[d.jsx("div",{children:I.label}),d.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:I.desc})]},I.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Visual Style"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Z1.map(I=>d.jsx("button",{onClick:()=>a(I),className:G(s===I),children:I},I))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Camera Movement"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:eT.map(I=>d.jsx("button",{onClick:()=>l(I),className:G(o===I),children:I},I))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Duration"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:tT.map(I=>d.jsx("button",{onClick:()=>u(I.id),className:G(c===I.id),children:I.label},I.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Aspect Ratio"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:nT.map(I=>d.jsx("button",{onClick:()=>p(I.id),className:G(h===I.id),children:I.label},I.id))})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:["  / Dialogue ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:m,onChange:I=>v(I.target.value),placeholder:' - "   AI  ..."',rows:3}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" Video   / "})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[" Mood / Atmosphere ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx("input",{value:y,onChange:I=>x(I.target.value),placeholder:" - Warm and friendly, Professional, Energetic, Dramatic...",className:"w-full glass-input rounded-xl px-4 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none"})]}),d.jsx(ta,{value:g,onChange:f}),d.jsxs("button",{onClick:R,disabled:T||!e.trim(),className:"gen-btn",children:[T&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Video Prompt Generate "})]}),d.jsx(Qr,{prompt:b,isLoading:T})]})},Cy=[{id:"talking-head",label:" Talking Head"},{id:"explainer",label:" Explainer"},{id:"product",label:" Product Demo"},{id:"story",label:" Storytelling"},{id:"ad",label:" Advertisement"},{id:"music-video",label:" Music Video"},{id:"tutorial",label:" Tutorial"},{id:"cinematic",label:" Cinematic"},{id:"vlog",label:" Vlog"},{id:"documentary",label:" Documentary"},{id:"animation",label:" Animation"},{id:"short-film",label:" Short Film"},{id:"timelapse",label:" Timelapse"},{id:"hyperlapse",label:" Hyperlapse"},{id:"interview",label:" Interview"},{id:"montage",label:" Montage"},{id:"lyric-video",label:" Lyric Video"},{id:"trailer",label:" Trailer"},{id:"commercial",label:" Commercial"},{id:"nature",label:" Nature/Wildlife"},{id:"sports",label:" Sports Highlight"},{id:"horror",label:" Horror"},{id:"sci-fi",label:" Sci-Fi"},{id:"fashion",label:" Fashion Film"}],My=["Realistic","Cinematic","Anime","3D Animation","Documentary","Vintage Film","Motion Graphics","Slow Motion","Noir","Cyberpunk","Watercolor","Stop Motion","Retro VHS","Neon Glow","Minimalist","Fantasy","Steampunk","Vaporwave","Glitch Art","Claymation","Pixel Art","Isometric","Surrealist","Art Deco","Gothic","Dreamlike","Sketch/Hand-Drawn","Oil Painting","Low Poly 3D","Hyper-Realistic CGI","Comic Book","Ukiyo-e"],ky=["Static","Pan Left/Right","Tilt Up/Down","Zoom In","Zoom Out","Tracking Shot","Dolly","Drone Shot","Handheld","360 Rotation","Crane Shot","Steadicam","Whip Pan","Rack Focus"],Ay=[{id:"5",label:"5s"},{id:"10",label:"10s"},{id:"15",label:"15s"},{id:"30",label:"30s"},{id:"60",label:"1 min"},{id:"120",label:"2 min"}],Py=[{id:"16:9",label:"16:9 Landscape"},{id:"9:16",label:"9:16 Portrait"},{id:"1:1",label:"1:1 Square"},{id:"4:3",label:"4:3 Standard"},{id:"21:9",label:"21:9 Cinematic"}],Ry=["Energetic","Calm","Dramatic","Mysterious","Romantic","Dark","Uplifting","Nostalgic","Futuristic","Whimsical","Intense","Peaceful"],Ly=["Natural Daylight","Golden Hour","Blue Hour","Studio Lighting","Neon Lights","Candlelight","Moonlight","Dramatic Shadows","Backlit Silhouette","Soft Diffused","High Key","Low Key"],Ny=["Warm Tones","Cool Tones","Desaturated","Vibrant","Teal & Orange","Monochrome","Pastel","High Contrast","Sepia","Cross-Processed","Muted Earth","Neon Pop"],Iy=["Cut","Dissolve","Fade to Black","Whip Pan","Morph","Zoom Transition","Slide","Glitch","Light Leak","Match Cut","Jump Cut","Iris Wipe"],jy=["Ambient Nature","Cinematic Score","Electronic/Synth","Orchestral","Lo-fi Beats","Sound Effects Only","Voiceover","Silence","Rock/Guitar","Jazz","Hip-Hop Beat","Classical Piano"],Kh=["A lone astronaut discovers a garden growing on Mars, with bioluminescent flowers blooming under a crimson sky","A street musician plays violin in the rain while city lights reflect off wet cobblestone streets at night","A time-lapse of an abandoned building being reclaimed by nature over centuries, vines and trees growing through concrete","A futuristic city at sunset where flying cars weave between towering glass skyscrapers covered in vertical gardens","A deep sea exploration revealing an underwater cave filled with glowing jellyfish and ancient coral formations","A samurai walking through a field of cherry blossoms in slow motion, petals swirling in the wind","A child opening a mysterious book that projects holographic worlds into the room around them","A phoenix rising from volcanic ashes during a thunderstorm, wings trailing fire and lightning","A cozy coffee shop on a rainy evening, steam rising from cups, jazz playing, rain on windows","Two robots learning to dance together in an empty ballroom with dramatic spotlighting","A dragon flying over snow-capped mountains at golden hour, casting enormous shadows on valleys below","A surreal dreamscape where gravity shifts and people walk on walls and ceilings of a grand library","A vintage train traveling through the Swiss Alps in autumn, passing through tunnels and over stone bridges","A wolf howling on a cliff edge under the Northern Lights with snow gently falling","A bustling night market in Asia with colorful lanterns, sizzling street food, and crowds of people","A ballet dancer performing on the surface of a still lake at dawn, water rippling with each movement","A massive whale breaching out of the ocean in ultra slow motion with the sun directly behind it","A cyberpunk detective walking through neon-lit alleyways in a dystopian megacity during a blackout","A painter's canvas coming to life as painted birds fly off and painted rivers begin to flow","An ancient temple emerging from jungle fog at sunrise with monkeys playing in the ruins"],GV=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState("cinematic"),[s,a]=S.useState("Realistic"),[o,l]=S.useState("Static"),[c,u]=S.useState("10"),[h,p]=S.useState("16:9"),[m,v]=S.useState("Dramatic"),[y,x]=S.useState("Natural Daylight"),[g,f]=S.useState("Warm Tones"),[b,w]=S.useState("Cut"),[T,E]=S.useState("Cinematic Score"),[_,C]=S.useState(""),[A,P]=S.useState(""),[R,G]=S.useState("english"),[I,j]=S.useState(""),[z,U]=S.useState(!1),[W,V]=S.useState(!1),{suggest:M,isSuggesting:q}=ra(),X=async()=>{const k=await M(e,[{key:"videoType",label:"Video Type",options:Cy.map(O=>O.id)},{key:"visualStyle",label:"Visual Style",options:My},{key:"cameraMovement",label:"Camera Movement",options:ky},{key:"mood",label:"Mood",options:Ry},{key:"lighting",label:"Lighting",options:Ly},{key:"colorGrade",label:"Color Grade",options:Ny},{key:"transition",label:"Transition",options:Iy},{key:"sound",label:"Sound Design",options:jy},{key:"duration",label:"Duration",options:Ay.map(O=>O.id)},{key:"aspectRatio",label:"Aspect Ratio",options:Py.map(O=>O.id)}]);k&&(k.videoType&&r(k.videoType),k.visualStyle&&a(k.visualStyle),k.cameraMovement&&l(k.cameraMovement),k.mood&&v(k.mood),k.lighting&&x(k.lighting),k.colorGrade&&f(k.colorGrade),k.transition&&w(k.transition),k.sound&&E(k.sound),k.duration&&u(k.duration),k.aspectRatio&&p(k.aspectRatio))},ne=async()=>{V(!0);const k=ae=>ae[Math.floor(Math.random()*ae.length)];r(k(Cy).id),a(k(My)),l(k(ky)),u(k(Ay).id),p(k(Py).id),v(k(Ry)),x(k(Ly)),f(k(Ny)),w(k(Iy)),E(k(jy));const O=["time-reversed destruction becoming creation","a single raindrop's journey from cloud to ocean","parallel lives of strangers connected by one object","seasons changing in a single continuous camera move","microscopic world inside a drop of morning dew","last human on Earth discovering alien message","street musician whose music transforms surroundings","ancient warrior awakening in modern city","child's drawing coming to life around them","gravity shifting in a grand cathedral","two timelines merging at a crossroads","ocean receding to reveal lost civilization","paper crane origami transforming into real bird in flight","abandoned amusement park awakening at midnight","astronaut's first steps on alien planet with two suns","seeds growing through cracked concrete in timelapse","dancer whose movements control the weather","mirror world where reflections move independently","lighthouse beam revealing hidden worlds in fog","volcanic eruption frozen in crystalline ice"],D=["one continuous unbroken shot","split-screen showing dual perspectives","extreme slow motion at 1000fps","reverse chronological storytelling","POV through a non-human eye","miniature tilt-shift perspective","seamless morph transitions between scenes","long tracking shot through multiple environments","underwater-to-surface single take","drone ascending from ground to stratosphere"],Q=`Scenario: ${k(O)}. Technique: ${k(D)}. Seed: ${Math.random().toString(36).slice(2,8)}`;try{const{data:ae,error:le}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Generate a breathtaking cinematic video concept. ${Q}`,category:"random-video-idea",categoryDescription:"Random Video Idea Generator",tone:"Creative",context:`You are an award-winning cinematographer creating UNIQUE video concepts. ${Q}. Generate ONE vivid (2-3 sentences) video description that is CINEMATIC, SPECIFIC, and emotionally powerful. Describe the visual journey, camera work, and atmosphere. Be ORIGINAL - avoid clich sunset/ocean scenes. Return ONLY the description. No quotes, no explanations, no numbering.`}});if(le)throw new Error(le.message);ae!=null&&ae.prompt?(t(ae.prompt.replace(/^["']|["']$/g,"").trim()),pe.success("AI generated a random video idea! ")):(t(Kh[Math.floor(Math.random()*Kh.length)]),pe.success("Random video idea loaded! "))}catch{t(Kh[Math.floor(Math.random()*Kh.length)]),pe.success("Random video idea loaded! ")}finally{V(!1)}},Y=async()=>{if(!e.trim()){pe.error("Please enter a video description");return}U(!0),j("");try{const{data:k,error:O}=await Ee.functions.invoke("generate-prompt",{body:{topic:e.trim(),category:"video-prompt-en",categoryDescription:"Veo 3.1 Video Generation Prompt (English)",tone:"Technical",context:`Generate a highly detailed video generation prompt optimized for Google Veo 3.1.

Video Type: ${i}
Visual Style: ${s}
Camera Movement: ${o}
Target Duration: ${c} seconds
Aspect Ratio: ${h}
Mood/Atmosphere: ${m}
Lighting: ${y}
Color Grading: ${g}
Transitions: ${b}
Sound Design: ${T}
${_?`Dialogue/Narration: ${_}`:""}
${A?`Additional Scene Details: ${A}`:""}

OUTPUT FORMAT:
Generate a single, comprehensive Veo 3.1 video prompt that includes:
1. Opening scene description with camera setup
2. Character descriptions (appearance, clothing, expressions)
3. Dialogue or narration directions (in English)
4. Camera movements and transitions
5. Lighting setup and color grading details
6. Background/environment details
7. Audio/sound design notes
8. Timing and pacing instructions
9. Mood and atmosphere throughout

Make the prompt highly specific and directly usable in Veo 3.1.
Do NOT include any explanations, just the prompt.${So(R)}`}});if(O)throw new Error(O.message);if(k!=null&&k.error)throw new Error(k.error);if(k!=null&&k.prompt)j(k.prompt),gi(),pe.success("Video Prompt generated successfully! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"prompt",topic:e.trim(),category:"video-prompt-en"});else throw new Error("Failed to generate prompt")}catch(k){console.error("Generation error:",k),pe.error(k instanceof Error?k.message:"An error occurred")}finally{U(!1)}},H=k=>`glossy-chip ${k?"glossy-chip--active":""}`;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:"Veo 3.1 Optimized"}),d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-accent/20 text-accent",children:" English Version"}),d.jsx(ia,{onClick:X,isLoading:q,disabled:!e.trim()}),d.jsx(na,{onClick:ne,disabled:W,children:W?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"Generating..."]}):" Random Idea (AI)"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Video Description"}),d.jsx(Ft,{value:e,onChange:k=>t(k.target.value),placeholder:"e.g. A young entrepreneur presenting a tech startup in a modern office with floor-to-ceiling windows overlooking a city skyline...",rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Video Type"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Cy.map(k=>d.jsx("button",{onClick:()=>r(k.id),className:`glossy-chip glossy-chip--lg ${i===k.id?"glossy-chip--active":""}`,children:k.label},k.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Visual Style"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:My.map(k=>d.jsx("button",{onClick:()=>a(k),className:H(s===k),children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Camera Movement"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:ky.map(k=>d.jsx("button",{onClick:()=>l(k),className:H(o===k),children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Mood & Atmosphere"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ry.map(k=>d.jsx("button",{onClick:()=>v(k),className:H(m===k),children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Lighting Style"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ly.map(k=>d.jsx("button",{onClick:()=>x(k),className:H(y===k),children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Color Grading"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ny.map(k=>d.jsx("button",{onClick:()=>f(k),className:H(g===k),children:k},k))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Duration"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ay.map(k=>d.jsx("button",{onClick:()=>u(k.id),className:H(c===k.id),children:k.label},k.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Aspect Ratio"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Py.map(k=>d.jsx("button",{onClick:()=>p(k.id),className:H(h===k.id),children:k.label},k.id))})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Transition Style"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Iy.map(k=>d.jsx("button",{onClick:()=>w(k),className:H(b===k),children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-base font-medium text-foreground mb-3 block",children:" Sound Design"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:jy.map(k=>d.jsx("button",{onClick:()=>E(k),className:H(T===k),children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[" Dialogue / Narration ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:_,onChange:k=>C(k.target.value),placeholder:'e.g. "Welcome to our channel. Today we are going to explore the future of AI..."',rows:3})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-base font-medium text-foreground mb-3 block",children:[" Additional Scene Details ",d.jsx("span",{className:"text-muted-foreground text-sm",children:"(optional)"})]}),d.jsx(Ft,{value:A,onChange:k=>P(k.target.value),placeholder:"e.g. Rain falling on a glass window, city lights reflecting, character wearing a leather jacket...",rows:3})]}),d.jsx(ta,{value:R,onChange:G}),d.jsxs("button",{onClick:Y,disabled:z||!e.trim(),className:"gen-btn",children:[z&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Generate Video Prompt"})]}),d.jsx(Qr,{prompt:I,isLoading:z})]})},HV=Cw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ar=S.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const a=i?Ej:"button";return d.jsx(a,{className:ft(HV({variant:e,size:t,className:n})),ref:s,...r})});ar.displayName="Button";const VV="https://gheshavzlxhzgxumzedd.supabase.co/functions/v1/chat";async function WV({messages:n,onDelta:e,onDone:t,onError:i}){var h,p,m,v,y,x,g;const s=(h=(await Ee.auth.getSession()).data.session)==null?void 0:h.access_token;if(!s){i("Login ");return}const a=await fetch(VV,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({messages:n})});if(!a.ok){const f=await a.json().catch(()=>({}));i(f.error||`Error ${a.status}`);return}if(!a.body){i("No response body");return}const o=a.body.getReader(),l=new TextDecoder;let c="",u=!1;for(;!u;){const{done:f,value:b}=await o.read();if(f)break;c+=l.decode(b,{stream:!0});let w;for(;(w=c.indexOf(`
`))!==-1;){let T=c.slice(0,w);if(c=c.slice(w+1),T.endsWith("\r")&&(T=T.slice(0,-1)),T.startsWith(":")||T.trim()===""||!T.startsWith("data: "))continue;const E=T.slice(6).trim();if(E==="[DONE]"){u=!0;break}try{const C=(v=(m=(p=JSON.parse(E).choices)==null?void 0:p[0])==null?void 0:m.delta)==null?void 0:v.content;C&&e(C)}catch{c=T+`
`+c;break}}}if(c.trim())for(let f of c.split(`
`)){if(!f||!f.startsWith("data: "))continue;const b=f.slice(6).trim();if(b!=="[DONE]")try{const T=(g=(x=(y=JSON.parse(b).choices)==null?void 0:y[0])==null?void 0:x.delta)==null?void 0:g.content;T&&e(T)}catch{}}t()}const $V=()=>d.jsx("div",{className:"flex items-center gap-1 px-2 py-1",children:[0,1,2].map(n=>d.jsx("span",{className:"w-2 h-2 rounded-full bg-primary/60",style:{animation:`chatBounce 1.4s ease-in-out ${n*.2}s infinite`}},n))}),qV=()=>{var h;const[n,e]=S.useState([]),[t,i]=S.useState(""),[r,s]=S.useState(!1),a=S.useRef(null),o=S.useRef(null),{toast:l}=yf();S.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[n]);const c=async()=>{const p=t.trim();if(!p||r)return;const m={role:"user",content:p};e(x=>[...x,m]),i(""),s(!0);let v="";const y=x=>{v+=x,e(g=>{const f=g[g.length-1];return(f==null?void 0:f.role)==="assistant"?g.map((b,w)=>w===g.length-1?{...b,content:v}:b):[...g,{role:"assistant",content:v}]})};try{await WV({messages:[...n,m],onDelta:y,onDone:()=>s(!1),onError:x=>{l({title:"Error",description:x,variant:"destructive"}),s(!1)}})}catch{l({title:"Error",description:"Connection failed",variant:"destructive"}),s(!1)}},u=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),c())};return d.jsxs("div",{className:"chat-container rounded-2xl flex flex-col overflow-hidden",style:{height:"70vh"},children:[d.jsxs("div",{className:"chat-header flex items-center justify-between px-5 py-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"chat-bot-avatar",children:d.jsx(Wg,{className:"w-5 h-5 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-sm font-semibold text-foreground flex items-center gap-1.5",children:["AI Assistant",d.jsx(Ur,{className:"w-3.5 h-3.5 text-primary"})]}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Always ready to help "})]})]}),n.length>0&&d.jsxs(ar,{variant:"ghost",size:"sm",onClick:()=>e([]),className:"text-xs text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-xl transition-all",children:[d.jsx(jk,{className:"w-3.5 h-3.5 mr-1"})," Clear"]})]}),d.jsxs("div",{ref:a,className:"flex-1 overflow-y-auto px-4 py-3 space-y-4 chat-messages-area",children:[n.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 animate-fade-in",children:[d.jsx("div",{className:"chat-empty-icon",children:d.jsx(RD,{className:"w-10 h-10 text-primary/40"})}),d.jsxs("div",{className:"text-center space-y-1.5",children:[d.jsx("p",{className:"text-sm font-medium text-foreground/70",children:"AI  "}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"! "})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-2 max-w-sm",children:["Myanmar ","Code ","?"].map(p=>d.jsx("button",{onClick:()=>{var m;i(p),(m=o.current)==null||m.focus()},className:"chat-suggestion-chip",children:p},p))})]}),n.map((p,m)=>d.jsxs("div",{className:`flex gap-2.5 chat-msg-appear ${p.role==="user"?"justify-end":"justify-start"}`,style:{animationDelay:`${m*.05}s`},children:[p.role==="assistant"&&d.jsx("div",{className:"chat-avatar-bubble shrink-0 mt-1",children:d.jsx(Wg,{className:"w-4 h-4 text-primary"})}),d.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2.5 text-sm whitespace-pre-wrap leading-relaxed ${p.role==="user"?"chat-bubble-user rounded-br-md":"chat-bubble-assistant rounded-bl-md"}`,children:p.content}),p.role==="user"&&d.jsx("div",{className:"chat-avatar-bubble-user shrink-0 mt-1",children:d.jsx(Dk,{className:"w-4 h-4 text-primary-foreground"})})]},m)),r&&((h=n[n.length-1])==null?void 0:h.role)==="user"&&d.jsxs("div",{className:"flex gap-2.5 chat-msg-appear",children:[d.jsx("div",{className:"chat-avatar-bubble shrink-0",children:d.jsx(Wg,{className:"w-4 h-4 text-primary"})}),d.jsx("div",{className:"chat-bubble-assistant rounded-2xl rounded-bl-md px-4 py-2.5",children:d.jsx($V,{})})]})]}),d.jsx("div",{className:"chat-input-area px-4 py-3",children:d.jsxs("div",{className:"chat-input-wrapper",children:[d.jsx("textarea",{ref:o,value:t,onChange:p=>i(p.target.value),onKeyDown:u,placeholder:"... ",className:"chat-textarea",rows:1}),d.jsx("button",{onClick:c,disabled:!t.trim()||r,className:"chat-send-btn",children:r?d.jsx(Ds,{className:"w-4 h-4 animate-spin"}):d.jsx(DD,{className:"w-4 h-4"})})]})})]})},i0=S.forwardRef(({className:n,type:e,...t},i)=>d.jsx("input",{type:e,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));i0.displayName="Input";const r0=S.forwardRef(({className:n,...e},t)=>d.jsx("textarea",{className:ft("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));r0.displayName="Textarea";function YV(n,e){return S.useReducer((t,i)=>e[t][i]??t,n)}var s0="ScrollArea",[GR,cK]=bo(s0),[KV,yi]=GR(s0),HR=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:i="hover",dir:r,scrollHideDelay:s=600,...a}=n,[o,l]=S.useState(null),[c,u]=S.useState(null),[h,p]=S.useState(null),[m,v]=S.useState(null),[y,x]=S.useState(null),[g,f]=S.useState(0),[b,w]=S.useState(0),[T,E]=S.useState(!1),[_,C]=S.useState(!1),A=st(e,R=>l(R)),P=WP(r);return d.jsx(KV,{scope:t,type:i,dir:P,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:f,onCornerHeightChange:w,children:d.jsx(qe.div,{dir:P,...a,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...n.style}})})});HR.displayName=s0;var VR="ScrollAreaViewport",WR=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:i,nonce:r,...s}=n,a=yi(VR,t),o=S.useRef(null),l=st(e,o,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});WR.displayName=VR;var vr="ScrollAreaScrollbar",a0=S.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=yi(vr,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=r,o=n.orientation==="horizontal";return S.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),r.type==="hover"?d.jsx(XV,{...i,ref:e,forceMount:t}):r.type==="scroll"?d.jsx(JV,{...i,ref:e,forceMount:t}):r.type==="auto"?d.jsx($R,{...i,ref:e,forceMount:t}):r.type==="always"?d.jsx(o0,{...i,ref:e}):null});a0.displayName=vr;var XV=S.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=yi(vr,n.__scopeScrollArea),[s,a]=S.useState(!1);return S.useEffect(()=>{const o=r.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),r.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),d.jsx(gr,{present:t||s,children:d.jsx($R,{"data-state":s?"visible":"hidden",...i,ref:e})})}),JV=S.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=yi(vr,n.__scopeScrollArea),s=n.orientation==="horizontal",a=Gf(()=>l("SCROLL_END"),100),[o,l]=YV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,r.scrollHideDelay,l]),S.useEffect(()=>{const c=r.viewport,u=s?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const m=c[u];h!==m&&(l("SCROLL"),a()),h=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[r.viewport,s,l,a]),d.jsx(gr,{present:t||o!=="hidden",children:d.jsx(o0,{"data-state":o==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:Fe(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Fe(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),$R=S.forwardRef((n,e)=>{const t=yi(vr,n.__scopeScrollArea),{forceMount:i,...r}=n,[s,a]=S.useState(!1),o=n.orientation==="horizontal",l=Gf(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?c:u)}},10);return dc(t.viewport,l),dc(t.content,l),d.jsx(gr,{present:i||s,children:d.jsx(o0,{"data-state":s?"visible":"hidden",...r,ref:e})})}),o0=S.forwardRef((n,e)=>{const{orientation:t="vertical",...i}=n,r=yi(vr,n.__scopeScrollArea),s=S.useRef(null),a=S.useRef(0),[o,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=JR(o.viewport,o.content),u={...i,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function h(p,m){return i6(p,a.current,o,m)}return t==="horizontal"?d.jsx(QV,{...u,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const p=r.viewport.scrollLeft,m=iT(p,o,r.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollLeft=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollLeft=h(p,r.dir))}}):t==="vertical"?d.jsx(ZV,{...u,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const p=r.viewport.scrollTop,m=iT(p,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollTop=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollTop=h(p))}}):null}),QV=S.forwardRef((n,e)=>{const{sizes:t,onSizesChange:i,...r}=n,s=yi(vr,n.__scopeScrollArea),[a,o]=S.useState(),l=S.useRef(null),c=st(e,l,s.onScrollbarXChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(YR,{"data-orientation":"horizontal",...r,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Uf(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const p=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(p),ZR(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Km(a.paddingLeft),paddingEnd:Km(a.paddingRight)}})}})}),ZV=S.forwardRef((n,e)=>{const{sizes:t,onSizesChange:i,...r}=n,s=yi(vr,n.__scopeScrollArea),[a,o]=S.useState(),l=S.useRef(null),c=st(e,l,s.onScrollbarYChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(YR,{"data-orientation":"vertical",...r,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Uf(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const p=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(p),ZR(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Km(a.paddingTop),paddingEnd:Km(a.paddingBottom)}})}})}),[e6,qR]=GR(vr),YR=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:i,hasThumb:r,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=n,m=yi(vr,t),[v,y]=S.useState(null),x=st(e,A=>y(A)),g=S.useRef(null),f=S.useRef(""),b=m.viewport,w=i.content-i.viewport,T=en(u),E=en(l),_=Gf(h,10);function C(A){if(g.current){const P=A.clientX-g.current.left,R=A.clientY-g.current.top;c({x:P,y:R})}}return S.useEffect(()=>{const A=P=>{const R=P.target;(v==null?void 0:v.contains(R))&&T(P,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,v,w,T]),S.useEffect(E,[i,E]),dc(v,_),dc(m.content,_),d.jsx(e6,{scope:t,scrollbar:v,hasThumb:r,onThumbChange:en(s),onThumbPointerUp:en(a),onThumbPositionChange:E,onThumbPointerDown:en(o),children:d.jsx(qe.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:Fe(n.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=v.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:Fe(n.onPointerMove,C),onPointerUp:Fe(n.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=f.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),Ym="ScrollAreaThumb",KR=S.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=qR(Ym,n.__scopeScrollArea);return d.jsx(gr,{present:t||r.hasThumb,children:d.jsx(t6,{ref:e,...i})})}),t6=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:i,...r}=n,s=yi(Ym,t),a=qR(Ym,t),{onThumbPositionChange:o}=a,l=st(e,h=>a.onThumbChange(h)),c=S.useRef(void 0),u=Gf(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const h=s.viewport;if(h){const p=()=>{if(u(),!c.current){const m=r6(h,o);c.current=m,o()}};return o(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[s.viewport,u,o]),d.jsx(qe.div,{"data-state":a.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Fe(n.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),v=h.clientX-m.left,y=h.clientY-m.top;a.onThumbPointerDown({x:v,y})}),onPointerUp:Fe(n.onPointerUp,a.onThumbPointerUp)})});KR.displayName=Ym;var l0="ScrollAreaCorner",XR=S.forwardRef((n,e)=>{const t=yi(l0,n.__scopeScrollArea),i=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&i?d.jsx(n6,{...n,ref:e}):null});XR.displayName=l0;var n6=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,...i}=n,r=yi(l0,t),[s,a]=S.useState(0),[o,l]=S.useState(0),c=!!(s&&o);return dc(r.scrollbarX,()=>{var h;const u=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(u),l(u)}),dc(r.scrollbarY,()=>{var h;const u=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(u),a(u)}),c?d.jsx(qe.div,{...i,ref:e,style:{width:s,height:o,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Km(n){return n?parseInt(n,10):0}function JR(n,e){const t=n/e;return isNaN(t)?0:t}function Uf(n){const e=JR(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=(n.scrollbar.size-t)*e;return Math.max(i,18)}function i6(n,e,t,i="ltr"){const r=Uf(t),s=r/2,a=e||s,o=r-a,l=t.scrollbar.paddingStart+a,c=t.scrollbar.size-t.scrollbar.paddingEnd-o,u=t.content-t.viewport,h=i==="ltr"?[0,u]:[u*-1,0];return QR([l,c],h)(n)}function iT(n,e,t="ltr"){const i=Uf(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,a=e.content-e.viewport,o=s-i,l=t==="ltr"?[0,a]:[a*-1,0],c=Kx(n,l);return QR([0,a],[0,o])(c)}function QR(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function ZR(n,e){return n>0&&n<e}var r6=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},i=0;return function r(){const s={left:n.scrollLeft,top:n.scrollTop},a=t.left!==s.left,o=t.top!==s.top;(a||o)&&e(),t=s,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)};function Gf(n,e){const t=en(n),i=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(i.current),[]),S.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(t,e)},[t,e])}function dc(n,e){const t=en(e);nn(()=>{let i=0;if(n){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(t)});return r.observe(n),()=>{window.cancelAnimationFrame(i),r.unobserve(n)}}},[n,t])}var e2=HR,s6=WR,a6=XR;const c0=S.forwardRef(({className:n,children:e,...t},i)=>d.jsxs(e2,{ref:i,className:ft("relative overflow-hidden",n),...t,children:[d.jsx(s6,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(t2,{}),d.jsx(a6,{})]}));c0.displayName=e2.displayName;const t2=S.forwardRef(({className:n,orientation:e="vertical",...t},i)=>d.jsx(a0,{ref:i,orientation:e,className:ft("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:d.jsx(KR,{className:"relative flex-1 rounded-full bg-border"})}));t2.displayName=a0.displayName;const Dy=[{id:"all",label:"",emoji:""},{id:"ecommerce",label:"E-Commerce",emoji:""},{id:"social",label:"Social Media",emoji:""},{id:"education",label:"Education",emoji:""},{id:"health",label:"Health & Fitness",emoji:""},{id:"finance",label:"Finance",emoji:""},{id:"productivity",label:"Productivity",emoji:""},{id:"entertainment",label:"Entertainment",emoji:""},{id:"food",label:"Food & Restaurant",emoji:""},{id:"travel",label:"Travel",emoji:""},{id:"realestate",label:"Real Estate",emoji:""},{id:"crm",label:"CRM & Business",emoji:""},{id:"portfolio",label:"Portfolio & Blog",emoji:""},{id:"utility",label:"Utility & Tools",emoji:""},{id:"ai",label:"AI & ML",emoji:""}],o6=[{id:1,title:"Multi-vendor Marketplace",category:"ecommerce",emoji:"",prompt:`Build a full-featured multi-vendor e-commerce marketplace web application with the following features:

**User Roles:** Buyer, Seller, Admin
**Buyer Features:**
- Browse products with search, filters (price, category, rating), and sorting
- Product detail page with image gallery, reviews, and related products
- Shopping cart with quantity management and saved items/wishlist
- Checkout with multiple payment methods (Stripe integration)
- Order tracking with real-time status updates
- Review and rating system for products and sellers

**Seller Features:**
- Seller dashboard with sales analytics and revenue charts
- Product management (CRUD) with image upload, variants (size/color), and inventory tracking
- Order management with status updates and shipping label generation
- Earnings and payout management

**Admin Features:**
- Admin dashboard with platform-wide analytics
- Seller approval and management
- Category and product moderation
- Commission rate settings
- User management

**Technical Requirements:**
- Responsive design (mobile-first)
- Authentication with email/password and social login
- Real-time notifications for orders
- Image optimization and lazy loading
- SEO-friendly URLs and meta tags
- Pagination and infinite scroll for product listings`},{id:2,title:"Subscription Box Platform",category:"ecommerce",emoji:"",prompt:`Build a subscription box e-commerce platform where customers can subscribe to curated monthly boxes:

**Features:**
- Landing page with subscription plan tiers (Basic, Premium, Deluxe)
- User registration and profile management
- Subscription management (pause, cancel, upgrade/downgrade)
- Box customization preferences (quiz-based personalization)
- Past box history with product details
- Recurring billing with Stripe Subscriptions
- Referral program with discount codes
- Gift subscription option
- Admin panel for box curation and subscriber management
- Email notifications for shipping, billing, and new box reveals
- Product review system for items in past boxes
- Responsive design with beautiful product photography layout`},{id:3,title:"Digital Product Store",category:"ecommerce",emoji:"",prompt:`Build a digital product marketplace for selling downloadable items (templates, ebooks, courses, software):

**Features:**
- Product listings with preview/demo capability
- Secure file delivery after purchase (signed download URLs)
- License key generation and management
- Multiple file formats per product
- User library for purchased products with re-download capability
- Creator dashboard with sales analytics and earnings
- Rating and review system with verified purchase badges
- Discount codes and bundle deals
- Affiliate program for creators
- Search with category filters and tags
- Responsive grid/list view toggle
- Admin moderation panel for submitted products`},{id:4,title:"Fashion E-Commerce Store",category:"ecommerce",emoji:"",prompt:`Build a modern fashion e-commerce store with these features:

**Shopping Experience:**
- Product catalog with size guide, color swatches, and zoom-able images
- Virtual try-on size recommendation based on measurements
- Outfit suggestions and "Complete the Look" sections
- Wishlist and save for later
- Recently viewed products
- Size and fit reviews from other customers

**Cart & Checkout:**
- Persistent cart across sessions
- Guest checkout option
- Multiple shipping options with estimated delivery
- Promo code and gift card support
- Order confirmation with email

**Account Features:**
- Order history and tracking
- Return/exchange request system
- Address book management
- Style preferences quiz
- Loyalty points program

**Admin:**
- Inventory management with low stock alerts
- Sales dashboard with charts
- Product and category management
- Customer management and segmentation`},{id:5,title:"Grocery Delivery App",category:"ecommerce",emoji:"",prompt:`Build an online grocery delivery web application:

**Customer Features:**
- Browse products by category (Fruits, Vegetables, Dairy, Meat, Snacks, etc.)
- Search with auto-suggestions
- Product details with nutritional information
- Smart cart with quantity controls and estimated total
- Delivery time slot selection
- Multiple delivery addresses
- Order tracking with live status updates
- Reorder from past orders (one-click reorder)
- Weekly deals and personalized recommendations

**Delivery Management:**
- Delivery partner assignment
- Route optimization display
- Delivery status updates

**Admin Panel:**
- Product and inventory management
- Order management dashboard
- Delivery zone configuration
- Pricing and offer management
- Analytics and reports (daily sales, popular items, peak hours)`},{id:6,title:"Auction Platform",category:"ecommerce",emoji:"",prompt:`Build a real-time online auction platform:

**Features:**
- Live auction listings with countdown timers
- Real-time bidding with WebSocket updates
- Auto-bid (proxy bidding) functionality
- Buy-it-now option alongside auctions
- Auction categories with search and filters
- Seller listing creation with starting price, reserve price, and duration
- Bid history and notifications (outbid alerts)
- Winner notification and payment processing
- Seller ratings and buyer feedback system
- Watchlist for favorite auctions
- Admin panel for auction moderation and dispute resolution
- Mobile-responsive design with real-time countdown animations`},{id:7,title:"Print-on-Demand Store",category:"ecommerce",emoji:"",prompt:`Build a print-on-demand e-commerce platform:

**Features:**
- Product designer tool (upload artwork, position on product mockup)
- Multiple product types (t-shirts, mugs, phone cases, posters, tote bags)
- Live preview of custom designs on products
- Product listing with mockup generation
- Shopping cart and checkout with Stripe
- Order management with production status tracking
- Artist/designer profiles and storefronts
- Royalty tracking for designers
- Bulk order discounts
- Admin panel for production queue management
- Template gallery for quick designs
- Responsive design with canvas-based editor`},{id:8,title:"Second-hand Marketplace",category:"ecommerce",emoji:"",prompt:`Build a second-hand/used items marketplace (like Craigslist/Facebook Marketplace):

**Features:**
- Item listing with photos, description, condition rating, and price
- Location-based browsing with map view
- Category browsing (Electronics, Furniture, Clothing, Vehicles, etc.)
- In-app messaging between buyer and seller
- Make offer / negotiate price feature
- Saved searches with notification alerts
- User profiles with ratings and verification badges
- Report and flag inappropriate listings
- Featured/promoted listings (paid)
- Price history and similar item comparisons
- Admin moderation dashboard
- Mobile-responsive with swipe-able image galleries`},{id:9,title:"B2B Wholesale Platform",category:"ecommerce",emoji:"",prompt:`Build a B2B wholesale ordering platform:

**Features:**
- Business registration with verification workflow
- Tiered pricing based on order volume
- Bulk ordering with minimum order quantities
- Quote request system for custom orders
- Product catalog with SKU management
- Purchase order generation and tracking
- Invoice management and NET payment terms
- Reorder from past orders
- Account manager assignment
- Credit limit management
- Shipping integration with freight options
- Admin panel with business customer management and approval queue
- Reports: sales by customer, product performance, outstanding invoices`},{id:10,title:"Handmade Crafts Store",category:"ecommerce",emoji:"",prompt:`Build an Etsy-like handmade crafts marketplace:

**Features:**
- Artisan profiles with shop customization (banner, bio, story)
- Product listings with multiple photos, materials used, and crafting time
- Custom order requests with messaging
- Favorite shops and products
- Gift wrapping option and personalized messages
- Review system with photos
- Shop analytics for sellers
- Category browsing (Jewelry, Home Decor, Clothing, Art, Toys, etc.)
- Search with filters (price, shipping, handmade, vintage)
- Seasonal collections and featured artisans
- Admin curation and quality control
- Mobile-responsive masonry grid layout`},{id:11,title:"Photo Sharing Platform",category:"social",emoji:"",prompt:`Build an Instagram-like photo sharing social platform:

**Features:**
- Photo upload with filters and basic editing (crop, rotate, brightness)
- Feed with infinite scroll showing followed users' posts
- Like, comment, and share functionality
- User profiles with photo grid, followers/following counts
- Follow/unfollow system
- Stories feature (24-hour expiring content)
- Explore page with trending and suggested content
- Hashtag system with trending hashtags
- Direct messaging between users
- Notifications (likes, comments, follows, mentions)
- Search for users and hashtags
- Privacy settings (public/private profile)
- Report and block functionality
- Responsive design with mobile-first approach`},{id:12,title:"Community Forum",category:"social",emoji:"",prompt:`Build a Reddit-like community forum platform:

**Features:**
- Community/subreddit creation with custom rules and descriptions
- Post creation (text, link, image, poll)
- Upvote/downvote system with karma points
- Threaded comment system with nested replies
- User profiles with post/comment history and karma
- Community moderation tools (remove posts, ban users, set rules)
- Hot/New/Top/Controversial sorting
- Search across communities and posts
- Flair system for posts and users
- Award system for quality posts
- Dark mode support
- Admin dashboard for site-wide moderation
- Responsive design with card and compact view options`},{id:13,title:"Professional Networking Platform",category:"social",emoji:"",prompt:`Build a LinkedIn-like professional networking platform:

**Features:**
- Professional profile with experience, education, skills, and endorsements
- Connection system (send/accept/reject requests)
- News feed with posts, articles, and shared content
- Job listings and application system
- Company pages with follower system
- Messaging/inbox system
- Skill endorsement and recommendation letters
- Search for people, jobs, and companies
- Notifications for connections, messages, and job matches
- Content creation (articles, posts with rich text)
- Profile views analytics
- Admin panel for content moderation
- Responsive professional design`},{id:14,title:"Micro-blogging Platform",category:"social",emoji:"",prompt:`Build a Twitter/X-like micro-blogging platform:

**Features:**
- Short-form posts (280 character limit) with media attachments
- Timeline feed with real-time updates
- Repost/retweet and quote functionality
- Like and bookmark system
- Threaded conversations and replies
- Follow/follower system
- Trending topics and hashtags
- User verification badges
- Lists for organizing followed accounts
- Search with filters (people, posts, media)
- Notifications (mentions, likes, reposts, follows)
- Direct messages
- Profile customization (bio, banner, avatar)
- Analytics for post performance`},{id:15,title:"Event Social Platform",category:"social",emoji:"",prompt:`Build a social platform centered around events (like Meetup):

**Features:**
- Event creation with details, location (map), date/time, and capacity
- RSVP system with waitlist
- Event categories (Tech, Sports, Music, Art, Food, etc.)
- Group creation and management
- Event discovery by location and interests
- User profiles with attended events history
- Event comments and discussion boards
- Photo sharing from events
- Calendar integration
- Recurring event support
- Ticket pricing for paid events
- Organizer dashboard with attendee management
- Notifications and reminders
- Mobile-responsive with map integration`},{id:16,title:"Anonymous Q&A Platform",category:"social",emoji:"",prompt:`Build an anonymous question-and-answer social platform:

**Features:**
- Ask questions anonymously or with username
- Category-based question organization
- Upvote/downvote answers
- Mark best answer functionality
- Follow questions for updates
- User expertise tags and reputation system
- Search with filters (unanswered, popular, recent)
- Bookmark favorite questions
- Report inappropriate content
- Trending questions section
- Related questions suggestions
- Rich text editor for answers with code highlighting
- Admin moderation dashboard
- Responsive card-based layout`},{id:17,title:"Book Club Social Network",category:"social",emoji:"",prompt:`Build a Goodreads-like book social network:

**Features:**
- Book database with details (author, genre, synopsis, cover)
- Reading status tracking (Want to Read, Currently Reading, Read)
- Star rating and written review system
- Bookshelves/lists creation and sharing
- Reading challenges (yearly goals)
- Book clubs with discussion threads
- Friend system with activity feed
- Book recommendations based on reading history
- Author pages
- Search and browse by genre, author, rating
- Reading statistics and progress tracking
- Admin panel for book database management
- Responsive design with beautiful book cover displays`},{id:18,title:"Music Sharing Community",category:"social",emoji:"",prompt:`Build a SoundCloud-like music sharing community:

**Features:**
- Audio track upload with waveform visualization
- Play/pause with progress scrubbing
- Playlist creation and sharing
- Like, repost, and comment on tracks (timed comments)
- Artist profiles with discography
- Follow system and personalized feed
- Genre-based browsing and discovery
- Search for tracks, artists, and playlists
- Track analytics (plays, likes, reposts)
- Embed player for external sharing
- Download option (configurable by artist)
- Trending and new releases sections
- Responsive audio player that persists across navigation`},{id:19,title:"Online Learning Platform",category:"education",emoji:"",prompt:`Build a Udemy-like online learning platform:

**Features:**
- Course creation with modules, lessons (video, text, quiz)
- Course catalog with search, filters (category, level, price, rating)
- Video player with progress tracking and notes
- Quiz and assignment system with auto-grading
- Course progress dashboard for students
- Certificate generation upon completion
- Rating and review system for courses
- Instructor dashboard with earnings and student analytics
- Shopping cart and course purchase with Stripe
- Wishlist and course recommendations
- Discussion forum per course
- Admin panel for course approval and platform management
- Responsive design with focus on video content delivery`},{id:20,title:"Flashcard Study App",category:"education",emoji:"",prompt:`Build a spaced repetition flashcard study application:

**Features:**
- Create flashcard decks with front/back content (text, images)
- Spaced repetition algorithm (SM-2) for optimal review scheduling
- Study session with flip animation and self-grading
- Progress tracking with mastery levels per card
- Statistics dashboard (cards studied, streak, accuracy)
- Public deck sharing and browsing
- Import/export decks (CSV format)
- Tags and categories for organization
- Search across personal and public decks
- Daily study reminders
- Deck collaboration (shared editing)
- Dark mode support
- Mobile-responsive with swipe gestures for card review`},{id:21,title:"Language Learning App",category:"education",emoji:"",prompt:`Build a Duolingo-like language learning web application:

**Features:**
- Lesson structure with levels and units
- Multiple exercise types (multiple choice, fill-in-blank, matching, listening)
- XP points and daily streak tracking
- Leaderboards (weekly, all-time)
- Heart/lives system with practice to earn more
- Progress tree visualization
- Achievement badges and milestones
- Vocabulary review with spaced repetition
- Audio pronunciation for words and sentences
- Multiple language support (at least 5 languages)
- User profiles with statistics
- Daily goals and reminders
- Gamified UI with animations and sound effects
- Mobile-responsive design`},{id:22,title:"Online Exam Platform",category:"education",emoji:"",prompt:`Build an online examination and assessment platform:

**Features:**
- Exam creation with multiple question types (MCQ, true/false, short answer, essay)
- Question bank management with tags and difficulty levels
- Timed exams with auto-submission
- Randomized question order and answer shuffling
- Anti-cheating features (tab-switch detection, full-screen mode)
- Automatic grading for objective questions
- Manual grading interface for subjective questions
- Results dashboard with detailed analytics
- Certificate generation for passing candidates
- Student dashboard with exam history and performance trends
- Bulk student enrollment via CSV
- Admin panel for exam scheduling and management
- Responsive design that works on tablets and desktops`},{id:23,title:"Tutoring Marketplace",category:"education",emoji:"",prompt:`Build an online tutoring marketplace connecting tutors and students:

**Features:**
- Tutor profiles with subjects, qualifications, rates, and availability
- Student search for tutors by subject, price, rating, and availability
- Booking system with calendar integration
- Video call integration for online sessions
- In-session whiteboard and screen sharing
- Rating and review system for tutors
- Payment processing with tutor payouts
- Session history and notes
- Messaging system between tutor and student
- Tutor verification and background check status
- Subject category browsing
- Admin dashboard for tutor approval and dispute resolution
- Mobile-responsive booking interface`},{id:24,title:"School Management System",category:"education",emoji:"",prompt:`Build a comprehensive school management system:

**Features:**
- Student information management (enrollment, personal details, photos)
- Class and section management
- Teacher profiles and class assignments
- Attendance tracking with daily/monthly reports
- Grade book with assignment and exam score management
- Report card generation (PDF)
- Timetable/schedule management
- Parent portal with student progress viewing
- Announcement and notice board
- Fee management and payment tracking
- Library management (book catalog, issue/return)
- Admin dashboard with school-wide analytics
- Role-based access (Admin, Teacher, Student, Parent)
- Responsive design for all devices`},{id:25,title:"Interactive Coding Playground",category:"education",emoji:"",prompt:`Build an interactive coding playground for learning programming:

**Features:**
- Code editor with syntax highlighting (Monaco/CodeMirror)
- Multiple language support (JavaScript, Python, HTML/CSS)
- Live preview panel for web technologies
- Console output display
- Pre-built coding challenges with difficulty levels
- Step-by-step tutorials with embedded code exercises
- Code sharing via unique URLs
- Save and manage code snippets
- Fork and modify shared snippets
- User profiles with completed challenges
- Leaderboard based on challenges completed
- Dark/light theme toggle
- Responsive split-pane layout`},{id:26,title:"Research Paper Repository",category:"education",emoji:"",prompt:`Build an academic research paper repository platform:

**Features:**
- Paper upload with metadata (title, abstract, authors, keywords, DOI)
- PDF viewer with annotation support
- Search with filters (field, date, citations, author)
- Citation management and export (BibTeX, APA, MLA)
- Author profiles with publication list and h-index
- Paper collections/reading lists
- Peer review system (submit, review, revise)
- Reference graph visualization
- Related papers recommendations
- Download tracking and statistics
- Commenting and discussion per paper
- Admin panel for submission review
- Responsive document-focused design`},{id:27,title:"Workout Tracker",category:"health",emoji:"",prompt:`Build a comprehensive workout tracking web application:

**Features:**
- Exercise library with muscle group categories and instructions
- Custom workout plan creation with sets, reps, and rest times
- Workout logging with timer and set completion tracking
- Progress tracking with charts (weight lifted, volume, PRs)
- Body measurement tracking (weight, body fat, measurements)
- Workout history calendar view
- Pre-built workout programs (Beginner, Intermediate, Advanced)
- Exercise substitution suggestions
- Workout sharing and community templates
- Personal records (PR) tracking and celebrations
- Rest timer with audio notifications
- Statistics dashboard with trends
- Dark mode and mobile-responsive design`},{id:28,title:"Meal Planning & Nutrition Tracker",category:"health",emoji:"",prompt:`Build a meal planning and nutrition tracking application:

**Features:**
- Food database with nutritional information (calories, macros, micros)
- Daily food logging with serving size selection
- Meal planning with weekly calendar view
- Recipe creation with automatic nutritional calculation
- Macro and calorie goal setting with progress bars
- Grocery list generation from meal plans
- Water intake tracking
- Weight tracking with trend charts
- Barcode scanner for food items (camera API)
- Saved meals and favorites
- Nutritional reports (daily, weekly, monthly)
- Recipe sharing community
- Dark mode and responsive design`},{id:29,title:"Mental Health Journal",category:"health",emoji:"",prompt:`Build a mental health journaling and mood tracking application:

**Features:**
- Daily mood check-in with emoji scale and notes
- Journal entry with rich text editor
- Mood trends chart (weekly, monthly)
- Gratitude list feature
- Breathing exercises with guided animations
- Meditation timer with ambient sounds
- Sleep tracking log
- Anxiety/stress level tracking
- Coping strategies library
- Daily affirmations
- Private and secure entries (encrypted)
- Export journal entries
- Streak tracking for consistent journaling
- Calming UI design with soft colors and smooth animations`},{id:30,title:"Telemedicine Platform",category:"health",emoji:"",prompt:`Build a telemedicine/online doctor consultation platform:

**Features:**
- Patient registration with medical history form
- Doctor profiles with specialization, experience, and ratings
- Appointment booking with available time slots
- Video consultation integration
- Prescription management (digital prescriptions)
- Medical records storage and sharing
- Symptom checker (guided questionnaire)
- Chat messaging with doctors
- Payment processing for consultations
- Follow-up appointment scheduling
- Doctor dashboard with patient queue
- Admin panel for doctor verification
- Emergency contact information
- HIPAA-aware design with data privacy focus`},{id:31,title:"Yoga & Meditation App",category:"health",emoji:"",prompt:`Build a yoga and meditation web application:

**Features:**
- Guided meditation library with audio tracks and duration options
- Yoga pose library with images, instructions, and difficulty levels
- Pre-built yoga sequences (Morning Flow, Stress Relief, etc.)
- Custom sequence builder (drag-and-drop poses)
- Session timer with bell sounds
- Progress tracking (total minutes, streak, sessions)
- Daily meditation reminders
- Breathing exercise animations (box breathing, 4-7-8)
- Favorites and bookmarks
- Calming ambient sound mixer
- Achievement badges and milestones
- User profiles with practice statistics
- Serene, minimalist responsive design`},{id:32,title:"Habit Tracker",category:"health",emoji:"",prompt:`Build a habit tracking application:

**Features:**
- Create habits with custom icons, colors, and frequency (daily/weekly)
- Daily check-in dashboard with habit cards
- Streak tracking with visual calendar (GitHub-style contribution grid)
- Progress statistics with charts
- Habit categories (Health, Productivity, Learning, etc.)
- Reminders and notifications
- Weekly and monthly review reports
- Habit suggestions library
- Notes for each habit completion
- Archive completed/paused habits
- Data export (CSV)
- Dark mode support
- Motivational quotes
- Mobile-first responsive design with satisfying check animations`},{id:33,title:"Pharmacy Management System",category:"health",emoji:"",prompt:`Build a pharmacy management system:

**Features:**
- Medicine inventory management with stock levels and expiry dates
- Prescription processing and verification
- Customer/patient database
- Medicine search with alternatives and interactions checker
- Sales and billing system
- Low stock and expiry alerts
- Supplier management and purchase orders
- Sales reports and analytics
- Barcode scanning for medicine lookup
- Prescription history per patient
- Drug interaction warnings
- Admin dashboard with business analytics
- Receipt generation
- Responsive design for counter use`},{id:34,title:"Personal Finance Manager",category:"finance",emoji:"",prompt:`Build a comprehensive personal finance management application:

**Features:**
- Income and expense tracking with categories
- Multiple account management (bank, cash, credit card)
- Budget creation with monthly limits per category
- Budget vs actual spending comparison charts
- Transaction history with search and filters
- Recurring transactions (salary, rent, subscriptions)
- Financial reports (monthly, yearly) with charts
- Bill reminders and due date tracking
- Savings goals with progress tracking
- Net worth calculation
- Data export (CSV, PDF reports)
- Dashboard with spending overview and trends
- Dark mode and responsive design
- Currency support for multiple currencies`},{id:35,title:"Invoice Generator",category:"finance",emoji:"",prompt:`Build a professional invoice generator application:

**Features:**
- Create invoices with line items, tax, and discounts
- Client management database
- Invoice templates with customizable branding (logo, colors)
- Invoice status tracking (Draft, Sent, Paid, Overdue)
- Recurring invoice automation
- Payment recording and partial payment support
- PDF generation and email sending
- Expense tracking linked to clients/projects
- Revenue reports and charts
- Tax summary reports
- Multi-currency support
- Late payment reminders
- Dashboard with outstanding amount and monthly revenue
- Responsive design for mobile invoice creation`},{id:36,title:"Cryptocurrency Portfolio Tracker",category:"finance",emoji:"",prompt:`Build a cryptocurrency portfolio tracking application:

**Features:**
- Portfolio dashboard with total value, 24h change, and allocation chart
- Add holdings with buy price, quantity, and date
- Real-time price updates from crypto APIs
- Profit/loss calculation per coin and total
- Price charts with multiple timeframes (1D, 1W, 1M, 1Y)
- Watchlist for tracking coins not in portfolio
- Transaction history with buy/sell/transfer
- Price alerts with customizable thresholds
- Market overview with top coins by market cap
- Portfolio comparison with market benchmarks
- News feed integration
- Multiple portfolio support
- Export transaction history
- Responsive dark-themed design`},{id:37,title:"Expense Splitting App",category:"finance",emoji:"",prompt:`Build a Splitwise-like expense splitting application:

**Features:**
- Create groups for trips, roommates, events
- Add expenses with payer and split options (equal, exact, percentage)
- Balance calculation showing who owes whom
- Settle up with payment recording
- Expense categories with icons
- Activity feed showing group transactions
- Simplified debt calculation (minimize transactions)
- Receipt photo upload
- Recurring expenses (rent, utilities)
- Export group expenses summary
- Friend system for quick expense sharing
- Push notification for new expenses
- Dashboard with personal balance overview
- Mobile-responsive with easy expense entry`},{id:38,title:"Stock Market Dashboard",category:"finance",emoji:"",prompt:`Build a stock market dashboard and watchlist application:

**Features:**
- Real-time stock price display with change indicators
- Interactive candlestick and line charts
- Watchlist management with custom lists
- Stock search with company information
- Portfolio tracker with buy/sell recording
- Performance analytics (return, P&L)
- Market overview (indices, top gainers/losers)
- Stock comparison tool
- Financial news feed
- Price alerts
- Historical data analysis
- Sector performance heatmap
- Dark theme with financial data visualization
- Responsive grid layout for multiple stocks`},{id:39,title:"Crowdfunding Platform",category:"finance",emoji:"",prompt:`Build a Kickstarter-like crowdfunding platform:

**Features:**
- Campaign creation with story, images, video, and funding goal
- Reward tiers with descriptions and delivery dates
- Campaign progress bar and backer count
- Backer dashboard with pledged campaigns
- Campaign updates and comments
- Search and browse by category
- Featured and trending campaigns
- Creator dashboard with analytics
- Payment processing for pledges
- All-or-nothing and flexible funding models
- Social sharing integration
- Campaign timeline and milestones
- Admin panel for campaign review
- Responsive design with engaging campaign pages`},{id:40,title:"Payroll Management System",category:"finance",emoji:"",prompt:`Build a payroll management system for small businesses:

**Features:**
- Employee database with personal and salary details
- Monthly payroll processing with automatic calculations
- Tax deductions and benefits management
- Payslip generation (PDF)
- Attendance integration for payroll calculation
- Overtime and bonus management
- Leave balance tracking affecting pay
- Year-end tax summaries
- Payment history and records
- Multi-department support
- Salary revision history
- Reports (monthly cost, department-wise, year comparison)
- Admin role-based access
- Responsive dashboard with payroll overview`},{id:41,title:"Project Management Tool",category:"productivity",emoji:"",prompt:`Build a Trello/Jira-like project management tool:

**Features:**
- Kanban board with drag-and-drop cards
- List view and calendar view options
- Task creation with title, description, priority, due date, and assignee
- Task labels/tags with colors
- Subtasks and checklists within tasks
- File attachments on tasks
- Comments and activity log per task
- Multiple boards/projects
- Team member management and invitation
- Filters and search across tasks
- Sprint/milestone management
- Time tracking per task
- Dashboard with project progress overview
- Notifications for assignments and due dates
- Responsive design with mobile-friendly board`},{id:42,title:"Note-Taking App",category:"productivity",emoji:"",prompt:`Build a Notion-like note-taking application:

**Features:**
- Rich text editor with markdown support
- Block-based content (headings, text, lists, code, images, tables)
- Nested pages and subpages (tree structure)
- Sidebar navigation with page tree
- Full-text search across all notes
- Tags and categories
- Favorites/pinned notes
- Trash and restore functionality
- Template gallery for quick page creation
- Table/database view within notes
- Toggle/collapsible blocks
- Code blocks with syntax highlighting
- Export to PDF and Markdown
- Dark mode and responsive design
- Keyboard shortcuts for power users`},{id:43,title:"Time Tracking App",category:"productivity",emoji:"",prompt:`Build a time tracking and timesheet application:

**Features:**
- Timer with start/stop/pause and manual entry
- Project and task categorization
- Daily, weekly, and monthly timesheet views
- Time reports with charts (by project, task, day)
- Team management with member time views
- Billable vs non-billable hour tracking
- Client and project management
- Invoice generation from tracked hours
- Idle time detection
- Calendar integration
- Export reports (CSV, PDF)
- Dashboard with today's summary and weekly trends
- Tags for additional categorization
- Responsive design with floating timer widget`},{id:44,title:"Calendar & Scheduling App",category:"productivity",emoji:"",prompt:`Build a Google Calendar-like scheduling application:

**Features:**
- Monthly, weekly, daily, and agenda views
- Event creation with title, time, location, description, and color
- Recurring events (daily, weekly, monthly, custom)
- Drag-and-drop event rescheduling
- Event reminders and notifications
- Multiple calendars with color coding
- Calendar sharing and collaboration
- Availability scheduling for meetings
- Time zone support
- Search events
- Import/export calendar (ICS format)
- Mini calendar navigation
- All-day events and multi-day events
- Responsive design with touch-friendly interactions`},{id:45,title:"Team Communication Hub",category:"productivity",emoji:"",prompt:`Build a Slack-like team communication platform:

**Features:**
- Channels (public and private) for organized discussions
- Direct messaging (1-on-1 and group)
- Real-time messaging with WebSocket
- Message formatting (bold, italic, code, links)
- File sharing and image preview in chat
- Thread replies for organized discussions
- @mentions with notifications
- Emoji reactions on messages
- Search across all messages
- User presence indicators (online/offline/away)
- Channel management (create, archive, invite)
- Pinned messages
- Message editing and deletion
- Responsive design with sidebar navigation`},{id:46,title:"Document Collaboration Tool",category:"productivity",emoji:"",prompt:`Build a Google Docs-like document collaboration tool:

**Features:**
- Rich text editor with formatting toolbar
- Real-time collaborative editing with cursor presence
- Document organization with folders
- Share documents with permission levels (view, comment, edit)
- Comment and suggestion system
- Version history with restore capability
- Document templates
- Table of contents auto-generation
- Export to PDF and DOCX
- Full-text search across documents
- Starred/favorite documents
- Trash and recovery
- User avatars showing who's editing
- Responsive editor design`},{id:47,title:"Password Manager",category:"productivity",emoji:"",prompt:`Build a secure password manager web application:

**Features:**
- Encrypted vault for storing passwords
- Password entry with website, username, password, and notes
- Password generator with customizable rules (length, chars)
- Copy to clipboard functionality
- Search and filter passwords
- Category/folder organization
- Favorite/frequently used passwords
- Password strength indicator
- Master password authentication
- Auto-lock after inactivity
- Import/export passwords (CSV)
- Security audit (weak, reused, old passwords)
- Two-factor authentication support
- Responsive design with clean, secure feel`},{id:48,title:"Wiki/Knowledge Base",category:"productivity",emoji:"",prompt:`Build a team wiki and knowledge base platform:

**Features:**
- Article creation with rich text editor and markdown
- Category and subcategory organization
- Full-text search with suggestions
- Table of contents per article
- Version history with diff comparison
- Article linking and cross-references
- File and image attachments
- Access control (public, team, restricted)
- Article templates for consistency
- Recently updated and popular articles
- Feedback system (helpful/not helpful)
- Print-friendly article views
- Breadcrumb navigation
- Admin panel for category and user management
- Clean, readable responsive design`},{id:49,title:"Movie & TV Show Tracker",category:"entertainment",emoji:"",prompt:`Build a movie and TV show tracking application (like Letterboxd/Trakt):

**Features:**
- Movie/TV database with details (poster, synopsis, cast, rating)
- Watchlist management (Want to Watch, Watching, Watched)
- Rating and review system (star rating + text)
- Personal watch history with statistics
- Lists/collections creation (Best Sci-Fi, Weekend Movies, etc.)
- Social features (follow users, see friends' activity)
- Discover page with recommendations
- Search with filters (genre, year, rating)
- Season/episode tracking for TV shows
- Watch statistics (total hours, genres breakdown, yearly stats)
- Integration with movie API (TMDB)
- Dark mode with poster-heavy design
- Responsive grid layout`},{id:50,title:"Music Playlist Manager",category:"entertainment",emoji:"",prompt:`Build a music playlist management and discovery application:

**Features:**
- Create and manage playlists with drag-and-drop ordering
- Song search and browsing by genre, artist, mood
- Song details with album art, lyrics, and artist info
- Like/favorite songs
- Playlist sharing with public/private toggle
- Collaborative playlists
- Music discovery (trending, new releases, recommended)
- Artist and album pages
- Play queue management
- User profiles with listening statistics
- Genre-based browsing
- Mood-based playlist suggestions
- Import/export playlists
- Responsive design with music player aesthetic`},{id:51,title:"Online Quiz Game",category:"entertainment",emoji:"",prompt:`Build an interactive online quiz game platform:

**Features:**
- Multiple quiz categories (Science, History, Sports, Entertainment, etc.)
- Single player and multiplayer modes
- Timed questions with scoring
- Difficulty levels (Easy, Medium, Hard)
- Real-time multiplayer with room system
- Leaderboards (global, category, friends)
- Quiz creation tool for user-generated content
- Streak and achievement system
- Daily challenge quizzes
- Lifelines (50/50, skip, extra time)
- Statistics and performance tracking
- Power-ups and rewards
- Animated question transitions and feedback
- Mobile-responsive with game-like UI`},{id:52,title:"Podcast Directory",category:"entertainment",emoji:"",prompt:`Build a podcast directory and listener platform:

**Features:**
- Podcast catalog with cover art, description, and episodes
- Episode player with playback speed control
- Subscribe/follow podcasts
- Episode progress tracking (resume where you left off)
- Download episodes for offline indicator
- Playlist/queue management
- Category and genre browsing
- Search for podcasts and episodes
- User ratings and reviews
- Trending and new podcast discovery
- Listening history and statistics
- Personalized recommendations
- Share episodes
- Responsive design with persistent audio player`},{id:53,title:"Recipe Sharing Platform",category:"entertainment",emoji:"",prompt:`Build a recipe sharing and cooking community platform:

**Features:**
- Recipe creation with ingredients, steps (with photos), prep/cook time
- Serving size adjuster (auto-recalculate ingredients)
- Nutritional information display
- Recipe categories (Breakfast, Lunch, Dinner, Dessert, Snack)
- Search with filters (cuisine, diet, cooking time, difficulty)
- Save/bookmark favorite recipes
- Rating and review system with photos
- Weekly meal plan builder
- Grocery list generation from recipes
- User profiles with recipe collections
- Step-by-step cooking mode (large text, timer)
- Social features (follow cooks, activity feed)
- Print-friendly recipe view
- Responsive design with food photography focus`},{id:54,title:"Virtual Pet Game",category:"entertainment",emoji:"",prompt:`Build a Tamagotchi-like virtual pet web game:

**Features:**
- Choose and name your pet (cat, dog, bunny, dragon, etc.)
- Pet stats (Hunger, Happiness, Energy, Health, Cleanliness)
- Actions (Feed, Play, Sleep, Clean, Heal)
- Pet animations for different states and actions
- Stats decrease over time (real-time)
- Mini-games to earn coins (simple click/tap games)
- Shop to buy food, toys, and accessories
- Pet customization (hats, clothes, backgrounds)
- Pet evolution based on care quality
- Achievement system
- Daily login rewards
- Pet status notifications
- Multiple pets support
- Cute, colorful responsive design with animations`},{id:55,title:"Meme Generator",category:"entertainment",emoji:"",prompt:`Build a meme generator and sharing platform:

**Features:**
- Meme template gallery with popular formats
- Text overlay editor (top/bottom text, custom positioning)
- Custom image upload for meme creation
- Font customization (size, color, outline, shadow)
- Sticker/emoji overlay
- Generated meme download (PNG/JPG)
- Meme gallery with community submissions
- Upvote/downvote system
- Categories and tags
- Trending memes section
- Search meme templates
- Share to social media
- User profiles with created memes
- Canvas-based editor with responsive design`},{id:56,title:"Restaurant Management System",category:"food",emoji:"",prompt:`Build a comprehensive restaurant management system:

**Features:**
- Digital menu management with categories, items, prices, and photos
- Table management with visual floor plan
- Order taking system (dine-in, takeaway, delivery)
- Kitchen display system (order queue with status)
- Bill generation with tax and tip calculation
- Staff management and shift scheduling
- Inventory tracking with low-stock alerts
- Daily/weekly/monthly sales reports
- Customer database with order history
- Reservation management
- Discount and promotion management
- Multi-branch support
- Receipt printing (PDF generation)
- Responsive design for tablet POS use`},{id:57,title:"Food Delivery Platform",category:"food",emoji:"",prompt:`Build an UberEats-like food delivery platform:

**Features:**
- Restaurant listings with menus, ratings, and delivery time
- Location-based restaurant discovery with map
- Menu browsing with item customization (size, toppings, special requests)
- Cart management with multi-restaurant support
- Checkout with delivery address and payment
- Real-time order tracking with status updates
- Delivery driver assignment and tracking
- Restaurant dashboard for order management
- Rating and review system for restaurants and drivers
- Promo codes and offers
- Order history with reorder option
- Search with filters (cuisine, price, rating, delivery time)
- Admin panel for restaurant onboarding
- Mobile-first responsive design`},{id:58,title:"Restaurant Reservation System",category:"food",emoji:"",prompt:`Build an OpenTable-like restaurant reservation system:

**Features:**
- Restaurant profiles with photos, menu, hours, and location
- Real-time table availability checking
- Reservation booking with party size, date, and time
- Confirmation and reminder notifications
- Guest management and seating preferences
- Waitlist with estimated wait time
- Restaurant search by cuisine, location, price range
- User reviews and ratings
- Special occasion tags (birthday, anniversary)
- Booking modification and cancellation
- Restaurant dashboard with daily reservations view
- Floor plan with table assignment
- Analytics (no-shows, peak hours, covers)
- Responsive design with elegant restaurant aesthetic`},{id:59,title:"Coffee Shop Ordering App",category:"food",emoji:"",prompt:`Build a Starbucks-like coffee shop ordering web app:

**Features:**
- Menu with categories (Coffee, Tea, Pastries, Seasonal)
- Drink customization (size, milk type, sweetness, extra shots, toppings)
- Order ahead for pickup with estimated time
- Loyalty rewards program (earn stars per purchase)
- Reward redemption for free items
- Order history with favorites and quick reorder
- Store locator with hours and amenities
- Gift card purchase and balance check
- Seasonal promotions and limited-time offerings
- User preferences and saved customizations
- Push notification for order ready
- Payment processing
- Clean, modern cafe-inspired responsive design`},{id:60,title:"Recipe Box & Cookbook Creator",category:"food",emoji:"",prompt:`Build a personal recipe box and cookbook creation application:

**Features:**
- Add recipes with ingredients, instructions, photos, and notes
- Import recipes from URLs (web scraping metadata)
- Organize recipes in custom collections/cookbooks
- Tag system (cuisine, meal type, diet, season)
- Serving size calculator
- Cooking timer integration
- Meal planning calendar
- Shopping list generation from selected recipes
- Recipe scaling (halve, double)
- Personal notes and modifications per recipe
- Print-friendly recipe cards
- Share recipes with family/friends
- Search and filter personal recipes
- Beautiful recipe card responsive design`},{id:61,title:"Nutrition Label Generator",category:"food",emoji:"",prompt:`Build a nutrition facts label generator for food businesses:

**Features:**
- Ingredient database with nutritional values
- Recipe/product creation with ingredient quantities
- Automatic nutrition calculation (calories, fat, protein, carbs, etc.)
- FDA-compliant nutrition facts label generation
- Allergen detection and warnings
- Serving size management
- Label customization (format, style)
- PDF and image export of labels
- Ingredient statement generation
- Product database management
- Cost calculation per serving
- Batch/recipe scaling
- Admin dashboard for ingredient database management
- Clean, professional responsive design`},{id:62,title:"Food Waste Tracker",category:"food",emoji:"",prompt:`Build a food waste tracking and reduction application:

**Features:**
- Pantry inventory management with expiry dates
- Expiring soon alerts and notifications
- Recipe suggestions based on ingredients about to expire
- Food waste logging (what was wasted and why)
- Waste statistics and trends with charts
- Money saved/wasted calculation
- Tips for food storage and preservation
- Shopping list with smart suggestions (avoid overbuying)
- Community features (share surplus food)
- Environmental impact calculator (CO2, water saved)
- Weekly waste reports
- Goals and challenges for waste reduction
- Achievement badges
- Eco-friendly themed responsive design`},{id:63,title:"Trip Planning Platform",category:"travel",emoji:"",prompt:`Build a comprehensive trip planning platform:

**Features:**
- Trip creation with destination, dates, and budget
- Day-by-day itinerary builder with drag-and-drop
- Place search and add to itinerary (attractions, restaurants, hotels)
- Map view with itinerary pins and route
- Budget tracker with expense categories
- Packing list with templates
- Travel document checklist
- Collaborative trip planning (invite travel companions)
- Notes and tips per destination
- Weather forecast for trip dates
- Trip sharing and publishing
- Past trips gallery
- Travel inspiration and destination guides
- Responsive design with map-centric layout`},{id:64,title:"Hotel Booking System",category:"travel",emoji:"",prompt:`Build a hotel booking platform:

**Features:**
- Hotel listings with photos, amenities, and room types
- Search with filters (location, dates, guests, price, rating)
- Room availability calendar
- Booking system with guest details and payment
- Price comparison for different room types
- Review and rating system
- Map-based hotel search
- Hotel detail page with photo gallery and amenities list
- Booking management (modify, cancel)
- Guest dashboard with upcoming and past stays
- Hotel admin panel for inventory and booking management
- Special offers and packages
- Loyalty program
- Responsive design with travel-inspired aesthetics`},{id:65,title:"Flight Search Engine",category:"travel",emoji:"",prompt:`Build a flight search and comparison platform:

**Features:**
- Flight search with origin, destination, dates, and passengers
- Round-trip, one-way, and multi-city options
- Results with filters (price, duration, stops, airline, time)
- Sort by price, duration, departure time
- Flight details with layover information
- Price calendar (cheapest dates)
- Price alerts for routes
- Booking flow with passenger details
- Saved searches and favorite routes
- Recent searches history
- Airport information and terminal maps
- Baggage allowance comparison
- Mobile boarding pass display
- Responsive design with flight-search focused UX`},{id:66,title:"Travel Blog Platform",category:"travel",emoji:"",prompt:`Build a travel blogging platform:

**Features:**
- Blog post creation with rich text, photos, and location tags
- Interactive map showing all visited places
- Trip reports with multi-post series
- Photo galleries with lightbox view
- Travel tips and destination guides
- Comments and social interaction
- Follow travelers and personalized feed
- Destination pages aggregating all content
- Travel statistics (countries, cities, distance)
- Category and tag system
- Search and discover posts
- Featured posts and trending destinations
- SEO-optimized post URLs and meta tags
- Magazine-style responsive layout`},{id:67,title:"Car Rental Platform",category:"travel",emoji:"",prompt:`Build a car rental booking platform:

**Features:**
- Vehicle listings with photos, specs, and pricing
- Search by location, dates, and vehicle type
- Vehicle categories (Economy, SUV, Luxury, Van)
- Booking system with pickup/drop-off locations
- Add-ons (GPS, child seat, insurance)
- Pricing calculator with duration discounts
- Customer reviews per vehicle
- Fleet management for rental companies
- Booking management (modify, cancel, extend)
- Driver's license verification upload
- Damage report system with photos
- Loyalty rewards program
- Admin dashboard with fleet analytics
- Responsive design for quick mobile booking`},{id:68,title:"Currency Converter",category:"travel",emoji:"",prompt:`Build a currency converter and exchange rate tracking application:

**Features:**
- Real-time currency conversion with 150+ currencies
- Favorite currency pairs for quick access
- Historical exchange rate charts (1D, 1W, 1M, 1Y)
- Rate alerts (notify when rate reaches target)
- Multi-currency converter (convert to multiple at once)
- Offline mode with cached rates
- Travel budget calculator in local currency
- Cash vs card rate comparison
- Country-based currency information
- Fee/commission calculator
- Rate trend indicators (up/down)
- Widget-style quick converter
- API rate refresh indicator
- Clean, financial-data focused responsive design`},{id:69,title:"Visa Requirements Checker",category:"travel",emoji:"",prompt:`Build a visa requirements checker and application tracker:

**Features:**
- Country-to-country visa requirement lookup
- Visa types information (tourist, business, transit, student)
- Required documents checklist per visa type
- Application status tracker with timeline
- Document upload and organization
- Embassy/consulate finder with contact info
- Processing time estimates
- Fee information and comparison
- Travel advisory warnings
- Visa-free destination explorer based on passport
- Application deadline reminders
- Shared applications for group travel
- FAQ per country
- Clean, informational responsive design`},{id:70,title:"Property Listing Platform",category:"realestate",emoji:"",prompt:`Build a Zillow-like property listing platform:

**Features:**
- Property listings with photos, details, and pricing
- Advanced search with filters (type, price, bedrooms, area, amenities)
- Map-based property search with clustering
- Property detail page with photo gallery and virtual tour
- Save/favorite properties and saved searches
- Price history and estimate
- Neighborhood information (schools, transit, crime)
- Agent profiles and contact forms
- Mortgage calculator
- Compare properties side-by-side
- New listing alerts
- Property submission for sellers/agents
- Admin panel for listing moderation
- Responsive design with map-heavy layout`},{id:71,title:"Property Management System",category:"realestate",emoji:"",prompt:`Build a property management system for landlords:

**Features:**
- Property portfolio management with units
- Tenant management with lease details
- Rent collection tracking and reminders
- Maintenance request system with status tracking
- Financial reports (income, expenses, profit per property)
- Lease agreement generation
- Tenant screening checklist
- Document storage (leases, receipts, inspections)
- Expense tracking per property
- Vacancy management and listing
- Communication hub for tenant messaging
- Property inspection scheduling and reports
- Tax document preparation
- Dashboard with portfolio overview and responsive design`},{id:72,title:"Interior Design Visualizer",category:"realestate",emoji:"",prompt:`Build an interior design visualization and planning tool:

**Features:**
- Room planner with drag-and-drop furniture placement
- Furniture catalog with dimensions and styles
- Color palette selector for walls, floors, and accents
- Style presets (Modern, Minimalist, Industrial, Bohemian)
- Mood board creation with images and colors
- Save and share room designs
- Before/after comparison slider
- Budget tracker for renovation/decoration
- Shopping list from design items with links
- Multiple room projects per user
- Design templates for common room types
- Measurement input for accurate scaling
- Export designs as images
- Elegant, design-focused responsive layout`},{id:73,title:"Roommate Finder",category:"realestate",emoji:"",prompt:`Build a roommate finding platform:

**Features:**
- User profiles with lifestyle preferences (sleep schedule, cleanliness, pets, etc.)
- Room/apartment listings with photos and details
- Compatibility matching algorithm based on preferences
- Search with filters (location, price, move-in date, preferences)
- Messaging system between potential roommates
- Verification badges (ID, social media, employment)
- Room tour scheduling
- Roommate agreement template
- Review system from past roommates
- Map-based search
- Budget split calculator
- Favorite profiles and listings
- Safety tips and guidelines
- Friendly, modern responsive design`},{id:74,title:"Construction Project Tracker",category:"realestate",emoji:"",prompt:`Build a construction project management tracker:

**Features:**
- Project dashboard with milestones and timeline (Gantt chart)
- Task management with assignments and dependencies
- Daily progress reports with photos
- Budget tracking with cost breakdown
- Material inventory and ordering
- Subcontractor management
- Document management (blueprints, permits, contracts)
- Weather impact tracking
- Safety incident reporting
- Client portal with progress viewing
- Change order management
- Equipment tracking
- Inspection scheduling and checklists
- Photo gallery per project phase
- Responsive design for on-site tablet use`},{id:75,title:"Parking Space Rental",category:"realestate",emoji:"",prompt:`Build a parking space rental marketplace:

**Features:**
- List parking spaces with location, type (garage, open, covered), and pricing
- Map-based parking search near destination
- Hourly, daily, and monthly pricing options
- Real-time availability status
- Booking and payment system
- QR code access pass generation
- Space owner dashboard with earnings
- Renter dashboard with active bookings
- Reviews for parking spaces
- Favorite/saved locations
- Vehicle management (multiple cars)
- Cancellation policy management
- Admin panel for dispute resolution
- Mobile-responsive with map-first design`},{id:76,title:"CRM Dashboard",category:"crm",emoji:"",prompt:`Build a sales CRM (Customer Relationship Management) dashboard:

**Features:**
- Contact management with company and person records
- Deal/opportunity pipeline with drag-and-drop stages
- Activity logging (calls, emails, meetings, notes)
- Task and follow-up management
- Email integration for communication tracking
- Sales reports and forecasting
- Contact search with advanced filters
- Deal analytics (conversion rate, average deal size, sales cycle)
- Team performance leaderboard
- Custom fields for contacts and deals
- Import/export contacts (CSV)
- Dashboard with sales metrics and charts
- Activity timeline per contact
- Responsive design with sidebar navigation`},{id:77,title:"HR Management System",category:"crm",emoji:"",prompt:`Build an HR management system for small-medium businesses:

**Features:**
- Employee directory with profiles and organizational chart
- Leave management (apply, approve, balance tracking)
- Attendance tracking with clock-in/out
- Performance review system with goals and feedback
- Recruitment pipeline (job postings, applicants, interviews)
- Onboarding checklist for new hires
- Document management (contracts, certificates)
- Payroll integration data
- Training and development tracking
- Company announcements and policies
- Employee self-service portal
- Reports (headcount, turnover, leave statistics)
- Role-based access (HR Admin, Manager, Employee)
- Professional responsive design`},{id:78,title:"Appointment Booking System",category:"crm",emoji:"",prompt:`Build a Calendly-like appointment booking system:

**Features:**
- Customizable booking page with available time slots
- Multiple event types with different durations
- Calendar sync for availability
- Buffer time between appointments
- Booking confirmation and reminder emails
- Timezone auto-detection
- Custom questions for bookers
- Team scheduling with round-robin or specific member
- Booking management dashboard
- Reschedule and cancellation with policies
- Embed booking widget for external websites
- Analytics (bookings per day, popular times, no-shows)
- Payment collection for paid appointments
- Clean, professional responsive booking page`},{id:79,title:"Customer Support Ticketing",category:"crm",emoji:"",prompt:`Build a customer support ticketing system:

**Features:**
- Ticket creation with subject, description, priority, and category
- Ticket assignment to support agents
- Status workflow (Open, In Progress, Waiting, Resolved, Closed)
- Internal notes and customer communication thread
- SLA tracking with response/resolution time
- Canned responses for common issues
- Knowledge base integration
- Customer portal for ticket submission and tracking
- Agent dashboard with queue management
- Ticket tags and custom fields
- Reports (response time, resolution rate, agent performance)
- Email-to-ticket creation
- Satisfaction rating after resolution
- Responsive design for agent efficiency`},{id:80,title:"Inventory Management System",category:"crm",emoji:"",prompt:`Build an inventory management system:

**Features:**
- Product catalog with SKU, barcode, and categories
- Stock level tracking with real-time quantities
- Stock in/out transactions with history
- Low stock alerts and reorder points
- Multiple warehouse/location support
- Purchase order management
- Supplier database
- Stock transfer between locations
- Batch/lot tracking with expiry dates
- Barcode generation and scanning
- Inventory valuation reports
- Stock take/audit functionality
- Reports (stock movement, valuation, turnover rate)
- Dashboard with inventory overview
- Responsive design for warehouse tablet use`},{id:81,title:"Survey & Feedback Platform",category:"crm",emoji:"",prompt:`Build a Typeform-like survey and feedback platform:

**Features:**
- Survey builder with multiple question types (MCQ, rating, text, scale, matrix)
- Drag-and-drop question ordering
- Conditional logic (show/hide questions based on answers)
- Theme customization (colors, fonts, background)
- Survey preview and testing
- Shareable survey links
- Response collection and storage
- Real-time response analytics with charts
- Individual response viewing
- Export responses (CSV, PDF reports)
- Anonymous and authenticated response options
- Response rate tracking
- Thank you page customization
- Template gallery for common survey types
- Beautiful, distraction-free responsive survey experience`},{id:82,title:"Newsletter Management Platform",category:"crm",emoji:"",prompt:`Build a newsletter/email campaign management platform:

**Features:**
- Subscriber list management with tags and segments
- Email template builder with drag-and-drop blocks
- Campaign creation with subject, content, and scheduling
- A/B testing for subject lines
- Campaign analytics (open rate, click rate, unsubscribes)
- Subscriber sign-up forms (embeddable)
- Automation sequences (welcome series, drip campaigns)
- Unsubscribe management and compliance
- Subscriber import/export (CSV)
- Template gallery
- Personalization tokens (name, custom fields)
- Send test emails
- Campaign history and comparison
- Dashboard with subscriber growth and engagement metrics
- Responsive email preview and management interface`},{id:83,title:"Developer Portfolio",category:"portfolio",emoji:"",prompt:`Build a stunning developer portfolio website:

**Features:**
- Hero section with animated name, title, and CTA
- About section with skills and tech stack (icon grid)
- Projects showcase with live demo links and GitHub repos
- Project detail modal/page with screenshots and description
- Experience timeline (work history)
- Education section
- Blog/articles section
- Contact form with email integration
- Social media links
- Resume/CV download
- Dark/light mode toggle
- Smooth scroll navigation
- Terminal-style interactive element
- Loading animations and page transitions
- SEO optimized with meta tags
- Responsive design with creative animations`},{id:84,title:"Photography Portfolio",category:"portfolio",emoji:"",prompt:`Build a photography portfolio website:

**Features:**
- Full-screen hero with featured photo
- Photo gallery with masonry/grid layout
- Album/collection organization
- Lightbox viewer with navigation
- Photo details (camera, lens, settings, location)
- Category filtering (Landscape, Portrait, Street, Wedding, etc.)
- Client gallery with password protection
- Contact and booking form
- About page with photographer bio and equipment
- Blog with photo stories
- Print store integration
- Social media integration
- Lazy loading for performance
- Minimal, photo-focused responsive design`},{id:85,title:"Creative Agency Website",category:"portfolio",emoji:"",prompt:`Build a creative agency portfolio website:

**Features:**
- Bold hero section with video/animation background
- Services section with detailed descriptions
- Portfolio/case studies with project details
- Team members section with roles and bios
- Client testimonials carousel
- Process/workflow section
- Contact page with inquiry form
- Blog/insights section
- Client logos showcase
- Awards and recognition
- Career/jobs page
- FAQ section
- Newsletter signup
- Smooth animations and parallax scrolling
- Brand-consistent color scheme
- Responsive design with creative layout`},{id:86,title:"Personal Blog Platform",category:"portfolio",emoji:"",prompt:`Build a Medium-like personal blog platform:

**Features:**
- Article editor with rich text and markdown support
- Featured image and reading time calculation
- Category and tag system
- Table of contents for long articles
- Code block support with syntax highlighting
- Image galleries within posts
- Comment system with nested replies
- Like/clap system for articles
- Author profile page with all posts
- RSS feed generation
- SEO-friendly URLs and meta tags
- Social sharing buttons
- Newsletter subscription
- Related articles suggestions
- Archive page with search
- Clean, typography-focused responsive design`},{id:87,title:"Digital Resume Builder",category:"portfolio",emoji:"",prompt:`Build an online resume/CV builder application:

**Features:**
- Multiple resume templates (Professional, Creative, Minimal, Modern)
- Section management (Experience, Education, Skills, Projects, etc.)
- Drag-and-drop section reordering
- Rich text editing for descriptions
- Live preview while editing
- PDF export with pixel-perfect rendering
- Multiple resume versions
- Custom color scheme per template
- Profile photo upload
- Skills with proficiency levels
- Language proficiency
- Social links and portfolio URL
- ATS-friendly template option
- Cover letter builder
- Shareable resume URL
- Responsive editor interface`},{id:88,title:"Art Gallery Platform",category:"portfolio",emoji:"",prompt:`Build an online art gallery and marketplace:

**Features:**
- Artist profiles with biography and portfolio
- Artwork listings with high-res images, details, and pricing
- Virtual gallery view with room mockups
- Art categories (Painting, Sculpture, Digital, Photography)
- Search and filter by style, medium, price, size
- Purchase and commission request system
- Exhibition/collection curation
- Favorite artworks and follow artists
- Artist applications and approval
- Artwork zoom and detail view
- Price range exploration
- About the piece (artist statement, technique)
- Admin panel for gallery curation
- Elegant, gallery-inspired responsive design`},{id:89,title:"URL Shortener",category:"utility",emoji:"",prompt:`Build a URL shortener service with analytics:

**Features:**
- Shorten long URLs with custom aliases
- QR code generation for shortened URLs
- Click analytics (total clicks, daily chart, referrers)
- Geographic data for clicks (country, city)
- Device and browser statistics
- Link expiration settings
- Password-protected links
- Bulk URL shortening
- API access for developers
- Link management dashboard
- Custom domains support
- UTM parameter builder
- Link grouping and tags
- Export analytics data
- Clean, minimal responsive design`},{id:90,title:"File Converter Tool",category:"utility",emoji:"",prompt:`Build an online file converter tool:

**Features:**
- Image conversion (PNG, JPG, WebP, SVG, GIF)
- Document conversion (PDF to images, images to PDF)
- Image resizing and compression
- Batch conversion support
- Drag-and-drop file upload
- Format auto-detection
- Quality/compression settings
- Preview before download
- Conversion history
- File size comparison (before/after)
- Color space conversion
- Image cropping and rotation
- Watermark adding
- Progress indicator for large files
- Clean, tool-focused responsive design`},{id:91,title:"Color Palette Generator",category:"utility",emoji:"",prompt:`Build a color palette generator and manager tool:

**Features:**
- Random palette generation with lock/unlock colors
- Color harmony rules (complementary, analogous, triadic, etc.)
- Extract palette from uploaded image
- Color picker with HEX, RGB, HSL values
- Palette saving and collections
- Community palettes gallery
- Accessibility contrast checker (WCAG)
- CSS/Tailwind code generation for palettes
- Gradient generator
- Color blindness simulation
- Export palettes (PNG, SVG, ASE, CSS)
- Trending palettes
- Search by color or mood
- Palette variations (lighter, darker, desaturated)
- Responsive design with color-immersive UI`},{id:92,title:"Markdown Editor",category:"utility",emoji:"",prompt:`Build an online markdown editor with live preview:

**Features:**
- Split-pane editor with live preview
- Full markdown syntax support (GFM)
- Toolbar with formatting buttons
- Syntax highlighting in editor
- Table editor with visual builder
- Image upload and embedding
- Code block with language selection
- Mermaid diagram support
- Table of contents generation
- Export to HTML, PDF, and raw Markdown
- Document management (save, load, organize)
- Auto-save with version history
- Focus/zen mode (distraction-free)
- Custom CSS for preview styling
- Keyboard shortcuts
- Responsive design with collapsible panels`},{id:93,title:"QR Code Generator",category:"utility",emoji:"",prompt:`Build a QR code generator and scanner application:

**Features:**
- Generate QR codes for URLs, text, WiFi, vCard, email, phone
- QR code customization (color, background, logo overlay)
- Multiple QR code styles (square, rounded, dots)
- Download in PNG, SVG, and PDF formats
- Batch QR code generation
- QR code scanner using device camera
- Scan history
- Dynamic QR codes (editable destination)
- Analytics for dynamic codes (scans count)
- Template gallery for common use cases
- Print-ready QR code sheets
- Error correction level selection
- Size customization
- Clean, modern utility-focused responsive design`},{id:94,title:"Screenshot & Mockup Tool",category:"utility",emoji:"",prompt:`Build a screenshot beautifier and mockup generator:

**Features:**
- Upload screenshot and add device frame (iPhone, MacBook, iPad)
- Background customization (gradient, solid, pattern, image)
- Add shadow and reflection effects
- Text annotations and arrows
- Browser mockup frame
- Social media post mockup templates
- Padding and border radius adjustment
- Multiple export sizes and formats
- Batch processing for multiple screenshots
- Preset styles for quick beautification
- Watermark option
- Comparison slider (before/after)
- Template saving for consistent branding
- Canvas-based editor with responsive design`},{id:95,title:"Pomodoro Timer App",category:"utility",emoji:"",prompt:`Build a Pomodoro technique productivity timer:

**Features:**
- Configurable work/break intervals (default 25/5/15)
- Visual circular countdown timer with animation
- Auto-transition between work and break sessions
- Session counter (pomodoros completed)
- Daily and weekly statistics with charts
- Task list with pomodoro estimation
- Sound notifications for session transitions
- Ambient sounds during work sessions (rain, cafe, nature)
- Focus mode (minimal UI)
- Daily streak tracking
- Category-based time tracking
- Keyboard shortcuts (start/pause/skip)
- Settings persistence
- Beautiful, distraction-free responsive design`},{id:96,title:"AI Content Writer",category:"ai",emoji:"",prompt:`Build an AI-powered content writing assistant:

**Features:**
- Content generation for various types (blog post, social media, email, ad copy)
- Tone selection (professional, casual, humorous, formal)
- Target audience specification
- Content length control
- Multiple variations generation
- Content editing with AI suggestions
- Grammar and style checking
- SEO optimization suggestions
- Headline generator
- Content templates (product description, press release, etc.)
- Save and organize generated content
- Export to multiple formats
- History of generated content
- Word count and readability score
- Clean, writer-focused responsive design`},{id:97,title:"AI Image Analysis Tool",category:"ai",emoji:"",prompt:`Build an AI-powered image analysis and description tool:

**Features:**
- Image upload with drag-and-drop
- AI-generated image descriptions
- Object detection with bounding box visualization
- Text extraction from images (OCR)
- Color palette extraction
- Image similarity search
- Face detection (count and positions)
- Scene classification
- Image metadata display (EXIF data)
- Batch image analysis
- Analysis history
- Export results as JSON/CSV
- Comparison between multiple images
- Accessibility alt-text generation
- Modern, tech-focused responsive design`},{id:98,title:"AI Chatbot Builder",category:"ai",emoji:"",prompt:`Build an AI chatbot builder platform (no-code):

**Features:**
- Visual conversation flow builder with drag-and-drop
- Message node types (text, buttons, carousel, quick replies)
- Conditional branching based on user input
- Variable storage and user context
- AI response integration for dynamic answers
- Knowledge base upload (FAQ, documents)
- Chat widget customization (colors, avatar, position)
- Embed code generation for websites
- Testing playground
- Conversation analytics (messages, users, drop-off)
- Template bots for common use cases
- Multi-language support
- User conversation history
- Admin dashboard with chatbot management
- Responsive builder interface`},{id:99,title:"AI Study Notes Generator",category:"ai",emoji:"",prompt:`Build an AI-powered study notes generator:

**Features:**
- Input text/topic and generate structured study notes
- Multiple output formats (bullet points, flashcards, summary, mind map)
- Key concepts extraction and highlighting
- Quiz generation from notes
- Difficulty level adjustment
- Subject-specific formatting (science formulas, history timelines, etc.)
- Save and organize notes by subject
- Collaborative note sharing
- Spaced repetition review scheduling
- PDF and markdown export
- Image/diagram suggestions
- Glossary auto-generation
- Progress tracking per subject
- Search across all notes
- Student-friendly responsive design`},{id:100,title:"AI Code Review Tool",category:"ai",emoji:"",prompt:`Build an AI-powered code review assistant:

**Features:**
- Code input with syntax highlighting (multiple languages)
- AI-powered code review with suggestions
- Bug detection and potential issue flagging
- Performance optimization suggestions
- Security vulnerability scanning
- Code style and best practices checking
- Refactoring suggestions with before/after
- Complexity analysis (cyclomatic complexity)
- Documentation generation from code
- Code explanation in plain language
- Multiple language support (JS, Python, Java, Go, etc.)
- Review history and tracking
- Export review as PDF report
- Severity levels for issues (critical, warning, info)
- Developer-focused dark theme responsive design`},{id:101,title:"Luxury Watch Marketplace",category:"ecommerce",emoji:"",prompt:`Build a luxury watch marketplace for authenticated pre-owned timepieces:

**Features:**
- Watch listings with 360 image viewer, certificate of authenticity upload
- Price comparison with market trends and historical prices
- Authentication verification workflow with expert review
- Escrow payment system for high-value transactions
- Seller reputation scoring with transaction history
- Watch condition grading system (mint, excellent, good, fair)
- Brand filtering (Rolex, Omega, Patek Philippe, Audemars Piguet, etc.)
- Watchlist alerts for price drops
- Insurance integration for shipped items
- Expert appraisal request feature
- Admin panel with fraud detection dashboard
- Responsive design with high-resolution image zoom`},{id:102,title:"Pet Supplies Subscription",category:"ecommerce",emoji:"",prompt:`Build a pet supplies subscription and e-commerce platform:

**Features:**
- Pet profile creation (species, breed, age, dietary needs, allergies)
- Personalized product recommendations based on pet profile
- Auto-replenishment subscriptions for food, treats, and supplies
- Vet-approved product badges and nutritional info
- Photo sharing community for pet owners
- Loyalty rewards program with pet milestones
- Same-day delivery scheduling
- Product bundles and seasonal boxes
- Vet consultation booking integration
- Admin dashboard with subscription analytics and churn prediction
- Mobile-responsive with cute pet-themed UI`},{id:103,title:"Vintage Vinyl Record Shop",category:"ecommerce",emoji:"",prompt:`Build an online vintage vinyl record marketplace:

**Features:**
- Record listings with Discogs-style grading (M, NM, VG+, VG, G)
- Audio preview clips for listed records
- Want-list management with availability notifications
- Genre deep-dive browsing (Jazz, Rock, Soul, Classical, Hip-Hop)
- Seller storefront with collection showcase
- Price guide integration with market value estimates
- Collection tracker and value calculator
- Trade/swap matching system between collectors
- Shipping calculator with fragile item handling
- Advanced search by artist, label, year, pressing country
- Admin moderation with counterfeit detection flags
- Retro-themed responsive design`},{id:104,title:"Custom Furniture Builder",category:"ecommerce",emoji:"",prompt:`Build a custom furniture design and ordering platform:

**Features:**
- 3D furniture configurator (choose wood type, dimensions, finish, fabric)
- Real-time price calculation based on customizations
- AR preview to visualize furniture in room (upload room photo)
- Material sample request system
- Artisan maker profiles with portfolio
- Production timeline tracking from order to delivery
- Customer review gallery with photos of delivered items
- Interior design consultation booking
- Room planning tool with furniture placement
- Sustainable materials certification badges
- Admin panel with production queue and material inventory
- Elegant responsive design with product visualizations`},{id:105,title:"Farm-to-Table Marketplace",category:"ecommerce",emoji:"",prompt:`Build a farm-to-table local produce marketplace:

**Features:**
- Farmer profiles with farm location, certifications, farming practices
- Seasonal produce availability calendar
- Community Supported Agriculture (CSA) box subscriptions
- Farm visit and event booking
- Real-time harvest updates from farmers
- Delivery route optimization for local delivery
- Recipe suggestions based on available seasonal produce
- Carbon footprint calculator per order
- Bulk ordering for restaurants with wholesale pricing
- Customer reviews and farm ratings
- Admin dashboard with farmer verification and quality control
- Fresh, organic-themed responsive design`},{id:106,title:"Sneaker Resale Platform",category:"ecommerce",emoji:"",prompt:`Build a sneaker authentication and resale marketplace:

**Features:**
- AI-powered authenticity verification with photo upload
- Real-time market price tracking per model/size
- Bid/ask trading system like StockX
- Sneaker portfolio value tracker
- Release calendar with drop notifications
- Size conversion chart (US, UK, EU, JP)
- Seller payout management with instant cash-out
- Condition grading with detailed photo requirements
- Trending sneaker charts and price history graphs
- Push notification for price movements on watched items
- Admin panel with authentication queue and dispute resolution
- Streetwear-inspired dark theme responsive design`},{id:107,title:"Art Commission Platform",category:"ecommerce",emoji:"",prompt:`Build an art commission marketplace connecting artists with clients:

**Features:**
- Artist portfolio with style showcase and commission pricing tiers
- Commission request form with reference images, style preferences
- Milestone-based payment system (sketch approval  lineart  final)
- Real-time progress sharing with revision rounds
- Artist availability calendar and queue management
- Client review and rating system
- Style matching AI that suggests artists based on description
- Digital download delivery with licensing terms
- Print-on-demand integration for physical prints
- Dispute resolution system
- Admin panel with artist verification and quality curation
- Gallery-inspired responsive design`},{id:108,title:"Language Exchange Social Network",category:"social",emoji:"",prompt:`Build a language exchange social platform:

**Features:**
- User profiles with native language, learning languages, proficiency levels
- Smart matching algorithm pairing native speakers with learners
- Video/voice call integration for conversation practice
- Text chat with built-in translation and grammar correction
- Flashcard sharing between partners
- Progress tracking with CEFR level milestones
- Cultural exchange forum with discussion threads
- Language challenge events and group sessions
- Speaking time balance tracker (fair exchange)
- Pronunciation feedback with speech recognition
- Admin panel with user verification and report management
- Multi-lingual responsive UI`},{id:109,title:"Neighborhood Community App",category:"social",emoji:"",prompt:`Build a neighborhood community social platform:

**Features:**
- Geo-fenced community groups based on residential area
- Bulletin board for local announcements and events
- Buy/sell/trade board for neighbors
- Lost & found pet alerts with photo and location
- Service provider recommendations (plumber, electrician, babysitter)
- Community polls and voting on local issues
- Emergency alerts and safety notifications
- Carpool coordination for school and commute
- Gardening/composting sharing programs
- Noise and issue reporting with resolution tracking
- Admin tools for community moderation and verification
- Map-centric responsive design`},{id:110,title:"Creative Writing Community",category:"social",emoji:"",prompt:`Build a creative writing social platform:

**Features:**
- Story publishing with chapters, genres, and tags
- Rich text editor with formatting and inline images
- Reading lists and bookshelf organization
- Comment system with inline annotations on paragraphs
- Writing challenges with community voting
- Collaborative writing rooms (real-time co-authoring)
- Writer analytics (reads, engagement, follower growth)
- Beta reader matching system
- Writing prompt generator with daily challenges
- Genre leaderboards and featured stories
- Admin panel with content moderation and featured picks
- Book-themed elegant responsive design`},{id:111,title:"Fitness Social Network",category:"social",emoji:"",prompt:`Build a fitness-focused social platform:

**Features:**
- Workout logging with exercise library and custom routines
- Progress photo timeline with body composition tracking
- Workout sharing feed with likes, comments, and form tips
- Challenge creation (30-day abs, running milestones)
- Gym buddy matching by location and fitness level
- Leaderboards for various fitness metrics
- Trainer profiles with client management
- Meal prep sharing with macro breakdowns
- Transformation stories showcase
- Exercise form check video sharing
- Admin dashboard with content moderation
- Energetic, motivational responsive design`},{id:112,title:"Plant Parent Community",category:"social",emoji:"",prompt:`Build a plant care and trading social platform:

**Features:**
- Plant collection gallery with species identification
- Care schedule reminders (watering, fertilizing, repotting)
- Plant identification from photo upload (AI-powered)
- Plant swap/trade system with local matching
- Growth progress journals with photo timelines
- Community Q&A for plant care troubleshooting
- Local plant shop and nursery directory
- Propagation guides and tutorial sharing
- Rare plant marketplace with verified sellers
- Seasonal care guides by climate zone
- Admin panel with community moderation
- Nature-inspired green responsive design`},{id:113,title:"Podcast Community Platform",category:"social",emoji:"",prompt:`Build a podcast discovery and discussion social platform:

**Features:**
- Podcast directory with genre browsing and search
- Episode discussion threads with timestamp-linked comments
- Clip sharing (highlight 30-60 second segments)
- Listening lists and queue management
- Podcast rating and review system
- Host/creator profiles with episode analytics
- Live listening parties with synchronized playback
- Recommendation engine based on listening history
- Transcription search across episodes
- Guest booking marketplace for podcasters
- Admin panel with podcast verification
- Audio-focused dark theme responsive design`},{id:114,title:"Travel Story Sharing Platform",category:"social",emoji:"",prompt:`Build a travel story and itinerary sharing social platform:

**Features:**
- Trip story creation with photos, maps, and day-by-day itineraries
- Interactive trip map with pinned locations and routes
- Budget breakdown sharing per trip
- Packing list templates and sharing
- Local tips and hidden gem recommendations
- Travel buddy matching by destination and dates
- Country/city guides crowdsourced from travelers
- Photo contests for best travel shots
- Trip planning collaboration tools
- Follow travelers with similar interests
- Admin panel with content moderation and featured trips
- Map-centric wanderlust responsive design`},{id:115,title:"Interactive Math Tutor",category:"education",emoji:"",prompt:`Build an interactive math tutoring platform:

**Features:**
- Step-by-step problem solving with visual explanations
- Handwriting recognition for math input (draw equations)
- Adaptive difficulty based on student performance
- Topic tree covering arithmetic through calculus
- Practice problem generator with infinite variations
- Mistake analysis showing common error patterns
- Virtual whiteboard for teacher-student sessions
- Progress reports with skill gap identification
- Gamification with math badges and streaks
- Parent dashboard with child's progress overview
- Graphing calculator integration
- Admin panel with curriculum management
- Clean, distraction-free responsive learning UI`},{id:116,title:"Virtual Science Lab",category:"education",emoji:"",prompt:`Build a virtual science laboratory simulation platform:

**Features:**
- Physics simulations (pendulum, circuits, optics, mechanics)
- Chemistry lab with virtual mixing, reactions, and safety protocols
- Biology dissection and cell exploration simulations
- Experiment procedure builder with hypothesis tracking
- Data collection and graphing tools
- Lab report generator with proper scientific format
- Pre-lab quizzes and post-lab assessments
- Safety training modules
- Teacher dashboard to assign and grade experiments
- Collaborative lab sessions for group work
- Admin panel with simulation management
- Scientific, professional responsive UI`},{id:117,title:"Language Learning RPG",category:"education",emoji:"",prompt:`Build a gamified language learning platform with RPG elements:

**Features:**
- Character creation with avatar customization
- Language quests organized by difficulty levels (villages to castles)
- Vocabulary battles (word combat system)
- Grammar dungeons with puzzle-based learning
- NPC conversations for speaking practice
- Party system for group learning challenges
- Experience points, leveling, and skill trees
- Daily quest system with streak rewards
- Boss battles (comprehensive tests)
- Leaderboards and guild rankings
- Multiple language support (Japanese, Korean, Spanish, French)
- Admin panel with content and quest management
- Fantasy RPG-themed responsive design`},{id:118,title:"Music Theory Trainer",category:"education",emoji:"",prompt:`Build an interactive music theory learning platform:

**Features:**
- Interactive piano/guitar keyboard for note identification
- Ear training exercises (intervals, chords, scales)
- Rhythm practice with metronome and beat counting
- Music notation reader and writer
- Chord progression builder with audio playback
- Scale and mode explorer with fingering charts
- Composition exercises with theory constraints
- Progress tracking across all theory topics
- Practice session timer with daily goals
- Theory quiz generator with instant feedback
- Integration with MIDI controllers
- Admin panel with lesson management
- Musical, elegant responsive design`},{id:119,title:"Debate Practice Platform",category:"education",emoji:"",prompt:`Build a debate practice and tournament platform:

**Features:**
- Topic database with pro/con argument banks
- Timed debate rounds with speech timer
- AI opponent for practice sessions
- Tournament bracket creation and management
- Judge scoring system with criteria rubrics
- Video recording of practice sessions with playback
- Research tools with source citation management
- Argument strength analyzer
- Community voting on debate topics
- Debate club management tools
- Performance analytics and improvement tracking
- Admin panel with tournament oversight
- Professional, academic responsive design`},{id:120,title:"History Timeline Explorer",category:"education",emoji:"",prompt:`Build an interactive history timeline exploration platform:

**Features:**
- Zoomable timeline spanning from ancient history to modern era
- Interactive map showing historical events geographically
- Event cards with primary sources, images, and context
- Cause-and-effect chain visualization between events
- Compare timelines across different civilizations
- Quiz mode testing chronological knowledge
- User-created timeline sharing
- Historical figure biography explorer
- "This day in history" daily feature
- Source credibility rating system
- Collaborative annotation on events
- Admin panel with content curation
- Vintage map-inspired responsive design`},{id:121,title:"Coding Bootcamp Platform",category:"education",emoji:"",prompt:`Build a self-paced coding bootcamp platform:

**Features:**
- Structured learning paths (Frontend, Backend, Full-Stack, Data Science)
- In-browser code editor with live preview
- Project-based curriculum with milestone submissions
- Automated code grading with test suites
- Peer code review system
- Mock interview preparation with coding challenges
- Portfolio builder from completed projects
- Mentor matching and 1-on-1 session booking
- Job board integration for graduates
- Community forum with topic-specific channels
- Certificate and badge system
- Admin panel with curriculum management and student tracking
- Developer-focused dark mode responsive design`},{id:122,title:"Mental Health Journal",category:"health",emoji:"",prompt:`Build a mental health journaling and mood tracking application:

**Features:**
- Daily mood check-in with emotion wheel selection
- Guided journaling prompts based on CBT techniques
- Mood pattern visualization over time (charts, heatmaps)
- Anxiety and stress level tracking
- Breathing exercises with guided animations
- Sleep quality logging and analysis
- Gratitude journal section
- Trigger identification and coping strategy database
- Therapist sharing (export journal entries securely)
- Crisis resources and helpline quick access
- Medication reminder integration
- Admin panel with content management
- Calming, accessible responsive design with soft colors`},{id:123,title:"Yoga & Meditation Studio",category:"health",emoji:"",prompt:`Build an online yoga and meditation studio platform:

**Features:**
- Video class library organized by style (Vinyasa, Hatha, Yin, Kundalini)
- Live class streaming with instructor interaction
- Meditation timer with ambient sounds (rain, bowls, forest)
- Personalized practice recommendations based on goals
- 30-day challenge programs
- Progress tracking (flexibility, mindfulness minutes, streak)
- Instructor profiles with specialization and certifications
- Community forum for practice discussions
- Class scheduling and reminder system
- Subscription tiers (free, premium, unlimited)
- Admin panel with class and instructor management
- Zen, minimalist responsive design`},{id:124,title:"Nutrition Macro Tracker",category:"health",emoji:"",prompt:`Build a comprehensive nutrition and macro tracking application:

**Features:**
- Food database with barcode scanner integration
- Meal logging with portion size estimation
- Macro breakdown (protein, carbs, fat) with daily goals
- Micronutrient tracking (vitamins, minerals)
- Meal prep planning with grocery list generation
- Recipe database with nutritional analysis
- Custom diet plan support (keto, vegan, paleo, IF)
- Water intake tracking with reminders
- Weight and body measurement logging
- Progress photos with side-by-side comparison
- AI meal suggestions to hit remaining macros
- Admin panel with food database management
- Clean, health-focused responsive design`},{id:125,title:"Physical Therapy Tracker",category:"health",emoji:"",prompt:`Build a physical therapy exercise and recovery tracking platform:

**Features:**
- Exercise library with video demonstrations and proper form guides
- Custom rehab program builder for therapists
- Pain level tracking with body map visualization
- Range of motion measurement logging
- Session notes and progress documentation
- Patient-therapist secure messaging
- Appointment scheduling and reminders
- Exercise completion tracking with adherence reports
- Insurance and billing integration
- Home exercise program (HEP) sharing
- Recovery milestone celebrations
- Admin panel with patient and therapist management
- Medical-professional responsive design`},{id:126,title:"Running Training App",category:"health",emoji:"",prompt:`Build a running training and race preparation platform:

**Features:**
- Training plan generator (5K, 10K, half marathon, marathon)
- GPS route tracking with pace, distance, elevation
- Run logging with weather and terrain conditions
- Interval and tempo workout builder
- Race calendar with registration links
- Personal records tracking and milestones
- Running shoe mileage tracker
- Heart rate zone training guides
- Social running groups and challenges
- Post-run analytics with split times
- Injury prevention tips and stretching routines
- Admin panel with race and content management
- Energetic, athletic responsive design`},{id:127,title:"Sleep Optimization App",category:"health",emoji:"",prompt:`Build a sleep tracking and optimization application:

**Features:**
- Sleep logging with bedtime/wake time, quality rating
- Sleep stage estimation and analysis
- Sleep environment optimization tips
- Bedtime routine builder with reminders
- Sleep debt calculator
- Dream journal integration
- White noise and sleep sound library
- Smart alarm (wake during light sleep window)
- Caffeine and screen time impact tracking
- Weekly and monthly sleep reports
- Sleep hygiene education modules
- Admin panel with content management
- Relaxing, dark-mode-first responsive design`},{id:128,title:"Allergy Management App",category:"health",emoji:"",prompt:`Build an allergy tracking and management application:

**Features:**
- Allergen profile with known allergies and sensitivities
- Daily symptom logging with severity tracking
- Pollen count and air quality dashboard by location
- Food diary with ingredient scanning
- Medication tracking with dosage reminders
- Allergy-safe restaurant finder
- Emergency action plan storage (EpiPen instructions)
- Doctor appointment tracking and visit notes
- Seasonal allergy forecast notifications
- Community tips for managing specific allergies
- Emergency contact quick-dial
- Admin panel with allergen database management
- Clean, medical-professional responsive design`},{id:129,title:"Freelancer Invoice Manager",category:"finance",emoji:"",prompt:`Build a freelancer invoicing and financial management platform:

**Features:**
- Professional invoice template builder with branding
- Recurring invoice automation
- Time tracking integration with hourly billing
- Expense categorization and receipt scanning
- Client management with payment history
- Tax estimation and quarterly payment reminders
- Multiple currency support
- Payment gateway integration (Stripe, PayPal)
- Overdue payment reminders and follow-ups
- Annual income and expense reports
- Profit and loss statements
- Contract and proposal template library
- Admin panel with system configuration
- Professional, minimal responsive design`},{id:130,title:"Cryptocurrency Portfolio Tracker",category:"finance",emoji:"",prompt:`Build a cryptocurrency portfolio tracking and analytics platform:

**Features:**
- Multi-exchange portfolio aggregation
- Real-time price tracking with customizable watchlists
- Profit/loss calculation with cost basis methods (FIFO, LIFO)
- Tax report generation for crypto transactions
- Price alert system with push notifications
- DeFi position tracking (staking, lending, LP)
- NFT collection valuation
- Market sentiment analysis dashboard
- Portfolio allocation pie charts and rebalancing suggestions
- Historical performance charts with benchmarks
- News aggregation for tracked assets
- Admin panel with exchange integration management
- Dark-mode crypto-themed responsive design`},{id:131,title:"Family Budget Planner",category:"finance",emoji:"",prompt:`Build a family budget planning and financial goal application:

**Features:**
- Shared family budget with member contributions
- Envelope budgeting system with visual envelopes
- Savings goal tracker with progress animations
- Bill calendar with due date reminders
- Allowance management for children
- Subscription tracker with cancellation recommendations
- Net worth calculator with asset tracking
- Financial milestone celebrations
- Comparison shopping tool for big purchases
- Emergency fund progress tracker
- Family meeting agenda generator for budget reviews
- Admin panel for family account management
- Friendly, family-oriented responsive design`},{id:132,title:"Stock Market Simulator",category:"finance",emoji:"",prompt:`Build a stock market trading simulator for learning:

**Features:**
- Virtual portfolio with play money ($100K starting balance)
- Real-time stock data with charts (candlestick, line, volume)
- Buy/sell/short selling simulation
- Options trading simulator
- Portfolio performance vs S&P 500 benchmark
- Trading journal with strategy notes
- Leaderboard for top performers
- Educational modules on trading strategies
- Risk assessment tools
- Dividend tracking and reinvestment
- News feed integration for market events
- Admin panel with simulation and user management
- Financial terminal-inspired responsive design`},{id:133,title:"Debt Payoff Planner",category:"finance",emoji:"",prompt:`Build a debt payoff strategy and tracking application:

**Features:**
- Debt inventory with balances, rates, and minimum payments
- Payoff strategy comparison (avalanche vs snowball vs hybrid)
- Payoff timeline calculator with extra payment scenarios
- Visual debt-free countdown timer
- Payment scheduling with bank integration
- Interest saved calculator
- Milestone celebrations as debts are paid off
- Motivational progress charts and graphs
- Refinancing opportunity alerts
- Credit score impact estimation
- Community success stories
- Admin panel with financial resource management
- Motivational, progress-focused responsive design`},{id:134,title:"Expense Splitting App",category:"finance",emoji:"",prompt:`Build a group expense splitting and settlement application:

**Features:**
- Group creation for trips, roommates, events
- Expense logging with receipt photo upload
- Smart splitting (equal, percentage, exact amounts, shares)
- Running balance between all group members
- Optimal settlement calculation (minimize transactions)
- Payment recording and confirmation
- Expense categories and spending analytics per group
- Recurring expense support (rent, utilities)
- Multi-currency support with auto conversion
- Export expense reports as PDF/CSV
- Push notifications for new expenses and settlements
- Admin panel with user management
- Clean, intuitive responsive design`},{id:135,title:"Retirement Planning Calculator",category:"finance",emoji:"",prompt:`Build a comprehensive retirement planning and projection tool:

**Features:**
- Current financial snapshot input (savings, investments, debts)
- Retirement goal calculator (target age, lifestyle, location)
- Monte Carlo simulation for portfolio projections
- Social Security benefit estimator
- 401k/IRA contribution optimizer
- Healthcare cost projections
- Inflation-adjusted spending calculator
- Withdrawal strategy comparison (4% rule, bucket, guardrails)
- Tax-efficient withdrawal sequencing
- Part-time income scenario modeling
- Visual timeline from now to retirement
- Admin panel with financial model configuration
- Trust-inspiring, professional responsive design`},{id:136,title:"OKR Tracking System",category:"productivity",emoji:"",prompt:`Build an OKR (Objectives and Key Results) tracking platform:

**Features:**
- Company, team, and individual OKR creation
- Key result progress tracking with percentage completion
- OKR alignment visualization (cascading goals)
- Check-in scheduling with progress updates
- Scoring system (0.0 to 1.0 scale)
- Quarterly planning and review workflows
- Team dashboard with aggregate progress
- Historical OKR archive and reflection
- Integration with project management tools
- Automated progress reminders
- Analytics on goal completion rates
- Admin panel with organizational structure management
- Clean, focused professional responsive design`},{id:137,title:"Meeting Notes Manager",category:"productivity",emoji:"",prompt:`Build a smart meeting notes and action item tracking application:

**Features:**
- Meeting template library (standup, retrospective, 1:1, brainstorm)
- Real-time collaborative note-taking
- Action item extraction with assignee and deadline
- Meeting agenda builder with time allocations
- Automatic meeting summary generation
- Action item tracking across all meetings
- Integration with calendar for scheduling
- Meeting effectiveness scoring
- Follow-up reminder automation
- Searchable meeting archive
- Attendee participation tracking
- Admin panel with template and team management
- Distraction-free, minimal responsive design`},{id:138,title:"Habit Tracker Pro",category:"productivity",emoji:"",prompt:`Build an advanced habit tracking and behavior change application:

**Features:**
- Habit creation with frequency, time, and cue settings
- Streak tracking with visual calendar heatmap
- Habit stacking and routine builder
- Accountability partner matching
- Progress analytics with completion rate trends
- Habit category organization (health, learning, mindfulness)
- Morning and evening routine checklists
- Missed habit reflection prompts
- Scientific habit formation tips
- Weekly and monthly review reports
- Gamification with levels and achievement badges
- Admin panel with content and challenge management
- Motivational, clean responsive design`},{id:139,title:"Personal Knowledge Base",category:"productivity",emoji:"",prompt:`Build a personal knowledge management system (second brain):

**Features:**
- Note creation with bi-directional linking (wiki-style)
- Knowledge graph visualization of connected notes
- Daily notes and fleeting thoughts capture
- Tagging system with tag-based exploration
- Full-text search across all notes
- Web clipper for saving articles and snippets
- Templates for different note types (book notes, meeting, project)
- Spaced repetition review for important concepts
- PDF and image annotation
- Export to markdown, PDF, HTML
- Offline support with sync
- Admin panel for user and storage management
- Notion-inspired clean responsive design`},{id:140,title:"Time Blocking Planner",category:"productivity",emoji:"",prompt:`Build a time blocking and deep work planning application:

**Features:**
- Visual day planner with drag-and-drop time blocks
- Color-coded block categories (deep work, meetings, admin, personal)
- Focus timer with Pomodoro and custom intervals
- Daily and weekly time block templates
- Time tracking with automatic categorization
- Distraction blocker integration suggestions
- Energy level tracking to optimize block placement
- Weekly review with time allocation analysis
- Goal linking (connect blocks to larger objectives)
- Calendar integration for syncing commitments
- Productivity score and trends
- Admin panel with workspace management
- Minimalist, focus-oriented responsive design`},{id:141,title:"Remote Team Dashboard",category:"productivity",emoji:"",prompt:`Build a remote team collaboration and status dashboard:

**Features:**
- Team timezone visualization with world clock
- Status updates (working, in meeting, away, deep focus)
- Async standup check-ins with daily updates
- Team availability calendar overlay
- Virtual water cooler / random coffee matching
- Project progress at-a-glance widgets
- Document collaboration links hub
- Meeting-free time finder across timezones
- Team celebrations and shout-outs board
- Work hours overlap calculator
- Communication preference profiles
- Admin panel with team and workspace management
- Modern, collaborative responsive design`},{id:142,title:"Digital Declutter Tool",category:"productivity",emoji:"",prompt:`Build a digital decluttering and organization application:

**Features:**
- Email subscription audit with one-click unsubscribe
- App usage audit with delete recommendations
- File duplicate finder and cleanup
- Cloud storage analyzer with size visualization
- Social media account cleanup checklist
- Password audit (weak, reused, compromised)
- Browser bookmark organizer
- Digital footprint assessment
- Photo library duplicate and blur detection
- Notification audit and optimization
- Monthly digital declutter challenge
- Admin panel with feature management
- Clean, spacious, calming responsive design`},{id:143,title:"Movie Watchlist & Reviews",category:"entertainment",emoji:"",prompt:`Build a movie discovery, watchlist, and review platform:

**Features:**
- Movie database with details (cast, crew, genre, runtime, ratings)
- Watchlist management with priority ordering
- Rating and detailed review system
- Movie recommendation engine based on taste profile
- Watch party scheduling with friends
- Streaming availability checker (Netflix, Disney+, etc.)
- Movie diary with watch date and mood logging
- Annual statistics (movies watched, genres, total hours)
- List creation and sharing (Best Sci-Fi, Comfort Movies, etc.)
- Spoiler-tagged discussion threads
- Award season prediction game
- Admin panel with movie database management
- Cinematic dark-theme responsive design`},{id:144,title:"Board Game Companion",category:"entertainment",emoji:"",prompt:`Build a board game companion and collection management app:

**Features:**
- Game collection catalog with BGG integration
- Score tracking for multiple game sessions
- Game night planner with RSVP and game voting
- Player statistics and win/loss records
- Game recommendation based on player count and preferences
- Rules quick-reference cards
- Timer and turn tracker for long games
- Trade/sell/lend tracking between friends
- New release alerts for wishlisted games
- Teaching guides for complex games
- House rules documentation
- Admin panel with game database management
- Playful, tabletop-inspired responsive design`},{id:145,title:"Virtual Karaoke Platform",category:"entertainment",emoji:"",prompt:`Build an online karaoke and singing platform:

**Features:**
- Song library with lyrics display and backing tracks
- Real-time pitch detection and scoring
- Recording and playback of performances
- Duet mode for remote singing together
- Genre and decade browsing (Pop, Rock, K-Pop, Oldies)
- Performance sharing with community
- Karaoke room creation for private sessions
- Leaderboards and singing competitions
- Voice effects and filters
- Favorite songs and playlist creation
- Challenge friends to song battles
- Admin panel with song and content management
- Neon-lit karaoke bar responsive design`},{id:146,title:"Trivia Quiz Platform",category:"entertainment",emoji:"",prompt:`Build a multiplayer trivia quiz platform:

**Features:**
- Quiz categories (Science, History, Pop Culture, Sports, Geography)
- Real-time multiplayer quiz rooms
- Question creation and submission by users
- Difficulty levels with adaptive questioning
- Daily quiz challenge with leaderboard
- Tournament brackets for competitive play
- Lifelines (50/50, skip, hint)
- Statistics dashboard (accuracy by category, streaks)
- Custom quiz creation for parties/events
- Image and video-based questions
- Achievement badges and XP system
- Admin panel with question review and moderation
- Fun, game-show-inspired responsive design`},{id:147,title:"Meme Generator & Gallery",category:"entertainment",emoji:"",prompt:`Build a meme creation and sharing platform:

**Features:**
- Meme template library with popular formats
- Text overlay editor with font, size, and position controls
- Image upload for custom meme creation
- Meme feed with trending, new, and top sorting
- Upvote/downvote and comment system
- Meme collections and albums
- AI meme caption generator
- GIF meme support
- Watermark option for creators
- Share to social media integration
- Meme contest events
- Admin panel with content moderation
- Fun, meme-culture responsive design`},{id:148,title:"Virtual Escape Room Builder",category:"entertainment",emoji:"",prompt:`Build a virtual escape room creation and play platform:

**Features:**
- Room builder with puzzle creation tools (logic, cipher, visual)
- Multiple puzzle types (combination lock, jigsaw, riddle, hidden object)
- Room linking for multi-room adventures
- Hint system with progressive clues
- Timer with difficulty-based time limits
- Multiplayer support for team solving
- Leaderboards by room and completion time
- Room rating and review system
- Story/narrative wrapper for puzzles
- Creator analytics (plays, completion rate, average time)
- Seasonal themed rooms
- Admin panel with room moderation and quality control
- Mysterious, atmospheric responsive design`},{id:149,title:"Interactive Fiction Engine",category:"entertainment",emoji:"",prompt:`Build an interactive fiction / choose-your-own-adventure platform:

**Features:**
- Story creation with branching narrative editor (node-based)
- Rich text with embedded images, sound, and character portraits
- Character stats and inventory system
- Decision tracking with story analytics
- Multiple endings with achievement system
- Community story sharing and browsing
- Reader bookmarking and save states
- Collaborative story writing
- Genre categorization (Fantasy, Sci-Fi, Romance, Mystery)
- Story length and branch complexity indicators
- Reader ratings and reviews
- Admin panel with content moderation
- Storybook-themed responsive design`},{id:150,title:"Recipe Social Network",category:"food",emoji:"",prompt:`Build a recipe sharing and cooking social platform:

**Features:**
- Recipe publishing with step-by-step instructions and photos
- Ingredient list with auto-scaling for servings
- Cooking timer integration for each step
- Nutritional info auto-calculation
- Meal planning calendar with recipe scheduling
- Grocery list generation from selected recipes
- Community recipe ratings and reviews
- Cook-along mode with hands-free voice guidance
- Recipe collections and cookbooks
- Ingredient substitution suggestions
- Cooking technique video library
- Admin panel with recipe moderation
- Warm, kitchen-inspired responsive design`},{id:151,title:"Food Truck Finder",category:"food",emoji:"",prompt:`Build a food truck location and ordering platform:

**Features:**
- Real-time food truck map with current locations
- Menu browsing with photos and dietary filters
- Mobile pre-ordering for pickup
- Food truck schedule and route planning
- Customer reviews and ratings
- Favorite trucks with notification alerts
- Event booking for private catering
- Food truck owner dashboard (location updates, menu management)
- Push notifications when favorite trucks are nearby
- Festival and event listings with participating trucks
- Revenue analytics for truck owners
- Admin panel with truck verification and management
- Street food-themed vibrant responsive design`},{id:152,title:"Wine & Spirits Cellar",category:"food",emoji:"",prompt:`Build a wine and spirits collection management application:

**Features:**
- Bottle inventory with label photo scanning
- Tasting notes with aroma wheel and flavor profile
- Cellar organization (rack position, temperature zone)
- Drinking window recommendations
- Food pairing suggestions
- Price tracking and collection valuation
- Wine region explorer with interactive maps
- Vintage chart reference
- Wishlist with purchase alerts
- Social sharing of tasting notes
- Wine club and tasting event management
- Admin panel with wine database management
- Elegant, vineyard-inspired responsive design`},{id:153,title:"Meal Kit Service Platform",category:"food",emoji:"",prompt:`Build a meal kit delivery service platform:

**Features:**
- Weekly menu selection with dietary customization
- Recipe cards with step-by-step instructions and videos
- Ingredient sourcing transparency (farm origins)
- Subscription management (pause, skip, change plan)
- Dietary preference profiles (vegan, gluten-free, keto)
- Calorie and macro information per meal
- Customer reviews and recipe ratings
- Delivery tracking with time slot selection
- Gift card and referral program
- Leftover recipe suggestions from extra ingredients
- Chef profiles and story behind each recipe
- Admin panel with menu planning and logistics
- Fresh, appetizing responsive design`},{id:154,title:"Restaurant Table Reservation",category:"food",emoji:"",prompt:`Build a restaurant table reservation and management system:

**Features:**
- Restaurant search with filters (cuisine, price, location, rating)
- Real-time table availability display
- Online reservation with party size, date, time
- Special requests and occasion notes
- Waitlist management with estimated wait times
- Table layout management for restaurant owners
- SMS/email confirmation and reminders
- Walk-in queue management
- Customer history and preferences for returning guests
- Peak hours analytics and demand forecasting
- Menu preview and pre-ordering
- Admin panel with multi-restaurant management
- Sophisticated dining-themed responsive design`},{id:155,title:"Barista Coffee Guide",category:"food",emoji:"",prompt:`Build a coffee brewing guide and caf discovery application:

**Features:**
- Brewing method guides (pour-over, espresso, French press, AeroPress)
- Bean database with origin, roast level, flavor notes
- Brew recipe calculator (ratio, grind, temperature, time)
- Local caf directory with specialty drink menus
- Coffee tasting journal with flavor wheel
- Equipment reviews and recommendations
- Subscription coffee delivery matching
- Latte art tutorial library
- Barista certification progress tracking
- Community bean reviews and recommendations
- Coffee origin country explorer with maps
- Admin panel with caf and bean database management
- Warm, coffeehouse-inspired responsive design`},{id:156,title:"Dietary Restriction Restaurant Finder",category:"food",emoji:"",prompt:`Build a restaurant finder specialized for dietary restrictions:

**Features:**
- Search by dietary need (celiac, nut allergy, vegan, halal, kosher)
- Menu item filtering with allergen warnings
- User-verified safe dishes at restaurants
- Allergy card generator in multiple languages
- Restaurant allergen training certification display
- Community reviews focused on dietary safety
- Chef Q&A for specific allergy concerns
- Cross-contamination risk ratings
- Emergency nearby hospital/pharmacy locator
- Travel mode for finding safe food abroad
- Restaurant partner program for verified menus
- Admin panel with restaurant verification
- Safe, trustworthy responsive design`},{id:157,title:"Digital Nomad Hub",category:"travel",emoji:"",prompt:`Build a digital nomad destination guide and community platform:

**Features:**
- City profiles with cost of living, internet speed, safety scores
- Coworking space directory with reviews and pricing
- Visa requirement checker by nationality
- Monthly cost calculator per destination
- Community forums organized by city
- Coliving space listings and reviews
- Meetup events for nomads in each city
- Internet speed test aggregation and reliability ratings
- Tax implications guide by country
- Flight deal alerts between nomad-popular cities
- Weather and climate comparison tools
- Admin panel with city data and community management
- Wanderlust-inspiring responsive design`},{id:158,title:"Road Trip Planner",category:"travel",emoji:"",prompt:`Build a road trip planning and navigation companion:

**Features:**
- Route planning with multiple waypoints on interactive map
- Points of interest discovery along route (scenic, food, gas, rest)
- Fuel cost calculator with gas station pricing
- Drive time estimates with traffic consideration
- Hotel/camping spot booking along route
- Packing checklist generator based on trip type
- Trip budget tracker (gas, food, lodging, activities)
- Offline map download for areas without signal
- Photo journal tied to map locations
- Road trip game suggestions for passengers
- Vehicle maintenance checklist before departure
- Admin panel with POI and content management
- Adventure-themed responsive design`},{id:159,title:"Cultural Experience Marketplace",category:"travel",emoji:"",prompt:`Build a cultural experience and local tour booking platform:

**Features:**
- Experience listings (cooking classes, art tours, music workshops)
- Local host profiles with verification and reviews
- Small group size guarantees
- Instant and request booking options
- Multi-language experience offerings
- Experience gifting with custom greeting cards
- Weather-dependent alternative suggestions
- Accessibility information for each experience
- Cultural etiquette guides for travelers
- Photo and video reviews from past participants
- Seasonal and festival-based experience collections
- Admin panel with host verification and quality control
- Culturally rich responsive design`},{id:160,title:"Airport Companion App",category:"travel",emoji:"",prompt:`Build an airport navigation and services companion application:

**Features:**
- Airport terminal maps with indoor navigation
- Flight status tracking with delay notifications
- Gate change alerts with walking time estimates
- Lounge finder with access eligibility checker
- Restaurant and shop directory with reviews
- Duty-free price comparison
- Power outlet and WiFi spot locator
- TSA/security wait time estimates
- Parking spot reservation
- Ground transportation options comparison
- Currency exchange rate comparison within airport
- Admin panel with airport data management
- Travel-efficient responsive design`},{id:161,title:"Sustainable Travel Guide",category:"travel",emoji:"",prompt:`Build a sustainable and eco-friendly travel planning platform:

**Features:**
- Carbon footprint calculator for flights, trains, buses
- Eco-certified accommodation directory
- Sustainable tour operator listings
- Carbon offset purchasing integration
- Low-impact activity suggestions per destination
- Responsible wildlife tourism guidelines
- Plastic-free travel tips and packing guides
- Local community support initiatives
- Public transportation guides for each city
- Sustainable restaurant finder (farm-to-table, zero-waste)
- Travel impact dashboard for personal tracking
- Admin panel with certification verification
- Nature-inspired, green responsive design`},{id:162,title:"Group Travel Organizer",category:"travel",emoji:"",prompt:`Build a group travel planning and coordination platform:

**Features:**
- Trip creation with itinerary collaboration
- Voting system for destinations, activities, restaurants
- Shared expense tracking with splitting
- Group chat with trip-specific channels
- Accommodation comparison and group booking
- Activity scheduling with preference matching
- Document sharing (passports, tickets, reservations)
- Countdown timer to trip date
- Packing list collaboration
- Photo album sharing after trip
- Task assignment for trip preparation
- Admin panel with trip and user management
- Fun, collaborative responsive design`},{id:163,title:"Travel Insurance Comparison",category:"travel",emoji:"",prompt:`Build a travel insurance comparison and management platform:

**Features:**
- Trip details input for accurate quotes
- Side-by-side policy comparison
- Coverage breakdown (medical, cancellation, baggage, delays)
- Pre-existing condition coverage finder
- Adventure sports coverage options
- Family and group policy options
- Claim filing system with document upload
- Policy document storage and quick access
- Emergency assistance contact directory
- Travel advisory integration by destination
- Review system for insurance providers
- Admin panel with provider and policy management
- Trustworthy, professional responsive design`},{id:164,title:"Property Management Dashboard",category:"realestate",emoji:"",prompt:`Build a property management dashboard for landlords:

**Features:**
- Property portfolio overview with occupancy status
- Tenant management with lease tracking
- Rent collection with online payment portal
- Maintenance request system with priority and status
- Financial reporting (income, expenses, profit per property)
- Document storage (leases, insurance, inspections)
- Tenant communication portal
- Vacancy listing and application management
- Lease renewal reminders and automation
- Vendor management for repairs and services
- Property value tracking with market comparisons
- Admin panel with multi-property management
- Professional, dashboard-focused responsive design`},{id:165,title:"Home Renovation Planner",category:"realestate",emoji:"",prompt:`Build a home renovation planning and project management tool:

**Features:**
- Room-by-room project planning
- Budget tracker with cost estimates and actuals
- Contractor directory with reviews and quotes
- Before and after photo comparison
- Material selection with price comparisons
- Project timeline with Gantt chart visualization
- Permit requirement checklist by project type
- DIY tutorial library with difficulty ratings
- Inspiration gallery organized by room and style
- Shopping list aggregation across projects
- ROI calculator for renovation investments
- Admin panel with contractor and content management
- Home-improvement-themed responsive design`},{id:166,title:"Real Estate Investment Analyzer",category:"realestate",emoji:"",prompt:`Build a real estate investment analysis platform:

**Features:**
- Property analysis calculator (cap rate, cash-on-cash, IRR)
- Rental income projections with vacancy assumptions
- Mortgage comparison with multiple scenarios
- Neighborhood data analysis (crime, schools, amenities)
- Comparable property analysis (comps)
- Portfolio tracking with total return calculations
- Market trend charts and forecasting
- 1031 exchange planning tool
- Property management expense estimation
- Tax benefit calculator (depreciation, deductions)
- Investment property report generation
- Admin panel with market data management
- Data-driven, analytical responsive design`},{id:167,title:"Roommate Matching Platform",category:"realestate",emoji:"",prompt:`Build a roommate matching and shared housing platform:

**Features:**
- Detailed profile with lifestyle preferences (sleep, cleanliness, pets, noise)
- Compatibility scoring algorithm
- Room/apartment listing with virtual tour photos
- Budget range matching
- Lease term preference matching
- In-app messaging for potential matches
- Roommate agreement template builder
- Shared expense setup integration
- House rules preference quiz
- Safety features (background check integration, verified profiles)
- University/college housing specific mode
- Admin panel with user verification and moderation
- Friendly, approachable responsive design`},{id:168,title:"Vacation Rental Manager",category:"realestate",emoji:"",prompt:`Build a vacation rental property management platform:

**Features:**
- Multi-platform listing sync (Airbnb, VRBO, Booking.com)
- Unified calendar with availability management
- Dynamic pricing engine based on demand and season
- Automated guest communication templates
- Check-in/check-out instruction automation
- Cleaning schedule coordination with service providers
- Review management across platforms
- Revenue reporting and tax document generation
- Guest screening and verification
- Maintenance scheduling between bookings
- Smart lock integration for keyless entry
- Admin panel with property and booking management
- Hospitality-themed professional responsive design`},{id:169,title:"Construction Project Tracker",category:"realestate",emoji:"",prompt:`Build a construction project tracking and management platform:

**Features:**
- Project phases with milestone tracking
- Daily progress logs with photo documentation
- Budget tracking with change order management
- Subcontractor management and scheduling
- Material ordering and delivery tracking
- Inspection scheduling and compliance checklist
- Blueprint and document version management
- Weather delay impact assessment
- Safety incident reporting
- Client portal for progress updates
- Punch list management for project completion
- Admin panel with multi-project oversight
- Industrial, professional responsive design`},{id:170,title:"Smart Home Dashboard",category:"realestate",emoji:"",prompt:`Build a smart home device management dashboard:

**Features:**
- Device discovery and registration
- Room-by-room device organization
- Scene creation (movie night, good morning, away mode)
- Automation rules builder (if this, then that)
- Energy consumption monitoring with cost estimates
- Temperature and thermostat control
- Security camera feed viewing
- Door lock status and control
- Light dimming and color control
- Usage analytics and energy saving recommendations
- Voice command integration
- Admin panel with device and user management
- Futuristic, smart-home responsive design`},{id:171,title:"Client Onboarding System",category:"crm",emoji:"",prompt:`Build a client onboarding and project kickoff platform:

**Features:**
- Customizable onboarding checklist templates
- Welcome packet generation with branding
- Document collection and e-signature integration
- Client questionnaire builder
- Onboarding progress tracking per client
- Automated welcome email sequences
- Team member introduction and role assignment
- Kickoff meeting scheduler with agenda template
- Knowledge base with FAQ for new clients
- Client portal with onboarding status
- SLA setup and milestone definitions
- Admin panel with template and workflow management
- Professional, welcoming responsive design`},{id:172,title:"Sales Pipeline Manager",category:"crm",emoji:"",prompt:`Build a visual sales pipeline and deal management platform:

**Features:**
- Kanban board with customizable deal stages
- Deal card with value, probability, and close date
- Drag-and-drop deal movement between stages
- Revenue forecasting based on pipeline
- Activity logging (calls, emails, meetings)
- Contact and company management
- Email template library with merge fields
- Task and follow-up reminders
- Win/loss analysis with reason tracking
- Sales rep performance dashboard
- Custom pipeline creation per product line
- Admin panel with team and pipeline management
- Sales-focused, data-rich responsive design`},{id:173,title:"Customer Feedback Hub",category:"crm",emoji:"",prompt:`Build a customer feedback collection and analysis platform:

**Features:**
- Multi-channel feedback collection (email, in-app, QR code, link)
- NPS, CSAT, and CES survey builders
- Sentiment analysis on text feedback
- Feature request board with voting
- Bug report management with status tracking
- Feedback categorization and tagging
- Response management with SLA tracking
- Trends dashboard with satisfaction over time
- Integration with support ticket systems
- Customer journey touchpoint mapping
- Automated feedback request triggers
- Admin panel with survey and response management
- Customer-centric responsive design`},{id:174,title:"HR Employee Portal",category:"crm",emoji:"",prompt:`Build an HR employee self-service portal:

**Features:**
- Employee directory with org chart visualization
- Leave request and approval workflow
- Timesheet management with project allocation
- Pay stub and tax document access
- Benefits enrollment and management
- Company policy and handbook library
- Performance review cycle management
- Training and certification tracking
- Expense report submission and approval
- Employee onboarding checklist
- Announcement and company news feed
- Admin panel with HR management tools
- Corporate, professional responsive design`},{id:175,title:"Event Management Platform",category:"crm",emoji:"",prompt:`Build a comprehensive event management and ticketing platform:

**Features:**
- Event creation with multi-day and multi-track support
- Ticket types (early bird, VIP, group, student)
- Seating chart designer for assigned seating
- Attendee registration with custom form fields
- Check-in system with QR code scanning
- Speaker/performer management and scheduling
- Sponsor management with tier levels
- Email campaign builder for attendees
- Event analytics (registrations, check-ins, revenue)
- Post-event survey integration
- Badge and certificate generation
- Admin panel with multi-event management
- Event-branded responsive design`},{id:176,title:"Inventory Management System",category:"crm",emoji:"",prompt:`Build a comprehensive inventory management system:

**Features:**
- Product catalog with SKU, barcode, and image management
- Stock level tracking with low-stock alerts
- Multi-warehouse/location management
- Purchase order creation and tracking
- Supplier management with lead time tracking
- Batch/lot tracking with expiration dates
- Stock transfer between locations
- Cycle counting and stock adjustment
- Inventory valuation (FIFO, LIFO, weighted average)
- Barcode scanning for quick operations
- Report generation (stock aging, turnover, reorder)
- Admin panel with warehouse and user management
- Industrial, efficient responsive design`},{id:177,title:"Appointment Booking System",category:"crm",emoji:"",prompt:`Build a versatile appointment booking and scheduling system:

**Features:**
- Service catalog with duration and pricing
- Staff management with individual availability calendars
- Online booking widget embeddable on websites
- Calendar view with day, week, and month layouts
- Automated email and SMS reminders
- Buffer time configuration between appointments
- Group booking and class scheduling
- Recurring appointment support
- Waitlist management
- No-show tracking and cancellation policies
- Payment collection at booking
- Admin panel with multi-location management
- Professional, calendar-focused responsive design`},{id:178,title:"Developer Portfolio Builder",category:"portfolio",emoji:"",prompt:`Build a developer portfolio generator and hosting platform:

**Features:**
- GitHub integration for project import
- Multiple portfolio themes and templates
- Project showcase with live demo links and tech stack tags
- Blog section with markdown editor
- Skills visualization (charts, progress bars, tag clouds)
- Work experience timeline
- Testimonial section with client quotes
- Contact form with spam protection
- Resume/CV download generation
- Analytics dashboard (page views, project clicks)
- Custom domain support
- Admin panel with theme and template management
- Developer-focused, modern responsive design`},{id:179,title:"Photography Portfolio",category:"portfolio",emoji:"",prompt:`Build a photography portfolio and client gallery platform:

**Features:**
- Photo galleries with masonry/grid/slideshow layouts
- Client proofing galleries with selection and commenting
- EXIF data display (camera, lens, settings)
- Watermarking system for proofing
- Print ordering integration
- Photo categories and series organization
- Full-screen lightbox viewer
- Client login for private galleries
- Download permissions management
- Social media sharing integration
- SEO-optimized with Open Graph images
- Admin panel with gallery and client management
- Minimal, image-first responsive design`},{id:180,title:"Newsletter Publishing Platform",category:"portfolio",emoji:"",prompt:`Build a newsletter creation and publishing platform:

**Features:**
- Rich text newsletter editor with templates
- Subscriber management with segmentation
- Scheduling and automated sending
- A/B testing for subject lines
- Analytics (open rate, click rate, unsubscribe rate)
- Free and paid newsletter tiers
- Subscriber growth analytics
- Archive of past newsletters with public access
- Referral program for subscriber growth
- Embeddable signup forms
- Integration with website/blog
- Admin panel with publisher and content management
- Editorial, clean responsive design`},{id:181,title:"Podcast Hosting Platform",category:"portfolio",emoji:"",prompt:`Build a podcast hosting and distribution platform:

**Features:**
- Episode upload with audio processing and optimization
- RSS feed generation for distribution (Apple, Spotify, Google)
- Episode page with show notes, transcript, and links
- Podcast analytics (downloads, listeners, geography)
- Website builder for podcast landing page
- Monetization tools (premium episodes, donations, sponsorships)
- Episode scheduling and auto-publish
- Guest management and booking
- Listener comments and reviews
- Chapter markers and timestamps
- Embeddable player widget
- Admin panel with podcast and analytics management
- Audio-focused, modern responsive design`},{id:182,title:"Online Magazine Builder",category:"portfolio",emoji:"",prompt:`Build a digital magazine creation and publishing platform:

**Features:**
- Visual page layout editor (drag-and-drop)
- Article templates for different content types
- Cover design tool with image and typography
- Issue management with table of contents
- Multi-author collaboration with roles
- Reader subscription management
- Ad placement and sponsorship management
- Social sharing with article excerpts
- Print-ready PDF export
- Reader analytics per article and issue
- Archive browsing by issue/date
- Admin panel with editorial workflow management
- Magazine-quality typography responsive design`},{id:183,title:"Recipe Blog Platform",category:"portfolio",emoji:"",prompt:`Build a recipe blogging and food content platform:

**Features:**
- Recipe card format with structured data (schema.org)
- Step-by-step instructions with photos
- Nutritional information calculator
- Print-friendly recipe layout
- Recipe scaling for different serving sizes
- Ingredient shopping list export
- Search by ingredient, cuisine, dietary restriction
- Meal planning integration
- User recipe collections and favorites
- Rating and review system
- Video recipe support
- Admin panel with content management
- Food photography-focused responsive design`},{id:184,title:"Artist Portfolio & Store",category:"portfolio",emoji:"",prompt:`Build an artist portfolio with integrated online store:

**Features:**
- Gallery display with fullscreen viewing
- Series and collection organization
- Art print store with size and framing options
- Original artwork sales with certificate of authenticity
- Commission inquiry form
- Artist bio and exhibition history
- Press and media page
- Newsletter signup for new releases
- Instagram feed integration
- Collector account with purchase history
- Virtual exhibition walkthrough
- Admin panel with gallery and store management
- Gallery-quality responsive design`},{id:185,title:"URL Shortener & Analytics",category:"utility",emoji:"",prompt:`Build a URL shortener with comprehensive analytics:

**Features:**
- Custom short URL creation with vanity slugs
- Bulk URL shortening
- Click analytics (total, unique, over time)
- Geographic breakdown of clicks (country, city)
- Device and browser analytics
- Referrer tracking
- QR code generation for each short URL
- Link expiration and scheduling
- Password-protected links
- A/B testing with traffic splitting
- API access for programmatic use
- Admin panel with link and user management
- Data-driven, minimal responsive design`},{id:186,title:"File Conversion Tool",category:"utility",emoji:"",prompt:`Build a web-based file conversion utility platform:

**Features:**
- Image conversion (PNG, JPG, WebP, SVG, ICO)
- Document conversion (PDF, DOCX, TXT, Markdown)
- Video format conversion with compression options
- Audio format conversion (MP3, WAV, FLAC, OGG)
- Batch conversion support
- Drag-and-drop upload interface
- Conversion quality/size presets
- Preview before and after conversion
- Download history with re-download option
- API access for developers
- Client-side processing for privacy (where possible)
- Admin panel with usage analytics
- Clean, utility-focused responsive design`},{id:187,title:"Color Palette Generator",category:"utility",emoji:"",prompt:`Build a color palette generation and management tool:

**Features:**
- AI-powered palette generation from keywords or mood
- Extract colors from uploaded images
- Color harmony rules (complementary, analogous, triadic)
- Accessibility contrast checker (WCAG AA/AAA)
- Palette saving and collection management
- Export formats (CSS variables, Tailwind config, SCSS, JSON)
- Color blindness simulation preview
- Gradient generator with CSS output
- Brand color system builder
- Community palette sharing and trending
- Color naming and categorization
- Admin panel with content management
- Colorful, design-tool responsive design`},{id:188,title:"Regex Builder & Tester",category:"utility",emoji:"",prompt:`Build a visual regex pattern builder and tester:

**Features:**
- Visual regex construction with building blocks
- Real-time pattern testing against sample text
- Match highlighting with group extraction
- Regex explanation in plain language
- Common pattern library (email, phone, URL, date)
- Multiple regex flavors (JavaScript, Python, Go, Java)
- Regex cheat sheet reference
- Save and share regex patterns
- Substitution preview
- Performance benchmarking for patterns
- Step-by-step match debugging
- Admin panel with pattern library management
- Developer-focused dark theme responsive design`},{id:189,title:"API Documentation Generator",category:"utility",emoji:"",prompt:`Build an API documentation creation and hosting platform:

**Features:**
- OpenAPI/Swagger spec import and editor
- Interactive API explorer with try-it-out requests
- Multiple documentation themes and layouts
- Code example generation in multiple languages
- Authentication setup guides
- Endpoint grouping and versioning
- Search across all endpoints
- Changelog management
- SDK generation links
- Rate limit and pricing tier documentation
- Custom domain support
- Admin panel with project and team management
- Developer-focused responsive documentation design`},{id:190,title:"Screenshot & Mockup Tool",category:"utility",emoji:"",prompt:`Build a screenshot beautifier and device mockup generator:

**Features:**
- Upload screenshot and place in device frames (iPhone, MacBook, iPad)
- Background customization (gradients, images, patterns)
- Shadow and reflection effects
- Text and annotation overlay
- Browser frame mockup generator
- Social media post size templates
- Batch processing for multiple screenshots
- App store screenshot layout generator
- Custom watermark addition
- Export in multiple resolutions
- Template saving and reuse
- Admin panel with template management
- Design-tool responsive creative design`},{id:191,title:"Markdown Editor & Preview",category:"utility",emoji:"",prompt:`Build a feature-rich markdown editor with live preview:

**Features:**
- Split-pane editor with live preview
- Syntax highlighting for code blocks
- Table editor with visual builder
- Image upload and embedding
- Document outline/table of contents generation
- Multiple export formats (HTML, PDF, DOCX)
- Custom CSS theme application to preview
- Vim and Emacs keybinding modes
- Collaborative editing with real-time sync
- Version history with diff viewer
- Template library for common document types
- Admin panel with user and storage management
- Distraction-free writing responsive design`},{id:192,title:"AI Writing Assistant",category:"ai",emoji:"",prompt:`Build an AI-powered writing assistant application:

**Features:**
- Document editor with AI-powered writing suggestions
- Tone adjustment (formal, casual, persuasive, academic)
- Grammar and spell checking with explanations
- Content expansion and summarization
- Plagiarism detection
- Readability scoring (Flesch-Kincaid)
- Multi-language translation
- SEO optimization suggestions for web content
- Writing templates (blog post, email, report, social media)
- Version history with AI suggestion tracking
- Word count and reading time estimation
- Admin panel with model and feature management
- Clean, writer-focused responsive design`},{id:193,title:"AI Resume Builder",category:"ai",emoji:"",prompt:`Build an AI-powered resume and cover letter builder:

**Features:**
- Multiple professional resume templates
- AI content suggestions based on job title and experience
- Job description analyzer with skill matching
- Cover letter generator tailored to specific job postings
- ATS (Applicant Tracking System) optimization scoring
- Keyword optimization suggestions
- Multiple export formats (PDF, DOCX)
- LinkedIn profile import
- Portfolio link integration
- Reference management
- Interview preparation tips based on resume content
- Admin panel with template and AI model management
- Professional, career-focused responsive design`},{id:194,title:"AI Data Visualization",category:"ai",emoji:"",prompt:`Build an AI-assisted data visualization and dashboard builder:

**Features:**
- CSV/JSON/API data source import
- AI-suggested chart types based on data patterns
- Natural language query to chart (ask questions about data)
- Drag-and-drop dashboard builder
- Multiple chart types (bar, line, pie, scatter, heatmap, treemap)
- Interactive filters and drill-down
- Dashboard sharing with embed codes
- Automated insight generation from data
- Anomaly detection highlighting
- Data transformation and pivot tools
- Scheduled report generation
- Admin panel with data source and user management
- Data-centric, analytical responsive design`},{id:195,title:"AI Meeting Transcriber",category:"ai",emoji:"",prompt:`Build an AI-powered meeting transcription and analysis platform:

**Features:**
- Audio/video upload for transcription
- Real-time transcription during meetings
- Speaker diarization (identify who said what)
- Action item extraction with assignees
- Key topic and decision identification
- Meeting summary generation
- Searchable transcript archive
- Highlight and bookmark important moments
- Integration with calendar for meeting context
- Sentiment analysis per speaker
- Follow-up task tracking from meetings
- Admin panel with transcription and user management
- Professional, productivity-focused responsive design`},{id:196,title:"AI Story Generator",category:"ai",emoji:"",prompt:`Build an AI-powered creative story generation platform:

**Features:**
- Story prompt builder with genre, setting, characters, and themes
- Chapter-by-chapter story generation with branching options
- Character profile manager with personality traits
- World-building tools (maps, lore, timelines)
- Writing style customization (Hemingway, Tolkien, sci-fi, noir)
- Illustration generation for story scenes
- Story outline and beat sheet generator
- Dialogue enhancer and character voice differentiation
- Plot hole detection
- Community sharing and reading
- Export as ebook format (ePub, PDF)
- Admin panel with model and content management
- Storybook-themed responsive design`},{id:197,title:"AI Logo Generator",category:"ai",emoji:"",prompt:`Build an AI-powered logo design and branding tool:

**Features:**
- Logo generation from business name and description
- Style preference quiz (modern, vintage, playful, corporate)
- Color palette suggestions based on industry
- Multiple logo variations (icon, wordmark, combination)
- Logo editing with element repositioning
- Font pairing suggestions
- Brand guideline document generation
- Social media avatar and cover generation from logo
- Business card mockup with logo
- Favicon and app icon generation
- High-resolution export (SVG, PNG, PDF)
- Admin panel with model and asset management
- Creative, brand-focused responsive design`},{id:198,title:"AI Language Translator Hub",category:"ai",emoji:"",prompt:`Build a comprehensive AI translation and localization platform:

**Features:**
- Text translation with multiple AI model options
- Document translation with formatting preservation
- Website translation with URL input
- Translation memory for consistent terminology
- Glossary management for specialized terms
- Context-aware translation with domain selection
- Side-by-side original and translation view
- Collaborative translation review
- Translation quality scoring
- Batch file translation
- API access for developer integration
- Admin panel with language and model management
- Multi-lingual, accessible responsive design`},{id:199,title:"AI Music Generator",category:"ai",emoji:"",prompt:`Build an AI-powered music composition and generation platform:

**Features:**
- Text-to-music generation (describe the music you want)
- Genre and mood selection for music generation
- Instrument and arrangement customization
- Melody and chord progression generator
- Beat and rhythm pattern creator
- Music length and tempo control
- Audio waveform editor for fine-tuning
- Royalty-free music library from generated tracks
- Project saving and version management
- Export in multiple audio formats
- Community sharing and collaboration
- Admin panel with model and content management
- Music studio-inspired dark responsive design`},{id:200,title:"AI Personal Finance Advisor",category:"ai",emoji:"",prompt:`Build an AI-powered personal finance advisory platform:

**Features:**
- Financial health assessment questionnaire
- AI chatbot for financial questions and advice
- Budget recommendation based on income and goals
- Investment portfolio suggestions by risk tolerance
- Debt payoff strategy optimizer
- Tax optimization suggestions
- Savings goal planning with AI projections
- Spending pattern analysis with improvement tips
- Financial literacy quiz and education modules
- Scenario modeling (what-if analysis)
- Monthly financial health reports
- Admin panel with AI model and content management
- Trust-inspiring, professional responsive design`},{id:201,title:"Loyalty Rewards Platform",category:"ecommerce",emoji:"",prompt:`Build a customer loyalty and rewards platform:

**Features:**
- Points earning system for purchases, reviews, and referrals
- Tiered membership levels (Bronze, Silver, Gold, Platinum)
- Rewards catalog with point redemption
- Digital stamp cards for repeat purchases
- Birthday and anniversary bonus rewards
- Referral tracking with unique codes
- Points history and transaction log
- Push notification for points expiry and new rewards
- Gamification elements (badges, streaks, challenges)
- Partner merchant integration
- Admin dashboard with program analytics
- Mobile-first responsive design with animated reward animations`},{id:202,title:"Product Comparison Engine",category:"ecommerce",emoji:"",prompt:`Build a product comparison and price tracking platform:

**Features:**
- Side-by-side product comparison (up to 4 products)
- Price history charts with alerts for price drops
- Product specification database with filterable attributes
- User reviews aggregation from multiple sources
- Wishlist with price drop notifications
- Category browsing (Electronics, Appliances, Gadgets)
- Barcode/URL scanner for quick product add
- Expert review summaries
- Deal and coupon aggregation
- Price prediction with AI trends
- Admin panel for product database management
- Clean, data-focused responsive design`},{id:203,title:"Rental Marketplace",category:"ecommerce",emoji:"",prompt:`Build a peer-to-peer rental marketplace for everyday items:

**Features:**
- Item listing with photos, daily/weekly/monthly pricing
- Availability calendar with booking system
- Security deposit management
- In-app messaging between renter and owner
- Identity verification for trust
- Insurance and damage protection options
- Review and rating system for both parties
- Categories (Tools, Electronics, Sports, Party, Camera)
- Location-based search with radius filter
- Delivery and pickup coordination
- Dispute resolution system
- Admin moderation and analytics dashboard`},{id:204,title:"Flash Sale Platform",category:"ecommerce",emoji:"",prompt:`Build a flash sale and daily deals platform:

**Features:**
- Time-limited deals with countdown timers
- Deal categories and browsing
- Quantity-limited offers with sold-out tracking
- Deal alerts and notification preferences
- User watchlist for upcoming deals
- Social sharing with referral bonuses
- Order history and tracking
- Deal voting and community ratings
- Merchant deal submission portal
- Automated deal scheduling system
- Real-time stock level indicators
- Admin panel with deal management and analytics`},{id:205,title:"Custom Merch Store Builder",category:"ecommerce",emoji:"",prompt:`Build a platform where creators can launch custom merchandise stores:

**Features:**
- Store builder with custom branding (logo, colors, domain)
- Product designer with drag-and-drop artwork placement
- Multiple product types (apparel, accessories, home goods)
- Mockup preview generation
- Integrated payment processing
- Automated fulfillment tracking
- Creator analytics dashboard (sales, traffic, top products)
- Fan pre-order campaigns
- Limited edition and numbered releases
- Social media integration for promotion
- Bulk discount management
- Admin platform management and creator onboarding`},{id:206,title:"Wine & Spirits Marketplace",category:"ecommerce",emoji:"",prompt:`Build a wine and spirits e-commerce platform:

**Features:**
- Product catalog with detailed tasting notes and ratings
- Wine pairing recommendations
- Cellar management for collectors
- Subscription wine club with curated selections
- Age verification gate
- Expert sommelier reviews
- Regional and varietal browsing
- Vintage year filtering
- Price range and rating filters
- Gift sets and corporate gifting
- Delivery scheduling with temperature control notes
- Admin panel with inventory and compliance management`},{id:207,title:"Pet Supply Store",category:"ecommerce",emoji:"",prompt:`Build a pet supplies e-commerce platform:

**Features:**
- Product catalog organized by pet type (Dog, Cat, Bird, Fish, Reptile)
- Pet profile creation with breed, age, and dietary needs
- Personalized product recommendations based on pet profile
- Auto-ship subscription for recurring purchases (food, medication)
- Vet-approved product badges
- Pet health tips and articles
- Weight-based food calculator
- Wishlist and gift registry for pet owners
- Customer reviews with pet photos
- Loyalty program with pet birthday rewards
- Admin panel with inventory and supplier management
- Playful, pet-friendly responsive design`},{id:208,title:"Furniture Marketplace",category:"ecommerce",emoji:"",prompt:`Build an online furniture marketplace with AR preview:

**Features:**
- Product catalog with 360-degree product views
- Room dimension-based product recommendations
- Style quiz for personalized suggestions
- Material and color customization options
- Delivery scheduling with assembly service booking
- Room planner with drag-and-drop furniture placement
- Customer photo reviews showing furniture in real homes
- Financing and installment payment options
- Trade program for interior designers
- Wishlist and mood boards
- Admin panel with vendor and logistics management
- Elegant, magazine-style responsive design`},{id:209,title:"Ticket Resale Platform",category:"ecommerce",emoji:"",prompt:`Build a ticket resale and exchange marketplace:

**Features:**
- Event ticket listings with seat map visualization
- Price comparison across sellers
- Verified ticket authenticity system
- Secure payment escrow until event date
- Buyer protection guarantee
- Mobile ticket transfer
- Event browsing by category (Sports, Concerts, Theater)
- Price alerts for specific events
- Seller ratings and history
- Last-minute deals section
- Admin fraud detection and dispute management
- Fast, conversion-optimized responsive design`},{id:210,title:"Art Marketplace",category:"ecommerce",emoji:"",prompt:`Build an online art marketplace for original artwork:

**Features:**
- Artwork listings with high-res zoom and detail views
- Artist profiles with portfolio and bio
- Art categories (Painting, Sculpture, Photography, Digital)
- Price filtering and style matching
- Commission request system for custom pieces
- Virtual gallery exhibition rooms
- Certificate of authenticity generation
- Framing options and sizing tools
- Art advisory and curation services
- Collector profiles with collection management
- Admin content curation and quality control
- Gallery-inspired, minimal responsive design`},{id:211,title:"Podcast Community Platform",category:"social",emoji:"",prompt:`Build a podcast discovery and community platform:

**Features:**
- Podcast directory with episode listings
- Audio player with speed control and bookmarks
- Episode comments and discussion threads
- Podcast ratings and reviews
- Curated playlists and collections
- Follow podcasts and creators
- Listening history and statistics
- Episode transcripts with search
- Clip sharing (30-second highlights)
- Creator analytics dashboard
- Community forums per podcast
- Admin content moderation and featuring
- Audio-focused responsive design`},{id:212,title:"Fitness Social Network",category:"social",emoji:"",prompt:`Build a fitness-focused social network:

**Features:**
- Workout logging with exercise database
- Progress photo timeline
- Achievement badges and personal records
- Follow system with activity feed
- Workout challenges and competitions
- Transformation stories sharing
- Exercise form check video uploads
- Gym buddy finder by location
- Nutrition tracking and meal sharing
- Leaderboards (weekly, monthly, all-time)
- Trainer profiles and program sharing
- Admin moderation and community management
- Energetic, motivational responsive design`},{id:213,title:"Local Community Hub",category:"social",emoji:"",prompt:`Build a hyperlocal community platform for neighborhoods:

**Features:**
- Neighborhood groups based on location
- Local event board (garage sales, block parties)
- Classifieds for buying/selling/giving away
- Service recommendations (plumber, electrician)
- Safety alerts and neighborhood watch
- Lost and found pets section
- Community polls and voting
- Business directory for local shops
- Volunteer opportunity board
- Welcome guide for new residents
- Admin tools for community leaders
- Warm, community-focused responsive design`},{id:214,title:"Travel Social Platform",category:"social",emoji:"",prompt:`Build a travel-focused social platform:

**Features:**
- Trip diary creation with photos, maps, and stories
- Destination guides with user contributions
- Travel itinerary sharing
- Follow travelers and get inspired
- Location check-ins with map visualization
- Travel tips and hacks community
- Bucket list creation and tracking
- Travel buddy matching for solo travelers
- Photo contests and featured destinations
- Local insider recommendations
- Country visited map and statistics
- Admin content curation and moderation
- Wanderlust-inspiring responsive design`},{id:215,title:"Pet Social Network",category:"social",emoji:"",prompt:`Build a social network for pet owners:

**Features:**
- Pet profiles with photos, breed, and personality traits
- Photo and video sharing with pet-themed filters
- Playdate matching by location and pet compatibility
- Pet services directory (vets, groomers, walkers)
- Adoption board for rescue organizations
- Pet health journal and vaccination records
- Lost pet alerts with location sharing
- Pet milestone tracking (birthday, gotcha day)
- Breed-specific community groups
- Pet product reviews and recommendations
- Admin moderation and rescue organization verification
- Adorable, pet-themed responsive design`},{id:216,title:"Language Exchange Platform",category:"social",emoji:"",prompt:`Build a language exchange social platform:

**Features:**
- User profiles with native and learning languages
- Language partner matching algorithm
- Video/voice chat with timer for fair language practice
- Text chat with inline translation
- Conversation topic suggestions
- Correction and feedback system
- Vocabulary notebook with spaced repetition
- Community discussion boards by language
- Cultural exchange posts and stories
- Progress tracking and streaks
- Group language practice sessions
- Admin moderation and user verification
- Global, multilingual responsive design`},{id:217,title:"DIY Project Sharing",category:"social",emoji:"",prompt:`Build a DIY project sharing community:

**Features:**
- Step-by-step project tutorials with photos
- Materials list with cost estimates
- Difficulty ratings and time estimates
- Before/after project galleries
- Save and bookmark favorite projects
- Comment and Q&A on each project
- User profiles with completed projects showcase
- Category browsing (Woodworking, Electronics, Crafts, Home)
- Tool library sharing
- Weekly project challenges
- Admin content curation and featuring
- Maker-inspired responsive design`},{id:218,title:"Alumni Network Platform",category:"social",emoji:"",prompt:`Build an alumni networking platform for schools:

**Features:**
- Alumni directory with graduation year and major
- Class reunion event planning
- Job board and mentorship matching
- News feed with school updates
- Achievement and milestone announcements
- Donation and fundraising campaigns
- Memory sharing (photos, stories from school days)
- Professional networking and introductions
- Chapter groups by city/region
- Alumni business directory
- Admin tools for alumni association management
- School pride-themed responsive design`},{id:219,title:"Coding Bootcamp Platform",category:"education",emoji:"",prompt:`Build an interactive coding bootcamp learning platform:

**Features:**
- Structured curriculum with modules and milestones
- In-browser code editor with live preview
- Automated code testing and grading
- Project-based assignments with portfolio building
- Pair programming sessions
- Mentor matching and 1-on-1 video sessions
- Code review system
- Student progress dashboard with skill tree
- Job preparation (resume review, mock interviews)
- Alumni success stories
- Community Slack/Discord integration
- Admin panel for curriculum and student management
- Developer-focused dark theme responsive design`},{id:220,title:"Music Learning Platform",category:"education",emoji:"",prompt:`Build an online music learning platform:

**Features:**
- Video lessons organized by instrument and skill level
- Interactive sheet music with play-along
- Practice tracker with daily goal setting
- Metronome and tuner tools
- Song library with chord charts and tablature
- Student recording upload for teacher feedback
- Progress milestones and badges
- Community forums per instrument
- Live lesson booking with teachers
- Music theory course modules
- Ear training exercises
- Admin panel for content and teacher management
- Musical, rhythm-inspired responsive design`},{id:221,title:"Quiz Competition Platform",category:"education",emoji:"",prompt:`Build a real-time quiz competition platform:

**Features:**
- Live multiplayer quiz rooms
- Quiz creation with multiple question types (MCQ, true/false, fill-blank)
- Real-time leaderboard updates
- Timer-based scoring system
- Subject categories and difficulty levels
- Tournament brackets and elimination rounds
- Study mode for practice
- Achievement badges and rankings
- Custom quiz sharing via link
- Analytics on performance by topic
- Spectator mode for live quizzes
- Admin quiz bank management and moderation
- Competitive gaming-inspired responsive design`},{id:222,title:"Language Learning Gamified",category:"education",emoji:"",prompt:`Build a gamified language learning application:

**Features:**
- Lesson structure with levels and XP progression
- Vocabulary exercises with spaced repetition
- Grammar lessons with interactive exercises
- Listening comprehension with native audio
- Speaking practice with pronunciation scoring
- Daily streak tracking with rewards
- Hearts/lives system for mistakes
- Leaderboards (friends, global)
- Story-based learning adventures
- Cultural context lessons
- Progress statistics and weak area analysis
- Admin content and course management
- Colorful, game-like responsive design`},{id:223,title:"Virtual Science Lab",category:"education",emoji:"",prompt:`Build a virtual science laboratory simulation platform:

**Features:**
- Interactive lab experiments (Chemistry, Physics, Biology)
- Step-by-step experiment guides
- Virtual equipment and reagent selection
- Real-time simulation of reactions and results
- Lab notebook for recording observations
- Safety quiz before experiments
- Pre-lab and post-lab assessments
- Teacher dashboard for assignment management
- Student collaboration on group experiments
- Video demonstrations of real experiments
- Experiment result comparison and grading
- Admin panel for curriculum management
- Scientific, precise responsive design`},{id:224,title:"Certification Exam Prep",category:"education",emoji:"",prompt:`Build a certification exam preparation platform:

**Features:**
- Practice exams mimicking real certification tests
- Question bank with detailed explanations
- Timed test simulation mode
- Performance analytics by topic area
- Study plan generator based on weak areas
- Flashcard mode for key concepts
- Discussion forum per certification
- Study group formation
- Progress tracking toward exam readiness score
- Bookmark difficult questions for review
- Exam date countdown and reminders
- Admin panel for question management
- Focused, professional responsive design`},{id:225,title:"Children's Learning App",category:"education",emoji:"",prompt:`Build an interactive children's educational platform (ages 4-10):

**Features:**
- Subject areas (Math, Reading, Science, Art)
- Interactive lessons with animations and sounds
- Reward system with virtual stickers and trophies
- Progress reports for parents
- Parental controls and screen time management
- Adaptive difficulty based on performance
- Story-based learning adventures
- Drawing and creative activities
- Mini-games for each subject
- Weekly challenges and certificates
- Safe, ad-free environment
- Admin content management
- Colorful, child-friendly responsive design`},{id:226,title:"Research Paper Platform",category:"education",emoji:"",prompt:`Build an academic research paper management platform:

**Features:**
- Paper submission with peer review workflow
- Citation management and bibliography generation
- Collaborative paper editing with version control
- Reference library with PDF storage
- Research group creation and management
- Paper discovery by field, topic, and citations
- Annotation and highlighting tools
- Impact metrics and citation tracking
- Conference submission management
- Research timeline and milestone tracking
- Admin panel for editorial management
- Academic, clean responsive design`},{id:227,title:"Telemedicine Platform",category:"health",emoji:"",prompt:`Build a telemedicine and virtual healthcare platform:

**Features:**
- Doctor directory with specialization and ratings
- Appointment booking with calendar integration
- Video consultation with in-call notes
- Prescription management and pharmacy integration
- Medical records and history storage
- Symptom checker with AI triage
- Lab results viewing
- Follow-up appointment scheduling
- Patient messaging with doctors
- Insurance information management
- Admin panel for doctor onboarding and compliance
- Trust-worthy, medical responsive design`},{id:228,title:"Mental Health Tracker",category:"health",emoji:"",prompt:`Build a mental health tracking and wellness application:

**Features:**
- Daily mood logging with emotion wheel
- Journaling with guided prompts
- Meditation timer with ambient sounds
- Breathing exercises with visual guides
- Sleep quality tracking
- Gratitude journal
- Cognitive behavioral therapy (CBT) exercises
- Crisis resources and hotline access
- Weekly mental health reports and trends
- Goal setting for wellness habits
- Therapist session notes and reminders
- Admin content and resource management
- Calming, mindful responsive design`},{id:229,title:"Nutrition Planning App",category:"health",emoji:"",prompt:`Build a nutrition planning and meal tracking application:

**Features:**
- Food database with nutritional information
- Meal logging with barcode scanner
- Daily macro and calorie tracking with charts
- Meal plan generator based on dietary goals
- Recipe suggestions matching nutritional targets
- Grocery list generation from meal plans
- Water intake tracking
- Allergen and dietary restriction filters
- Progress photos and weight tracking
- Integration with fitness apps
- Admin panel for food database management
- Fresh, health-focused responsive design`},{id:230,title:"Yoga Studio Platform",category:"health",emoji:"",prompt:`Build an online yoga studio platform:

**Features:**
- On-demand yoga class library (video)
- Live-stream class scheduling
- Difficulty levels (Beginner, Intermediate, Advanced)
- Yoga style filtering (Vinyasa, Hatha, Yin, Ashtanga)
- Class duration options (15, 30, 45, 60 min)
- Instructor profiles and following
- Practice streak tracking
- Pose library with alignment cues
- Personalized class recommendations
- Membership subscription management
- Community challenges and workshops
- Admin class and instructor management
- Serene, zen-inspired responsive design`},{id:231,title:"Sports Team Manager",category:"health",emoji:"",prompt:`Build a sports team management application:

**Features:**
- Team roster with player profiles and positions
- Game schedule with calendar view
- Practice planning and attendance tracking
- Game statistics and scoring
- Player performance analytics
- Team communication board
- Formation and strategy planner
- Photo and video gallery for games
- Parent notification system (for youth sports)
- Equipment and uniform management
- Season standings and tournament brackets
- Admin panel for league management
- Athletic, team-spirited responsive design`},{id:232,title:"Habit Tracker App",category:"health",emoji:"",prompt:`Build a comprehensive habit tracking application:

**Features:**
- Create custom habits with frequency (daily, weekly)
- Visual streak tracking with calendar heat map
- Habit categories (Health, Productivity, Learning, Social)
- Reminder notifications with custom times
- Statistics dashboard (completion rate, best streaks)
- Habit stacking suggestions
- Weekly and monthly review reports
- Milestone celebrations and badges
- Habit templates for common goals
- Social accountability with friend sharing
- Admin analytics and user engagement metrics
- Motivational, clean responsive design`},{id:233,title:"Elderly Care Platform",category:"health",emoji:"",prompt:`Build an elderly care coordination platform:

**Features:**
- Care recipient profiles with medical information
- Medication schedule with reminder alerts
- Caregiver task assignment and tracking
- Doctor appointment management
- Daily check-in system
- Emergency contact quick-access
- Activity and mobility logging
- Family member access with role permissions
- Care notes and shift handover reports
- Health metrics tracking (BP, blood sugar)
- Admin panel for care organization management
- Accessible, large-text responsive design`},{id:234,title:"Expense Splitting App",category:"finance",emoji:"",prompt:`Build a group expense splitting application:

**Features:**
- Create groups for trips, roommates, events
- Add expenses with receipt photo upload
- Split options (equal, percentage, exact amounts)
- Running balance between group members
- Settlement suggestions (minimize transactions)
- Expense categories and tags
- Monthly spending reports per group
- Payment reminder notifications
- Currency conversion for international trips
- Export expense reports
- Activity timeline for all transactions
- Admin analytics dashboard
- Clean, financial-focused responsive design`},{id:235,title:"Invoice Management System",category:"finance",emoji:"",prompt:`Build a professional invoice management system:

**Features:**
- Invoice creation with customizable templates
- Client database management
- Recurring invoice automation
- Payment tracking and reminders
- Multi-currency support
- Tax calculation and settings by region
- Expense tracking with receipt capture
- Financial reports (revenue, outstanding, overdue)
- Online payment links in invoices
- Quote/estimate to invoice conversion
- Time tracking integration for hourly billing
- Admin panel for business settings
- Professional, business-oriented responsive design`},{id:236,title:"Stock Portfolio Tracker",category:"finance",emoji:"",prompt:`Build a stock portfolio tracking and analysis platform:

**Features:**
- Portfolio dashboard with real-time price updates
- Stock watchlist with custom alerts
- Buy/sell transaction logging
- Profit/loss calculation with charts
- Dividend tracking and calendar
- Portfolio allocation visualization (pie charts)
- News feed for watched stocks
- Technical chart indicators
- Comparison tool between stocks
- Risk assessment scoring
- Tax lot tracking for capital gains
- Admin panel for data source management
- Financial data-rich responsive design`},{id:237,title:"Crowdfunding Platform",category:"finance",emoji:"",prompt:`Build a crowdfunding campaign platform:

**Features:**
- Campaign creation with rich media (video, images, story)
- Funding tiers with rewards/perks
- Progress bar with backer count
- Social sharing and referral tracking
- Backer management and communication
- Campaign updates and milestones
- Comment section for community engagement
- Payment processing with escrow
- Stretch goals system
- Campaign analytics for creators
- Category browsing and discovery
- Admin panel for campaign approval and moderation
- Inspiring, trust-building responsive design`},{id:238,title:"Crypto Portfolio Dashboard",category:"finance",emoji:"",prompt:`Build a cryptocurrency portfolio dashboard:

**Features:**
- Multi-wallet portfolio tracking
- Real-time price charts for all major cryptocurrencies
- Transaction history with cost basis tracking
- Profit/loss analysis with tax reports
- Price alerts and notifications
- DeFi protocol tracking
- NFT collection display
- Gas fee estimator
- Market cap and volume rankings
- Fear and greed index display
- News aggregation for crypto markets
- Admin data feed management
- Crypto-themed dark responsive design`},{id:239,title:"Personal Budget Planner",category:"finance",emoji:"",prompt:`Build a personal budget planning application:

**Features:**
- Monthly budget creation with categories
- Income and expense tracking
- Visual budget vs actual comparison charts
- Savings goals with progress tracking
- Bill calendar with due date reminders
- Spending pattern analysis
- Budget templates for different lifestyles
- Net worth tracking over time
- Financial snapshot dashboard
- Category spending trends (monthly, yearly)
- Export reports to CSV/PDF
- Admin analytics and usage metrics
- Trustworthy, organized responsive design`},{id:240,title:"Payroll Management System",category:"finance",emoji:"",prompt:`Build a payroll management system for small businesses:

**Features:**
- Employee database with salary and tax information
- Automated payroll calculation (gross, deductions, net)
- Pay stub generation and distribution
- Tax withholding calculations
- Leave and attendance integration
- Overtime calculation rules
- Bonus and commission tracking
- Year-end tax document generation
- Direct deposit management
- Payroll history and reports
- Multi-department support
- Admin panel with compliance settings
- Secure, enterprise-grade responsive design`},{id:241,title:"OKR Tracking Platform",category:"productivity",emoji:"",prompt:`Build an OKR (Objectives and Key Results) tracking platform:

**Features:**
- Objective creation with measurable key results
- Progress tracking with confidence scoring
- Team and individual OKR alignment
- Quarterly planning and review cycles
- Check-in reminders and updates
- OKR tree visualization (company > team > individual)
- Progress dashboards with charts
- Comment and feedback on OKRs
- Historical OKR archive
- Integration suggestions with project tools
- Report generation for leadership
- Admin panel for organization structure
- Goal-oriented, focused responsive design`},{id:242,title:"Meeting Scheduler",category:"productivity",emoji:"",prompt:`Build a smart meeting scheduling application:

**Features:**
- Availability sharing with calendar sync
- Meeting poll creation (like Doodle)
- One-on-one booking pages (like Calendly)
- Team availability finder
- Time zone detection and conversion
- Meeting type templates (15min, 30min, 60min)
- Buffer time settings between meetings
- Video call link auto-generation
- Meeting reminders and follow-ups
- Analytics (meeting frequency, time spent)
- Recurring meeting management
- Admin panel for team settings
- Clean, time-conscious responsive design`},{id:243,title:"Documentation Wiki",category:"productivity",emoji:"",prompt:`Build a team documentation and knowledge base wiki:

**Features:**
- Rich text editor with markdown support
- Nested page hierarchy with sidebar navigation
- Full-text search across all documents
- Version history and rollback
- Collaborative editing with presence indicators
- Page templates for common document types
- Table of contents auto-generation
- Image and file embedding
- Internal linking between pages
- Comment threads on specific sections
- Access permissions per workspace/page
- Admin panel for workspace management
- Documentation-focused, readable responsive design`},{id:244,title:"Employee Onboarding Platform",category:"productivity",emoji:"",prompt:`Build an employee onboarding automation platform:

**Features:**
- Onboarding workflow templates per role
- Task checklist with assignments and due dates
- Welcome package with company information
- Document collection and e-signature
- IT setup request automation
- Mentor/buddy assignment
- Training module assignments
- Progress tracking for HR and managers
- New hire directory with introductions
- Feedback surveys at milestone checkpoints
- Resource library (policies, handbooks)
- Admin panel for workflow customization
- Welcoming, professional responsive design`},{id:245,title:"Time Tracking Tool",category:"productivity",emoji:"",prompt:`Build a time tracking and timesheet management tool:

**Features:**
- One-click timer start/stop
- Manual time entry with project/task assignment
- Weekly timesheet view with approval workflow
- Project and client organization
- Billable vs non-billable hour tracking
- Time reports by project, client, team member
- Budget tracking (hours vs estimate)
- Calendar view of time entries
- Idle detection and reminder prompts
- Export timesheets for invoicing
- Team utilization dashboard
- Admin panel for project and rate management
- Minimal, distraction-free responsive design`},{id:246,title:"Feedback & Survey Tool",category:"productivity",emoji:"",prompt:`Build a feedback collection and survey platform:

**Features:**
- Survey builder with drag-and-drop question types
- Multiple question types (MCQ, rating, open-text, NPS)
- Survey templates for common use cases
- Anonymous response option
- Response collection with real-time analytics
- Charts and graphs for survey results
- Survey sharing via link, email, or embed
- Conditional logic and branching
- Response export to CSV
- Scheduled survey distribution
- Response rate tracking
- Admin panel for organization management
- Data-driven, insightful responsive design`},{id:247,title:"Inventory Management System",category:"productivity",emoji:"",prompt:`Build an inventory management system for small businesses:

**Features:**
- Product catalog with SKU management
- Stock level tracking with low stock alerts
- Purchase order creation and tracking
- Supplier database management
- Barcode generation and scanning
- Stock adjustment logging (reasons tracking)
- Multi-warehouse support
- Inventory valuation reports
- Stock movement history
- Reorder point automation
- Batch and expiry date tracking
- Admin dashboard with inventory analytics
- Organized, warehouse-practical responsive design`},{id:248,title:"Roadmap Planning Tool",category:"productivity",emoji:"",prompt:`Build a product roadmap planning and visualization tool:

**Features:**
- Timeline/Gantt view for roadmap items
- Kanban board for feature status
- Feature request collection with voting
- Priority scoring (RICE, MoSCoW frameworks)
- Milestone tracking with dependencies
- Team assignment and capacity planning
- Release planning and versioning
- Stakeholder view (simplified public roadmap)
- Integration with issue trackers
- Progress reporting for leadership
- Changelog generation from completed items
- Admin panel for team and project management
- Strategic, vision-focused responsive design`},{id:249,title:"Movie Review Platform",category:"entertainment",emoji:"",prompt:`Build a movie review and discovery platform:

**Features:**
- Movie database with details, cast, trailer, and ratings
- User reviews with star ratings and written opinions
- Watchlist and watched list management
- Personalized recommendations based on viewing history
- Top lists and curated collections
- Release calendar for upcoming movies
- Box office tracking
- Discussion forums per movie
- Celebrity profiles with filmography
- Streaming availability checker
- Friends activity and shared recommendations
- Admin panel for content management
- Cinematic, immersive responsive design`},{id:250,title:"Virtual Escape Room",category:"entertainment",emoji:"",prompt:`Build a virtual escape room puzzle platform:

**Features:**
- Multiple themed escape rooms (Mystery, Sci-Fi, Horror, Adventure)
- Timed puzzles with countdown
- Progressive clue and hint system
- Team play with real-time collaboration
- Leaderboard by completion time
- Story narrative between puzzles
- Various puzzle types (ciphers, patterns, logic, search)
- Achievement badges and completion certificates
- Room difficulty ratings
- User-created room builder
- Spectator mode
- Admin panel for room creation and management
- Mysterious, atmospheric responsive design`},{id:251,title:"Karaoke Platform",category:"entertainment",emoji:"",prompt:`Build an online karaoke and singing platform:

**Features:**
- Song library with lyrics display and backing tracks
- Real-time lyrics scrolling with timing sync
- Recording and playback of performances
- Pitch scoring and vocal feedback
- Duet mode for collaborative singing
- Song request queue for live sessions
- Genre and difficulty browsing
- User profiles with recorded performances
- Community voting on performances
- Playlist creation for karaoke nights
- Virtual room creation for group sessions
- Admin song library management
- Fun, stage-themed responsive design`},{id:252,title:"Board Game Platform",category:"entertainment",emoji:"",prompt:`Build an online board game platform:

**Features:**
- Multiple classic games (Chess, Checkers, Backgammon, Go)
- Real-time multiplayer with matchmaking
- Turn-based gameplay with move validation
- Game replay and analysis
- Player ranking (ELO system)
- Chat during games
- Tournaments and ladder seasons
- Puzzle and training modes
- Spectator mode for live games
- Game history and statistics
- Friend system and private matches
- Admin panel for game and tournament management
- Classic, game board-inspired responsive design`},{id:253,title:"Meme Generator",category:"entertainment",emoji:"",prompt:`Build a meme creation and sharing platform:

**Features:**
- Meme template library with search
- Text overlay editor (top/bottom text, custom positioning)
- Image upload for custom templates
- Meme browsing with hot/new/trending sorting
- Upvote and comment system
- Meme categories and tags
- User profiles with meme gallery
- Meme contests and challenges
- Share to social media
- GIF meme support
- Watermark options for creators
- Admin moderation and content management
- Humorous, internet-culture responsive design`},{id:254,title:"Story Writing Platform",category:"entertainment",emoji:"",prompt:`Build a collaborative story writing platform:

**Features:**
- Story creation with rich text editor
- Chapter-based story organization
- Genre categorization and tagging
- Reader engagement (likes, comments, bookmarks)
- Author profiles with published works
- Writing challenges and prompts
- Reading list management
- Story statistics (reads, engagement)
- Collaborative writing with co-authors
- Draft and publishing workflow
- Reader subscription and notifications
- Admin content moderation and featuring
- Literary, book-inspired responsive design`},{id:255,title:"Trivia Game App",category:"entertainment",emoji:"",prompt:`Build a multiplayer trivia game application:

**Features:**
- Multiple category trivia (Science, History, Pop Culture, Sports)
- Real-time multiplayer rounds
- Daily trivia challenges with leaderboards
- Power-ups (skip, 50/50, extra time)
- Custom quiz creation for hosts
- Solo practice mode with difficulty selection
- Player statistics and achievements
- Season rankings and rewards
- Live-hosted trivia events
- Question submission by community
- Admin question management and moderation
- Game show-inspired vibrant responsive design`},{id:256,title:"Recipe Sharing Community",category:"food",emoji:"",prompt:`Build a recipe sharing community platform:

**Features:**
- Recipe posting with step-by-step photos
- Ingredient list with serving size scaling
- Cooking time and difficulty rating
- Nutritional information calculator
- User recipe collections and cookbooks
- Rating and review system
- Recipe search by ingredient, cuisine, diet
- Meal planning calendar
- Grocery list generation from recipes
- Cooking timer with step tracking
- Video recipe support
- Admin content moderation and featuring
- Appetizing, food-photography responsive design`},{id:257,title:"Food Truck Finder",category:"food",emoji:"",prompt:`Build a food truck discovery and tracking platform:

**Features:**
- Real-time food truck location map
- Schedule and route tracking
- Menu browsing with photos and prices
- Pre-order for pickup
- User reviews and ratings
- Favorite truck following with notifications
- Event and festival truck lineups
- Food truck owner dashboard (location check-in, menu management)
- Search by cuisine type and location
- Special offer and discount system
- Admin platform management and truck verification
- Street food-inspired vibrant responsive design`},{id:258,title:"Wine Tasting Journal",category:"food",emoji:"",prompt:`Build a wine tasting journal and discovery app:

**Features:**
- Wine entry with tasting notes (aroma, palate, finish)
- Rating system with visual flavor wheel
- Wine label photo scanner
- Personal wine cellar management
- Wine pairing suggestions with food
- Discover wines by region, grape, style
- Tasting event calendar
- Social sharing of wine reviews
- Wishlist for wines to try
- Price tracking and value ratings
- Vintage comparison tools
- Admin wine database management
- Sophisticated, wine-toned responsive design`},{id:259,title:"Restaurant Table Booking",category:"food",emoji:"",prompt:`Build a restaurant reservation and table booking system:

**Features:**
- Restaurant search with cuisine and location filters
- Real-time table availability
- Booking with party size and special requests
- Floor plan table selection
- Waitlist management with estimated wait time
- Booking confirmation and reminders
- Restaurant profiles with photos, menu, hours
- Customer reviews and ratings
- Special occasion (birthday, anniversary) flagging
- Cancellation and modification policies
- Restaurant dashboard for booking management
- Admin platform management
- Elegant, dining-experience responsive design`},{id:260,title:"Meal Kit Delivery Platform",category:"food",emoji:"",prompt:`Build a meal kit subscription and delivery platform:

**Features:**
- Weekly menu selection with recipe cards
- Dietary preference filtering (vegan, keto, gluten-free)
- Subscription management (skip, pause, cancel)
- Step-by-step cooking instructions
- Nutritional information per meal
- Ingredient sourcing transparency
- Delivery scheduling and tracking
- Rating and feedback per recipe
- Family and portion size options
- Gift subscriptions
- Recipe archive of past meals
- Admin menu planning and logistics dashboard
- Fresh, farm-to-table responsive design`},{id:261,title:"Coffee Shop Ordering App",category:"food",emoji:"",prompt:`Build a coffee shop mobile ordering application:

**Features:**
- Menu browsing with customization (size, milk, extras)
- Favorite orders for quick reordering
- Pre-order and pickup scheduling
- Loyalty stamps and rewards program
- Multiple location support
- Order status tracking
- Seasonal menu highlights
- Gift card purchase and management
- Nutritional and allergen information
- Barista tips and coffee education
- Admin menu and location management
- Cozy, cafe-inspired responsive design`},{id:262,title:"Cooking Class Marketplace",category:"food",emoji:"",prompt:`Build an online cooking class marketplace:

**Features:**
- Live and pre-recorded cooking class listings
- Chef/instructor profiles with specialties
- Class booking with ingredient list preparation
- Interactive live classes with video and chat
- Class categories (Italian, Baking, Sushi, BBQ)
- Skill level filtering (Beginner to Master)
- Student reviews and ratings
- Recipe cards from completed classes
- Private event and team building classes
- Gift certificates
- Chef earnings and payout management
- Admin platform management
- Culinary, warm responsive design`},{id:263,title:"Trip Planner & Itinerary",category:"travel",emoji:"",prompt:`Build a collaborative trip planning and itinerary platform:

**Features:**
- Day-by-day itinerary builder with map
- Activity and attraction suggestions by destination
- Accommodation and transport booking links
- Budget tracker per trip
- Collaborative planning with travel companions
- Packing checklist generator by destination/climate
- Travel document organizer (visa, passport, insurance)
- Real-time currency converter
- Weather forecast for trip dates
- Photo journal during trip
- Trip sharing as travel guide
- Admin destination content management
- Adventure-inspiring responsive design`},{id:264,title:"Hostel Booking Platform",category:"travel",emoji:"",prompt:`Build a hostel and budget accommodation booking platform:

**Features:**
- Hostel listings with dorm and private room options
- Photo gallery with 360-degree room views
- Real-time availability and instant booking
- Guest reviews and ratings
- Map-based search with proximity to attractions
- Price comparison and best deal alerts
- Hostel amenities filtering (WiFi, kitchen, lockers)
- Social features (find travel buddies at same hostel)
- Group booking for backpacker groups
- Cancellation policy management
- Hostel owner dashboard
- Admin platform moderation
- Backpacker-friendly, youthful responsive design`},{id:265,title:"Tour Guide Marketplace",category:"travel",emoji:"",prompt:`Build a local tour guide booking marketplace:

**Features:**
- Guide profiles with languages, specialties, and reviews
- Tour listings with itinerary, duration, and pricing
- Real-time availability calendar
- Instant booking and messaging
- Custom tour request system
- Group and private tour options
- Photo gallery from past tours
- Guide certification and verification
- Traveler reviews with photos
- Multi-currency pricing
- Guide earnings and payout dashboard
- Admin guide approval and content management
- Exploratory, cultural responsive design`},{id:266,title:"Airport Companion App",category:"travel",emoji:"",prompt:`Build an airport information and services companion app:

**Features:**
- Flight status tracking with real-time updates
- Airport terminal maps with gate navigation
- Lounge access booking and reviews
- Restaurant and shop directory per terminal
- Security wait time estimates
- Parking reservation and tracking
- Duty-free pre-order for pickup
- Currency exchange rate comparison
- Travel insurance quick-purchase
- Airport WiFi connection guide
- Delay compensation claim assistant
- Admin airport data management
- Travel-smart, informative responsive design`},{id:267,title:"Visa Application Tracker",category:"travel",emoji:"",prompt:`Build a visa application tracking and guidance platform:

**Features:**
- Visa requirement checker by nationality and destination
- Document checklist generator per visa type
- Application progress tracker with status updates
- Appointment scheduling reminders
- Document upload and organization
- Processing time estimates
- Visa fee calculator with currency conversion
- Embassy and consulate directory
- Community tips and experiences
- Application history for frequent travelers
- Notification alerts for status changes
- Admin visa information database management
- Official, trustworthy responsive design`},{id:268,title:"Campervan Rental Platform",category:"travel",emoji:"",prompt:`Build a campervan and RV rental marketplace:

**Features:**
- Vehicle listings with specifications and photos
- Availability calendar with booking system
- Route suggestions and campsite recommendations
- Insurance and roadside assistance options
- Renter reviews and ratings
- Vehicle owner dashboard with earnings
- Equipment add-ons (camping gear, bike rack)
- Pickup and drop-off location management
- Mileage tracking and fuel estimates
- Trip diary and photo sharing
- Admin platform management and safety compliance
- Adventurous, outdoor-lifestyle responsive design`},{id:269,title:"Language & Culture Guide",category:"travel",emoji:"",prompt:`Build a travel language and cultural etiquette guide app:

**Features:**
- Essential phrase lists by country/language
- Audio pronunciation for common phrases
- Cultural do's and don'ts per destination
- Offline phrase access for travelers
- Restaurant ordering helper
- Emergency phrase quick-access
- Tipping and customs guide
- Currency and measurement conversions
- Local festival and holiday calendar
- Community-contributed travel tips
- Favorite phrases and custom lists
- Admin content management for destinations
- Global, culturally-rich responsive design`},{id:270,title:"Property Auction Platform",category:"realestate",emoji:"",prompt:`Build a real estate auction platform:

**Features:**
- Property listings with auction dates and starting bids
- Virtual property tours (video/3D)
- Real-time bidding with countdown
- Bid history and notifications
- Pre-auction property reports
- Financing pre-approval integration
- Auction calendar by location
- Property alerts matching criteria
- Legal document repository per property
- Buyer registration and verification
- Auctioneer dashboard with lot management
- Admin platform management and compliance
- Premium, authoritative responsive design`},{id:271,title:"Roommate Finder",category:"realestate",emoji:"",prompt:`Build a roommate matching and room rental platform:

**Features:**
- Listing creation for available rooms
- Roommate profile with lifestyle preferences
- Compatibility matching algorithm
- In-app messaging for prospective matches
- Room photos and virtual tour
- Budget and location preference filtering
- Background check integration
- Move-in date coordination
- Shared expense agreement templates
- Community reviews and references
- Admin moderation and safety features
- Friendly, welcoming responsive design`},{id:272,title:"Construction Progress Tracker",category:"realestate",emoji:"",prompt:`Build a construction project progress tracking platform:

**Features:**
- Project timeline with milestone tracking
- Photo documentation by construction phase
- Budget tracking with cost breakdowns
- Daily progress reports
- Contractor and subcontractor management
- Material ordering and delivery tracking
- Inspection scheduling and checklists
- Client portal for homeowners
- Change order management
- Safety incident logging
- Weather delay tracking
- Admin multi-project dashboard
- Professional, construction-industry responsive design`},{id:273,title:"Client Portal",category:"crm",emoji:"",prompt:`Build a white-label client portal for service businesses:

**Features:**
- Custom branding per business
- Project status dashboard for clients
- File sharing and document management
- Invoice viewing and online payment
- Support ticket system
- Meeting scheduling
- Progress reports and deliverables
- Feedback and approval workflows
- Client messaging with team
- Contract and agreement management
- Activity timeline per project
- Admin panel for multi-tenant management
- Professional, customizable responsive design`},{id:274,title:"Sales Pipeline CRM",category:"crm",emoji:"",prompt:`Build a sales pipeline management CRM:

**Features:**
- Visual pipeline with drag-and-drop deal stages
- Contact and company database
- Deal tracking with value and probability
- Activity logging (calls, emails, meetings)
- Task management with reminders
- Email templates and tracking
- Sales forecasting with charts
- Team performance dashboard
- Lead scoring and prioritization
- Win/loss analysis reports
- Import/export contacts (CSV)
- Admin pipeline and team management
- Sales-focused, action-oriented responsive design`},{id:275,title:"HR Management System",category:"crm",emoji:"",prompt:`Build a human resources management system:

**Features:**
- Employee directory with profiles
- Leave management with approval workflow
- Attendance tracking with clock-in/out
- Performance review cycles
- Job posting and applicant tracking
- Employee document management
- Organization chart visualization
- Announcement and policy board
- Training and development tracking
- Exit interview and offboarding workflow
- HR analytics dashboard
- Admin configuration and compliance
- Organized, corporate responsive design`},{id:276,title:"Appointment Booking System",category:"crm",emoji:"",prompt:`Build a service appointment booking system:

**Features:**
- Service catalog with duration and pricing
- Staff scheduling and availability management
- Online booking with calendar view
- Automated confirmation and reminder emails/SMS
- Buffer time between appointments
- Client history and notes
- Recurring appointment support
- Waitlist management
- Revenue reports by service and staff
- Multi-location support
- Client review and feedback collection
- Admin business configuration
- Service-oriented, clean responsive design`},{id:277,title:"Vendor Management Platform",category:"crm",emoji:"",prompt:`Build a vendor management and procurement platform:

**Features:**
- Vendor database with profiles and documentation
- RFQ (Request for Quotation) creation and management
- Bid comparison and evaluation
- Purchase order generation and approval workflow
- Contract management with expiry alerts
- Vendor performance scoring
- Invoice matching and payment tracking
- Compliance document tracking
- Spend analysis by vendor and category
- Vendor onboarding workflow
- Communication history log
- Admin procurement policy management
- Enterprise, professional responsive design`},{id:278,title:"Event Management Platform",category:"crm",emoji:"",prompt:`Build a comprehensive event management platform:

**Features:**
- Event creation with details, agenda, and speakers
- Ticket sales with multiple tier options
- Attendee registration and check-in
- Event landing page builder
- Speaker and sponsor management
- Session scheduling with room assignments
- Networking features for attendees
- Live polling and Q&A during sessions
- Post-event survey collection
- Photo and video gallery
- Sponsor dashboard with analytics
- Admin panel for multi-event management
- Event-industry professional responsive design`},{id:279,title:"Legal Case Management",category:"crm",emoji:"",prompt:`Build a legal case management system:

**Features:**
- Case file creation with details and classification
- Client database with contact management
- Document management with version control
- Court date calendar and reminders
- Time tracking for billable hours
- Invoice generation per case
- Task assignment to legal team
- Case timeline and status tracking
- Conflict of interest checking
- Deadline management with alerts
- Secure client communication portal
- Admin firm-wide analytics and management
- Authoritative, legal-industry responsive design`},{id:280,title:"Photography Portfolio",category:"portfolio",emoji:"",prompt:`Build a photographer portfolio and booking platform:

**Features:**
- Gallery with masonry grid and lightbox viewer
- Portfolio categories (Wedding, Portrait, Landscape, Commercial)
- Session booking with package selection
- Client proofing gallery with download permissions
- Pricing packages display
- About page with photographer story
- Blog for behind-the-scenes content
- Contact form with inquiry management
- Social media integration
- Testimonial showcase
- Admin gallery and booking management
- Stunning, image-focused responsive design`},{id:281,title:"Developer Portfolio",category:"portfolio",emoji:"",prompt:`Build a developer portfolio website with interactive elements:

**Features:**
- Hero section with animated introduction
- Projects showcase with tech stack tags and live demos
- GitHub repository integration with contribution graph
- Skills section with proficiency visualization
- Work experience timeline
- Blog with code syntax highlighting
- Contact form with email integration
- Downloadable resume/CV
- Testimonials from clients/colleagues
- Dark/light mode toggle
- Smooth scroll animations
- SEO optimized with meta tags
- Modern, tech-inspired responsive design`},{id:282,title:"Newsletter Platform",category:"portfolio",emoji:"",prompt:`Build a newsletter creation and subscription platform:

**Features:**
- Newsletter editor with rich formatting
- Subscriber management with segments
- Scheduling and automated sending
- Email template library
- Analytics (open rate, click rate, growth)
- Subscription forms and landing pages
- Paid newsletter option with Stripe
- Archive of past newsletters
- A/B testing for subject lines
- Unsubscribe and preference management
- Custom domain email sending
- Admin platform management
- Writer-focused, editorial responsive design`},{id:283,title:"Podcast Website Builder",category:"portfolio",emoji:"",prompt:`Build a podcast website builder platform:

**Features:**
- Customizable podcast website templates
- RSS feed generation and management
- Episode publishing with show notes
- Audio player with playlist support
- Guest profile pages
- Transcript publishing and search
- Listener statistics and analytics
- Sponsorship and ad slot management
- Newsletter signup integration
- Social sharing for episodes
- Review aggregation from podcast platforms
- Admin multi-show management
- Audio-centric, immersive responsive design`},{id:284,title:"Art Portfolio & Commission",category:"portfolio",emoji:"",prompt:`Build an artist portfolio and commission platform:

**Features:**
- Artwork gallery with categories and tags
- Commission status page (open/closed)
- Commission request form with style selection
- Pricing tiers and turnaround times
- Work-in-progress sharing with clients
- Digital and print store for artwork
- About page with artistic journey
- Process videos and tutorials
- Social media feed integration
- Fan community and comments
- Admin order and portfolio management
- Gallery-worthy, artistic responsive design`},{id:285,title:"URL Shortener & Analytics",category:"utility",emoji:"",prompt:`Build a URL shortening service with analytics:

**Features:**
- URL shortening with custom aliases
- QR code generation for shortened URLs
- Click analytics (total, unique, by country, device)
- Link expiration and password protection
- Bulk URL shortening
- Campaign tracking with UTM parameters
- API access for developers
- Custom branded domains
- Link health monitoring (broken link detection)
- Team workspace for shared links
- Export analytics reports
- Admin platform management
- Data-focused, clean responsive design`},{id:286,title:"File Conversion Tool",category:"utility",emoji:"",prompt:`Build an online file conversion tool:

**Features:**
- Multiple format conversions (image, document, audio, video)
- Drag-and-drop file upload
- Batch conversion support
- Conversion quality settings
- File preview before and after conversion
- Download history
- API for programmatic access
- File size limits with progress indicators
- Popular conversions shortcuts (PDF to Word, PNG to JPG)
- Conversion queue management
- Privacy-focused (auto-delete after download)
- Admin platform monitoring
- Utility-focused, simple responsive design`},{id:287,title:"Password Manager",category:"utility",emoji:"",prompt:`Build a secure password manager application:

**Features:**
- Encrypted password vault with master password
- Password generator with customizable rules
- Auto-fill browser extension support
- Folder and category organization
- Secure notes storage
- Password strength auditing
- Breach monitoring and alerts
- Shared vault for teams/family
- Two-factor authentication
- Import/export from other managers
- Emergency access for trusted contacts
- Admin team management
- Security-focused, trustworthy responsive design`},{id:288,title:"Color Palette Generator",category:"utility",emoji:"",prompt:`Build a color palette generation and management tool:

**Features:**
- AI-powered color palette generation
- Color harmony rules (complementary, triadic, analogous)
- Extract colors from uploaded images
- Accessibility contrast checker (WCAG)
- Palette saving and organization
- Export to CSS, SCSS, Tailwind, Figma
- Color blindness simulation preview
- Gradient generator
- Color naming and information (HEX, RGB, HSL)
- Community palette sharing and trending
- Brand color management
- Admin featured palettes
- Colorful, designer-focused responsive design`},{id:289,title:"Markdown Editor",category:"utility",emoji:"",prompt:`Build a feature-rich online markdown editor:

**Features:**
- Split-pane editor with live preview
- Syntax highlighting with code blocks
- Table of contents auto-generation
- Image upload and embedding
- Export to PDF, HTML, and DOCX
- Document versioning and auto-save
- Collaborative editing with sharing
- Custom CSS themes for preview
- Keyboard shortcuts for formatting
- Full-screen writing mode
- File management with folders
- Admin user management
- Writer-focused, distraction-free responsive design`},{id:290,title:"Screenshot & Mockup Tool",category:"utility",emoji:"",prompt:`Build a screenshot beautification and mockup generator:

**Features:**
- Screenshot upload with drag-and-drop
- Device frame mockups (iPhone, MacBook, browser)
- Background customization (gradients, patterns, colors)
- Shadow and padding adjustments
- Text and annotation overlay
- Batch processing for multiple screenshots
- Template presets for social media sizes
- Direct export to PNG, JPG, SVG
- Workspace for project organization
- Undo/redo with editing history
- Keyboard shortcuts
- Admin template management
- Creative, design-tool responsive design`},{id:291,title:"API Documentation Builder",category:"utility",emoji:"",prompt:`Build an interactive API documentation platform:

**Features:**
- OpenAPI/Swagger spec import
- Interactive API endpoint testing
- Code sample generation (cURL, JS, Python, etc.)
- Authentication flow documentation
- Request/response schema visualization
- Markdown content for guides and tutorials
- Versioning support for multiple API versions
- Search across all documentation
- Changelog generation
- Custom domain and branding
- Team collaboration on docs
- Admin API spec management
- Developer-friendly, technical responsive design`},{id:292,title:"AI Resume Builder",category:"ai",emoji:"",prompt:`Build an AI-powered resume builder platform:

**Features:**
- Resume templates with ATS-friendly designs
- AI content suggestions for work experience
- Keyword optimization for job descriptions
- Multiple export formats (PDF, DOCX)
- Cover letter generator
- LinkedIn profile import
- Skills matching with job requirements
- Resume scoring and improvement tips
- Multiple resume versions per user
- Portfolio and project showcase integration
- Admin template and AI model management
- Professional, career-focused responsive design`},{id:293,title:"AI Meeting Summarizer",category:"ai",emoji:"",prompt:`Build an AI meeting summarization platform:

**Features:**
- Audio/video meeting upload
- AI transcription with speaker identification
- Automatic summary generation with key points
- Action items extraction with assignments
- Decision log from meeting content
- Searchable transcript archive
- Meeting analytics (duration, participation)
- Calendar integration for meeting context
- Share summaries with team members
- Follow-up task creation from action items
- Meeting template management
- Admin organization settings
- Productivity-focused, clean responsive design`},{id:294,title:"AI Content Calendar",category:"ai",emoji:"",prompt:`Build an AI-powered content calendar and planning tool:

**Features:**
- Calendar view with content scheduling
- AI content idea generation by niche
- Post drafting with AI writing assistant
- Multi-platform scheduling (blog, social, newsletter)
- Content pillar and category management
- Collaboration with team assignments
- Content performance tracking
- Hashtag and keyword research
- Competitor content monitoring
- Content repurposing suggestions
- Approval workflow
- Admin team and brand management
- Creative, marketing-focused responsive design`},{id:295,title:"AI Customer Support Bot",category:"ai",emoji:"",prompt:`Build an AI-powered customer support chatbot platform:

**Features:**
- Chatbot builder with no-code flow designer
- Knowledge base integration for answers
- Live chat handoff to human agents
- Multi-channel deployment (website, messaging)
- Conversation analytics and insights
- Intent recognition and entity extraction
- Canned response library
- Customer satisfaction rating per conversation
- Agent dashboard with queue management
- Training data management
- Integration with ticketing systems
- Admin bot and team management
- Support-focused, professional responsive design`},{id:296,title:"AI Data Visualization",category:"ai",emoji:"",prompt:`Build an AI-powered data visualization platform:

**Features:**
- CSV/JSON data upload and parsing
- AI-suggested chart types based on data
- Multiple chart types (bar, line, pie, scatter, heatmap)
- Natural language query for data insights
- Dashboard builder with drag-and-drop widgets
- Filter and drill-down capabilities
- Automated report generation
- Data transformation and cleaning tools
- Chart customization (colors, labels, legends)
- Export charts as images and reports as PDF
- Collaboration and sharing
- Admin data source management
- Data-rich, analytical responsive design`},{id:297,title:"AI Email Writer",category:"ai",emoji:"",prompt:`Build an AI email composition assistant:

**Features:**
- Email drafting with tone selection (formal, casual, friendly)
- Template library for common email types
- Subject line optimization with A/B suggestions
- Reply suggestions from received email context
- Grammar and clarity improvement
- Multi-language email translation
- Email scheduling
- Follow-up reminder system
- Contact management with context notes
- Email analytics (response rates)
- Signature management
- Admin template and model management
- Communication-focused responsive design`},{id:298,title:"AI Study Notes Generator",category:"ai",emoji:"",prompt:`Build an AI study notes generation platform:

**Features:**
- PDF/text upload for source material
- AI-generated summary notes with key concepts
- Flashcard auto-generation from notes
- Mind map visualization of topics
- Quiz generation from study material
- Highlight and annotate source documents
- Study plan creation based on exam date
- Collaboration with study groups
- Spaced repetition scheduling
- Progress tracking per subject
- Export notes in multiple formats
- Admin content management
- Academic, study-focused responsive design`},{id:299,title:"AI Social Media Manager",category:"ai",emoji:"",prompt:`Build an AI-powered social media management platform:

**Features:**
- Multi-platform post scheduling (Instagram, Twitter, LinkedIn)
- AI caption and hashtag generation
- Content calendar with visual planning
- Image resize and optimization per platform
- Analytics dashboard with engagement metrics
- Competitor analysis and benchmarking
- Best time to post recommendations
- Content performance scoring
- Team collaboration with approval workflows
- Reply and comment management
- Brand voice consistency checker
- Admin multi-brand management
- Social media-inspired vibrant responsive design`},{id:300,title:"AI Video Script Generator",category:"ai",emoji:"",prompt:`Build an AI video script generation platform:

**Features:**
- Script generation from topic or outline
- Multiple video formats (YouTube, TikTok, Reel, Ad)
- Tone and audience targeting options
- Scene-by-scene breakdown with visual suggestions
- Voiceover script with timing markers
- Hook and CTA optimization
- Script versioning and A/B options
- Storyboard generation from script
- Teleprompter mode for recording
- Collaboration with editors
- Template library for popular formats
- Admin model and template management
- Creative, video-production responsive design`},{id:301,title:"AI Customer Support Chatbot",category:"ai",emoji:"",prompt:`Build an AI-powered customer support chatbot platform:

**Features:**
- Conversational AI chatbot with natural language understanding
- Knowledge base builder (upload docs, FAQs, website URLs)
- Multi-channel deployment (website widget, API)
- Conversation history and analytics
- Human handoff when AI can't resolve
- Intent recognition and entity extraction
- Customizable bot personality and tone
- Quick reply buttons and card carousels
- User satisfaction rating after conversations
- Training interface to improve responses
- Multi-language support
- Canned responses for common queries
- Admin dashboard with conversation metrics
- Modern chat-inspired responsive design`},{id:302,title:"AI Personal Assistant Chatbot",category:"ai",emoji:"",prompt:`Build an AI personal assistant chatbot application:

**Features:**
- Conversational AI with memory of past interactions
- Task management (create, update, delete tasks via chat)
- Calendar scheduling and reminders
- Weather, news, and general knowledge queries
- Note-taking through conversation
- Smart suggestions based on user habits
- Voice input support (speech-to-text)
- Multi-conversation threads with context switching
- Export conversation history
- Customizable assistant persona and name
- Dark/light mode with chat bubble UI
- Typing indicators and message timestamps
- Mobile-responsive messenger-style design`},{id:303,title:"AI Code Assistant Chatbot",category:"ai",emoji:"",prompt:`Build an AI-powered code assistant chatbot:

**Features:**
- Code generation from natural language descriptions
- Code explanation and documentation generation
- Bug detection and fix suggestions
- Multi-language support (Python, JavaScript, TypeScript, etc.)
- Syntax-highlighted code blocks in chat
- Code diff view for suggestions
- Copy code button with one click
- Conversation history with code snippets
- Project context awareness (paste code for context)
- Unit test generation from code
- Code refactoring suggestions
- API documentation lookup
- Dark IDE-themed responsive design`},{id:304,title:"AI Mental Health Companion",category:"ai",emoji:"",prompt:`Build an AI mental health support chatbot:

**Features:**
- Empathetic conversational AI for emotional support
- Mood tracking with daily check-ins
- Guided breathing and meditation exercises
- Journaling prompts and reflection questions
- Crisis detection with emergency resource links
- CBT-based conversation techniques
- Progress visualization over time
- Anonymous usage (no account required option)
- Conversation themes (anxiety, stress, sleep, relationships)
- Resource library with coping strategies
- Weekly mood reports and insights
- Calming UI with soothing color palette
- Privacy-focused responsive design`},{id:305,title:"AI Language Learning Chatbot",category:"ai",emoji:"",prompt:`Build an AI-powered language learning chatbot:

**Features:**
- Conversational practice in target language
- Grammar correction with explanations
- Vocabulary building through context
- Difficulty level adaptation (beginner to advanced)
- Role-play scenarios (restaurant, airport, hotel, etc.)
- Pronunciation tips and phonetic guides
- Daily conversation challenges
- Progress tracking with proficiency scores
- Flashcard generation from conversations
- Cultural context and idiom explanations
- Multiple language support (10+ languages)
- Streak tracking and achievements
- Colorful, educational responsive design`},{id:306,title:"AI Sales Assistant Chatbot",category:"ai",emoji:"",prompt:`Build an AI sales assistant chatbot for businesses:

**Features:**
- Lead qualification through conversational flow
- Product recommendation engine
- Pricing calculator and quote generation
- Meeting scheduling integration
- CRM data integration and lead scoring
- Objection handling with smart responses
- Follow-up email generation
- Conversation analytics and conversion metrics
- A/B testing for conversation flows
- Multi-product catalog awareness
- Handoff to human sales rep
- Custom branding and widget styling
- Professional business-themed responsive design`},{id:307,title:"AI Recipe & Cooking Chatbot",category:"ai",emoji:"",prompt:`Build an AI cooking assistant chatbot:

**Features:**
- Recipe suggestions based on available ingredients
- Step-by-step cooking instructions via chat
- Dietary restriction awareness (vegan, gluten-free, halal, etc.)
- Nutritional information and calorie counting
- Meal planning for the week
- Grocery list generation from recipes
- Cooking timer integration
- Substitution suggestions for missing ingredients
- Cuisine preference learning over time
- Save favorite recipes from conversations
- Photo-based ingredient recognition
- Cooking tips and technique explanations
- Warm, kitchen-themed responsive design`},{id:308,title:"AI Legal Advisor Chatbot",category:"ai",emoji:"",prompt:`Build an AI legal information chatbot:

**Features:**
- Legal question answering with jurisdiction awareness
- Document template generation (contracts, NDAs, agreements)
- Legal term explanations in plain language
- Case law reference and citation
- Rights and obligations information
- Step-by-step legal process guides
- Document review suggestions
- Disclaimer and limitation notices
- Category-based legal topics (employment, property, family, business)
- Save and export legal documents
- Lawyer referral suggestions for complex cases
- Conversation history with case tracking
- Professional, trustworthy responsive design`},{id:309,title:"AI Study Buddy Chatbot",category:"ai",emoji:"",prompt:`Build an AI study companion chatbot:

**Features:**
- Subject-specific tutoring (Math, Science, History, etc.)
- Concept explanation with examples and analogies
- Practice problem generation and solving
- Quiz creation from study materials
- Flashcard generation from conversations
- Study schedule and plan creation
- Homework help with step-by-step solutions
- Exam preparation with mock tests
- Note summarization from pasted text
- Learning style adaptation
- Progress tracking per subject
- Pomodoro timer integration
- Academic, study-friendly responsive design`},{id:310,title:"AI Travel Planning Chatbot",category:"ai",emoji:"",prompt:`Build an AI travel planning assistant chatbot:

**Features:**
- Destination recommendations based on preferences
- Itinerary generation with day-by-day plans
- Budget estimation and cost breakdown
- Flight and hotel suggestion (informational)
- Local attractions and hidden gems
- Packing list generation based on destination and weather
- Visa and travel requirement information
- Currency conversion and travel tips
- Restaurant and food recommendations
- Safety tips and emergency contacts
- Save and export travel plans as PDF
- Multi-trip management
- Wanderlust-inspiring responsive design`},{id:311,title:"AI Fitness Coach Chatbot",category:"ai",emoji:"",prompt:`Build an AI fitness coaching chatbot:

**Features:**
- Personalized workout plan generation
- Exercise demonstration descriptions and form tips
- Progress tracking (weight, reps, sets)
- Nutrition advice and meal suggestions
- Calorie and macro tracking via chat
- Workout scheduling and reminders
- Injury prevention tips
- Goal setting (weight loss, muscle gain, endurance)
- Rest day recommendations
- Weekly progress reports
- Exercise alternatives for equipment availability
- Motivational messages and streak tracking
- Energetic, fitness-themed responsive design`},{id:312,title:"AI Resume Builder Chatbot",category:"ai",emoji:"",prompt:`Build an AI resume building chatbot:

**Features:**
- Conversational resume creation step by step
- AI-powered bullet point enhancement
- Multiple resume template styles
- Job description matching and optimization
- ATS compatibility scoring
- Cover letter generation
- Skills and keyword suggestions
- Experience description improvement
- PDF and DOCX export
- Multiple resume versions for different roles
- Interview preparation tips
- LinkedIn profile optimization suggestions
- Professional, clean responsive design`},{id:313,title:"AI Creative Writing Chatbot",category:"ai",emoji:"",prompt:`Build an AI creative writing assistant chatbot:

**Features:**
- Story idea generation and brainstorming
- Character development assistance
- Plot structure suggestions (three-act, hero's journey)
- Dialogue writing and improvement
- World-building assistance for fantasy/sci-fi
- Writing prompt generation
- Style and tone adjustment
- Grammar and prose improvement
- Chapter outline creation
- Writer's block solutions
- Genre-specific writing tips
- Save and organize writing projects
- Inspiring, literary-themed responsive design`},{id:314,title:"AI Financial Advisor Chatbot",category:"ai",emoji:"",prompt:`Build an AI financial advisory chatbot:

**Features:**
- Budget planning and expense tracking via chat
- Investment basics education
- Savings goal setting and tracking
- Debt repayment strategy suggestions
- Tax planning tips and information
- Retirement planning calculations
- Risk assessment questionnaire
- Financial term explanations
- Monthly financial health reports
- Spending pattern analysis
- Bill reminder scheduling
- Emergency fund planning
- Trustworthy, finance-themed responsive design`},{id:315,title:"AI Music Recommendation Chatbot",category:"ai",emoji:"",prompt:`Build an AI music recommendation chatbot:

**Features:**
- Music recommendations based on mood and preferences
- Genre exploration and discovery
- Artist and album information
- Playlist creation from conversation
- Similar artist and song suggestions
- Music trivia and facts
- Lyrics analysis and meaning
- Concert and event recommendations
- Listening history tracking
- Mood-based playlist generation
- Music theory explanations
- New release alerts for favorite artists
- Vibrant, music-themed responsive design`},{id:316,title:"AI E-commerce Product Advisor",category:"ai",emoji:"",prompt:`Build an AI shopping advisor chatbot:

**Features:**
- Product recommendations based on needs and budget
- Comparison between similar products
- Feature explanation in simple terms
- Price tracking and deal alerts
- Review summarization for products
- Size and compatibility checking
- Gift suggestion based on recipient profile
- Wishlist creation through conversation
- Brand information and alternatives
- Return policy and warranty explanations
- Seasonal deal recommendations
- Product category expertise
- Shopping-inspired responsive design`},{id:317,title:"AI Interview Prep Chatbot",category:"ai",emoji:"",prompt:`Build an AI interview preparation chatbot:

**Features:**
- Mock interview simulations by job role
- Common interview question practice
- STAR method response coaching
- Technical interview preparation (coding, system design)
- Behavioral question practice with feedback
- Industry-specific question banks
- Body language and presentation tips
- Salary negotiation coaching
- Company research assistance
- Follow-up email templates
- Confidence-building exercises
- Performance scoring and improvement tracking
- Professional, confidence-inspiring responsive design`},{id:318,title:"AI Home Design Chatbot",category:"ai",emoji:"",prompt:`Build an AI interior design assistant chatbot:

**Features:**
- Room design suggestions based on style preferences
- Color palette recommendations
- Furniture arrangement tips
- Budget-friendly decoration ideas
- Style quiz (modern, minimalist, bohemian, industrial, etc.)
- Shopping suggestions for furniture and decor
- Room-by-room design guidance
- Feng shui and space optimization tips
- Before/after visualization descriptions
- Seasonal decoration ideas
- DIY project suggestions
- Material and finish recommendations
- Elegant, design-focused responsive design`},{id:319,title:"AI Pet Care Chatbot",category:"ai",emoji:"",prompt:`Build an AI pet care assistant chatbot:

**Features:**
- Pet health symptom checker
- Breed-specific care information
- Feeding schedule and nutrition advice
- Training tips and behavior solutions
- Vaccination and vet visit reminders
- Exercise recommendations by breed
- Grooming guides and schedules
- Pet-safe food and toxin information
- New pet owner guides
- Emergency first aid instructions
- Pet age calculator and life stage info
- Local vet and pet service finder
- Playful, pet-themed responsive design`},{id:320,title:"AI News Summarizer Chatbot",category:"ai",emoji:"",prompt:`Build an AI news summarization chatbot:

**Features:**
- Daily news briefing by category
- Article summarization from URLs
- Topic-based news tracking
- Multiple news source aggregation
- Bias detection and balanced perspective
- Key points extraction with bullet summaries
- Custom news feed based on interests
- Breaking news alerts
- Historical context for current events
- Related articles and deep dive suggestions
- Save and bookmark important stories
- Weekly news digest generation
- Clean, editorial-style responsive design`},{id:321,title:"AI Debate Partner Chatbot",category:"ai",emoji:"",prompt:`Build an AI debate practice chatbot:

**Features:**
- Take opposing viewpoints on any topic
- Argument structure coaching
- Evidence and source suggestions
- Logical fallacy detection
- Counterargument generation
- Debate format practice (Lincoln-Douglas, parliamentary)
- Topic research assistance
- Persuasion technique coaching
- Scoring and feedback on arguments
- Debate history and improvement tracking
- Current events debate topics
- Critical thinking exercises
- Bold, debate-themed responsive design`},{id:322,title:"AI Story Game Chatbot",category:"ai",emoji:"",prompt:`Build an AI interactive story game chatbot:

**Features:**
- Choose-your-own-adventure storytelling
- Dynamic story generation based on choices
- Multiple genres (fantasy, sci-fi, mystery, horror, romance)
- Character creation and customization
- Inventory and stats system
- Save and resume stories
- Branching narrative with multiple endings
- Dice roll and random event system
- NPC interactions with personality
- Achievement and badge system
- Share completed stories
- Community story templates
- Immersive, game-inspired responsive design`},{id:323,title:"AI Email Writer Chatbot",category:"ai",emoji:"",prompt:`Build an AI email composition chatbot:

**Features:**
- Professional email drafting from brief descriptions
- Tone adjustment (formal, casual, persuasive, apologetic)
- Email reply suggestions
- Follow-up email generation
- Cold outreach email crafting
- Subject line optimization
- Email templates for common scenarios
- Grammar and clarity improvement
- Multi-language email support
- Email thread summarization
- Meeting request and scheduling emails
- Complaint and feedback email assistance
- Clean, productivity-focused responsive design`},{id:324,title:"AI Data Analysis Chatbot",category:"ai",emoji:"",prompt:`Build an AI data analysis assistant chatbot:

**Features:**
- CSV/JSON data upload and parsing
- Natural language data querying
- Chart and visualization generation from data
- Statistical analysis (mean, median, trends)
- Data cleaning suggestions
- Correlation and pattern detection
- Report generation from analysis
- SQL query generation from questions
- Data visualization recommendations
- Export results as charts or tables
- Comparative analysis between datasets
- Insight summarization
- Data-driven, analytical responsive design`},{id:325,title:"AI Content Moderator Chatbot",category:"ai",emoji:"",prompt:`Build an AI content moderation assistant:

**Features:**
- Text content toxicity detection
- Spam and promotional content filtering
- Hate speech and harassment detection
- Sentiment analysis for user content
- Custom moderation rules engine
- Bulk content review queue
- Moderation decision logging
- Appeal handling workflow
- Content categorization and tagging
- User risk scoring
- Automated action triggers (warn, mute, ban)
- Moderation analytics dashboard
- Admin-focused, security-themed responsive design`},{id:326,title:"AI Meeting Notes Chatbot",category:"ai",emoji:"",prompt:`Build an AI meeting notes assistant chatbot:

**Features:**
- Meeting transcript summarization
- Action item extraction from notes
- Key decision highlighting
- Attendee and topic tagging
- Follow-up task generation
- Meeting agenda creation
- Previous meeting context recall
- Search across all meeting notes
- Share summaries with team members
- Calendar integration for meeting scheduling
- Template-based meeting formats
- Export notes as PDF or markdown
- Professional, productivity-themed responsive design`},{id:327,title:"AI Accessibility Advisor Chatbot",category:"ai",emoji:"",prompt:`Build an AI web accessibility advisor chatbot:

**Features:**
- WCAG compliance checking from URL or code
- Accessibility issue explanation in plain language
- Fix suggestions with code examples
- Color contrast checking and alternatives
- Alt text generation suggestions
- ARIA attribute guidance
- Keyboard navigation testing tips
- Screen reader compatibility advice
- Accessibility score and reporting
- Best practices by component type
- Legal compliance information (ADA, Section 508)
- Accessibility checklist generation
- Inclusive, accessibility-focused responsive design`},{id:328,title:"AI Startup Advisor Chatbot",category:"ai",emoji:"",prompt:`Build an AI startup advisory chatbot:

**Features:**
- Business idea validation and feedback
- Market analysis and competitor research
- Business model canvas generation
- Pitch deck content assistance
- Funding strategy and investor matching
- MVP feature prioritization
- Go-to-market strategy planning
- Financial projection assistance
- Legal structure recommendations
- Team building and hiring advice
- Growth hacking strategies
- Startup terminology glossary
- Bold, entrepreneurial responsive design`},{id:329,title:"AI Prompt Engineering Chatbot",category:"ai",emoji:"",prompt:`Build an AI prompt engineering assistant chatbot:

**Features:**
- Prompt optimization and improvement suggestions
- Prompt template library for various use cases
- A/B testing for prompt variations
- Prompt structure analysis and scoring
- Chain-of-thought prompt building
- System prompt crafting assistance
- Few-shot example generation
- Prompt debugging and error analysis
- Model-specific prompt optimization (GPT, Claude, Gemini)
- Prompt versioning and history
- Community prompt sharing
- Prompt performance metrics
- Tech-savvy, developer-themed responsive design`},{id:330,title:"AI Multi-Agent Orchestrator",category:"ai",emoji:"",prompt:`Build an AI multi-agent orchestration platform:

**Features:**
- Create and configure multiple AI agents with different roles
- Agent-to-agent communication and task delegation
- Workflow builder for multi-step AI processes
- Agent performance monitoring and logging
- Custom tool/function assignment per agent
- Parallel and sequential task execution
- Result aggregation from multiple agents
- Template workflows (research, content creation, analysis)
- Agent memory and context management
- Error handling and fallback strategies
- Cost tracking per agent and workflow
- Visual workflow designer
- Futuristic, tech-forward responsive design`}],l6=()=>{var E;const[n,e]=S.useState("all"),[t,i]=S.useState(""),[r,s]=S.useState(null),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(""),[p,m]=S.useState(""),[v,y]=S.useState(!1),{toast:x}=yf(),g=S.useMemo(()=>o6.filter(_=>{const C=n==="all"||_.category===n,A=!t||_.title.toLowerCase().includes(t.toLowerCase())||_.category.toLowerCase().includes(t.toLowerCase());return C&&A}),[n,t]),f=async _=>{await navigator.clipboard.writeText(_),o(!0),x({title:"Copied!",description:"Prompt  clipboard  copy "}),setTimeout(()=>o(!1),2e3)},b=async()=>{if(!r)return;c(!0),h("");const _=u||r.prompt,C=p.trim()?`User's additional instructions: ${p}

`:"";try{const{data:A,error:P}=await Ee.functions.invoke("execute-prompt",{body:{prompt:`${C}Improve and refine this coding project prompt to make it much better and more detailed:

${_}`}});if(P)throw P;if(A!=null&&A.error)throw new Error(A.error);h(A.result),m(""),y(!1),x({title:" Refined!",description:"Prompt  AI   "})}catch(A){x({title:"Error",description:A.message||"AI refine ",variant:"destructive"})}finally{c(!1)}},w=u||(r==null?void 0:r.prompt)||"",T=_=>{s(_),h(""),m(""),y(!1)};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Aw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(i0,{placeholder:"Project ...",value:t,onChange:_=>i(_.target.value),className:"pl-10 rounded-xl bg-background"})]}),d.jsx("div",{className:"flex flex-wrap gap-3",children:Dy.map(_=>n===_.id?d.jsx("button",{onClick:()=>{e(_.id),s(null),h("")},className:"glossy-project-btn ring-2 ring-primary/50 ring-offset-1 ring-offset-background",children:d.jsx("div",{className:"glossy-project-btn-wrap",children:d.jsxs("span",{className:"text-xs font-medium text-white/90",children:[_.emoji," ",_.label]})})},_.id):d.jsxs("button",{onClick:()=>{e(_.id),s(null),h("")},className:"px-3 py-1.5 rounded-xl text-xs font-medium transition-all bg-muted text-muted-foreground hover:bg-muted/80",children:[_.emoji," ",_.label]},_.id))}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length," project(s) "]}),r?d.jsxs("div",{className:"glass-card rounded-2xl p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("button",{onClick:()=>{s(null),h("")},className:"text-xs text-primary hover:underline mb-2 block",children:" "}),d.jsxs("h3",{className:"text-lg font-bold text-foreground",children:[r.emoji," ",r.title]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:(E=Dy.find(_=>_.id===r.category))==null?void 0:E.label}),u&&d.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:" AI Refined"})]})]}),d.jsxs("div",{className:"flex gap-2 shrink-0",children:[d.jsxs(ar,{size:"sm",variant:"outline",onClick:()=>y(!v),disabled:l,className:"rounded-xl",children:[d.jsx(Ur,{className:"w-4 h-4 mr-1"}),"AI Refine"]}),d.jsxs(ar,{size:"sm",onClick:()=>f(w),className:"rounded-xl",children:[a?d.jsx(oc,{className:"w-4 h-4 mr-1"}):d.jsx(Lm,{className:"w-4 h-4 mr-1"}),a?"Copied":"Copy"]})]})]}),v&&d.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 space-y-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"  /    (optional)"}),d.jsx(r0,{value:p,onChange:_=>m(_.target.value),placeholder:": Myanmar payment gateway , dark mode , mobile app  ...",className:"min-h-[60px] rounded-xl bg-background text-sm",rows:2}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ar,{size:"sm",onClick:b,disabled:l,className:"rounded-xl",children:l?d.jsxs(d.Fragment,{children:[d.jsx(Ds,{className:"w-4 h-4 mr-1 animate-spin"}),"Refining..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ur,{className:"w-4 h-4 mr-1"}),u?" Refine ":"Refine & Make Better"]})}),u&&d.jsx(ar,{size:"sm",variant:"ghost",onClick:()=>{h("")},className:"rounded-xl text-xs",children:"Original "})]})]}),d.jsx(c0,{className:"h-[50vh]",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-foreground/90 font-sans leading-relaxed",children:l?d.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx(Ds,{className:"w-4 h-4 animate-spin"}),"AI  prompt   ..."]}):w})})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto pr-1",children:g.map(_=>{var C;return d.jsx("button",{onClick:()=>T(_),className:"glass-card rounded-xl p-4 text-left hover:shadow-lg transition-all group",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl",children:_.emoji}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-semibold text-sm text-foreground group-hover:text-primary transition-colors truncate",children:_.title}),d.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:(C=Dy.find(A=>A.id===_.category))==null?void 0:C.label})]}),d.jsx(Xr,{className:"w-4 h-4 text-muted-foreground ml-auto shrink-0 -rotate-90 group-hover:text-primary transition-colors"})]})},_.id)})})]})},Xh=[{id:"generate-prompt",name:"Generate Prompt",emoji:"",description:"Prompt  generate "},{id:"execute-prompt",name:"Execute Prompt",emoji:"",description:"Prompt  AI  run "},{id:"chat",name:"AI Chat",emoji:"",description:"Chat message  "}],c6=()=>{const{session:n}=yn(),[e,t]=S.useState(Object.fromEntries(Xh.map(p=>[p.id,{name:p.name,status:"idle",message:""}]))),[i,r]=S.useState(!1),s=(p,m)=>{t(v=>({...v,[p]:{...v[p],...m}}))},a=async p=>{var v,y;if(!(n!=null&&n.access_token))return;s(p,{status:"testing",message:"Testing...",duration:void 0});const m=Date.now();try{let x;const g={Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdoZXNoYXZ6bHhoemd4dW16ZWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwOTgyMzIsImV4cCI6MjA4NjY3NDIzMn0.GO7p0TrLG6oZUZqhScFPTBcv27WhsHSvZbVwqBJz4MY"},f="https://gheshavzlxhzgxumzedd.supabase.co/functions/v1";switch(p){case"generate-prompt":x=await fetch(`${f}/generate-prompt`,{method:"POST",headers:g,body:JSON.stringify({topic:"API test",category:"general",tone:"professional"})});break;case"execute-prompt":x=await fetch(`${f}/execute-prompt`,{method:"POST",headers:g,body:JSON.stringify({prompt:"Say hello in one word."})});break;case"chat":x=await fetch(`${f}/chat`,{method:"POST",headers:g,body:JSON.stringify({messages:[{role:"user",content:"Hi, just testing. Reply with OK."}]})});break;default:throw new Error("Unknown test")}const b=Date.now()-m;if(x.ok)if(p==="chat")s(p,{status:"pass",message:" Streaming response received",duration:b});else{const w=await x.json(),T=((v=w.prompt)==null?void 0:v.substring(0,80))||((y=w.result)==null?void 0:y.substring(0,80))||(w.imageUrl?"Image URL received":"")||"Response received";s(p,{status:"pass",message:` ${T}...`,duration:b})}else{let w=`Status ${x.status}`;try{w=(await x.json()).error||w}catch{}s(p,{status:"fail",message:` ${w}`,duration:b})}}catch(x){const g=Date.now()-m;s(p,{status:"fail",message:` ${x instanceof Error?x.message:"Unknown error"}`,duration:g})}},o=async()=>{r(!0);for(const p of Xh)await a(p.id);r(!1)},l=()=>{t(Object.fromEntries(Xh.map(p=>[p.id,{name:p.name,status:"idle",message:""}])))},c=Object.values(e).filter(p=>p.status==="pass").length,u=Object.values(e).filter(p=>p.status==="fail").length,h=Object.values(e).filter(p=>p.status==="testing").length;return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:d.jsx(Rw,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-foreground",children:"API Key Test Center"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:" API Key  Function   "})]})]}),(c>0||u>0)&&d.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[c>0&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-emerald-500/15 text-emerald-400 border border-emerald-500/20",children:[d.jsx(_x,{className:"w-3 h-3"})," ",c," Passed"]}),u>0&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-red-500/15 text-red-400 border border-red-500/20",children:[d.jsx(C_,{className:"w-3 h-3"})," ",u," Failed"]}),h>0&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-blue-500/15 text-blue-400 border border-blue-500/20",children:[d.jsx(Ds,{className:"w-3 h-3 animate-spin"})," ",h," Testing"]})]}),d.jsxs("div",{className:"flex gap-3 mt-5",children:[d.jsxs("button",{onClick:o,disabled:i||!n,className:"fancy-button px-6 py-2.5 rounded-xl text-sm font-semibold flex items-center gap-2 disabled:opacity-50",children:[i?d.jsx(Ds,{className:"w-4 h-4 animate-spin"}):d.jsx(Jd,{className:"w-4 h-4"}),i?"Testing...":"Test All Functions"]}),d.jsxs("button",{onClick:l,className:"glossy-tab px-4 py-2.5 rounded-xl text-sm flex items-center gap-2",children:[d.jsx(jD,{className:"w-4 h-4"}),"Reset"]})]})]})]}),d.jsx("div",{className:"space-y-3",children:Xh.map(p=>{const m=e[p.id],v=m.status==="pass"?"border-emerald-500/30 bg-emerald-500/5":m.status==="fail"?"border-red-500/30 bg-red-500/5":m.status==="testing"?"border-blue-500/30 bg-blue-500/5":"border-border/50";return d.jsxs("div",{className:`glass-card rounded-xl p-4 border transition-all duration-300 ${v}`,children:[d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[d.jsx("span",{className:"text-2xl flex-shrink-0",children:p.emoji}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"font-semibold text-foreground text-sm",children:p.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[m.duration!==void 0&&d.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:[(m.duration/1e3).toFixed(1),"s"]}),m.status==="pass"&&d.jsx(_x,{className:"w-5 h-5 text-emerald-400"}),m.status==="fail"&&d.jsx(C_,{className:"w-5 h-5 text-red-400"}),m.status==="testing"&&d.jsx(Ds,{className:"w-5 h-5 text-blue-400 animate-spin"}),d.jsxs("button",{onClick:()=>a(p.id),disabled:m.status==="testing"||i||!n,className:"glossy-tab px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1 disabled:opacity-50",children:[d.jsx(ID,{className:"w-3 h-3"}),"Test"]})]})]}),m.message&&m.status!=="idle"&&d.jsx("div",{className:"mt-3 pt-3 border-t border-border/30",children:d.jsx("p",{className:"text-xs text-muted-foreground break-all leading-relaxed",children:m.message})})]},p.id)})}),!n&&d.jsx("div",{className:"glass-card rounded-xl p-4 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:" API Key Test  Login "})})]})},Oy=[{id:"all",label:"",emoji:""},{id:"3d",label:"3D Text",emoji:""},{id:"neon",label:"Neon & Glow",emoji:""},{id:"retro",label:"Retro & Vintage",emoji:""},{id:"metallic",label:"Metallic & Chrome",emoji:""},{id:"nature",label:"Nature & Organic",emoji:""},{id:"food",label:"Food & Candy",emoji:""},{id:"fire",label:"Fire & Ice",emoji:""},{id:"graffiti",label:"Graffiti & Street",emoji:""},{id:"fantasy",label:"Fantasy & Magic",emoji:""},{id:"tech",label:"Tech & Cyber",emoji:""},{id:"elegant",label:"Elegant & Luxury",emoji:""},{id:"horror",label:"Horror & Dark",emoji:""},{id:"cartoon",label:"Cartoon & Fun",emoji:""}],d6=[{id:1,title:"3D Bubble Text",category:"3d",emoji:"",sampleText:"BUBBLE",prompt:"Create a 3D bubble text effect with the word 'BUBBLE'. Glossy, inflated letters that look like they're made of translucent soap bubbles. Soft rainbow reflections on each letter surface. Floating against a dreamy pastel gradient background. Ultra-realistic rendering with ray-traced reflections."},{id:2,title:"3D Isometric Block",category:"3d",emoji:"",sampleText:"BUILD",prompt:"Design 3D isometric block letters spelling 'BUILD'. Each letter constructed from colorful building blocks like LEGO. Slight shadows beneath each block. Clean white background. Pixel-perfect isometric perspective with vibrant primary colors."},{id:3,title:"3D Glass Text",category:"3d",emoji:"",sampleText:"CRYSTAL",prompt:"Generate 3D glass text spelling 'CRYSTAL'. Transparent crystalline letters with light refracting through them. Caustic light patterns on the surface below. Set against a dark gradient background to show off the glass clarity. Photorealistic rendering."},{id:4,title:"3D Wooden Text",category:"3d",emoji:"",sampleText:"TIMBER",prompt:"Create 3D wooden carved text 'TIMBER'. Letters carved from rich oak wood with visible grain texture. Warm lighting casting soft shadows. Forest green moss growing on edges. Rustic workshop background slightly blurred."},{id:5,title:"3D Balloon Letters",category:"3d",emoji:"",sampleText:"PARTY",prompt:"Design 3D balloon letter text spelling 'PARTY'. Each letter is a shiny mylar balloon in different metallic colors (gold, silver, rose gold, blue, pink). Floating with curly ribbons hanging down. Confetti particles scattered. Bright celebration background."},{id:6,title:"3D Concrete Text",category:"3d",emoji:"",sampleText:"SOLID",prompt:"Create 3D concrete/stone text 'SOLID'. Heavy, brutalist letters with rough concrete texture. Small cracks and weathering details. Dramatic side lighting creating strong shadows. Industrial setting background."},{id:7,title:"3D Inflated Pillow",category:"3d",emoji:"",sampleText:"SOFT",prompt:"Generate 3D inflated pillow text spelling 'SOFT'. Letters that look like plush, puffy cushions with fabric texture and subtle stitching. Soft pastel colors. Cozy bedroom setting with warm lighting."},{id:8,title:"3D Paper Fold",category:"3d",emoji:"",sampleText:"ORIGAMI",prompt:"Design 3D origami-style paper fold text spelling 'ORIGAMI'. Each letter carefully folded from white paper with precise geometric creases. Subtle shadows showing the 3D depth. Minimalist background with soft directional lighting."},{id:9,title:"Classic Neon Sign",category:"neon",emoji:"",sampleText:"OPEN 24/7",prompt:"Create a classic neon sign text 'OPEN 24/7'. Bright red neon tubes mounted on a dark brick wall. Realistic glass tube bending, glowing warmly. Light spill on the brick surface. Slight flickering effect implied. Night atmosphere."},{id:10,title:"Cyberpunk Neon",category:"neon",emoji:"",sampleText:"CYBER",prompt:"Design cyberpunk neon text 'CYBER'. Hot pink and electric blue dual-color neon. Wet street reflections below. Rain streaks in the air. Dense urban night scene with Japanese signage in background. Blade Runner aesthetic."},{id:11,title:"Neon Outline Glow",category:"neon",emoji:"",sampleText:"GLOW",prompt:"Create neon outline text spelling 'GLOW'. Only the outlines of letters glow in bright white-cyan. Multiple glow layers creating ethereal halo. Pure black background. Clean, minimal, modern aesthetic."},{id:12,title:"Vegas Casino Neon",category:"neon",emoji:"",sampleText:"JACKPOT",prompt:"Design Vegas-style casino neon text 'JACKPOT'. Elaborate neon signage with decorative bulb borders. Gold and red neon tubes. Animated chase lights implied. Rich, extravagant casino entrance backdrop."},{id:13,title:"Pastel Neon",category:"neon",emoji:"",sampleText:"DREAM",prompt:"Generate pastel neon text 'DREAM'. Soft pink, lavender, and mint green neon tubes. Gentle, romantic glow. Mounted on a light pink wall. Aesthetic room vibes with fairy lights. Soft and dreamy."},{id:14,title:"UV Blacklight Text",category:"neon",emoji:"",sampleText:"ULTRA",prompt:"Create UV blacklight text effect 'ULTRA'. Letters glowing bright purple/violet under UV light. Fluorescent paint splatters around. Dark room with blacklight illumination. Rave/party atmosphere."},{id:15,title:"Neon Tube Handwriting",category:"neon",emoji:"",sampleText:"hello",prompt:"Design neon tube handwriting text 'hello' in cursive script. Single continuous warm white neon tube bent into elegant handwriting. Mounted on dark wall. Cozy cafe interior atmosphere. Instagram-worthy aesthetic."},{id:16,title:"Double Neon Stroke",category:"neon",emoji:"",sampleText:"ELECTRIC",prompt:"Create double-stroke neon text 'ELECTRIC'. Two parallel neon tubes per letter stroke - outer blue, inner white. Electric sparks jumping between letters. Stormy dark background with lightning."},{id:17,title:"80s Synthwave",category:"retro",emoji:"",sampleText:"SYNTHWAVE",prompt:"Design 80s synthwave text 'SYNTHWAVE'. Chrome metallic letters with hot pink and cyan gradient. Retro grid landscape stretching to horizon. Setting sun in background. VHS scan lines overlay. Outrun aesthetic."},{id:18,title:"70s Disco",category:"retro",emoji:"",sampleText:"DISCO",prompt:"Create 70s disco style text 'DISCO'. Chunky rounded letters with rainbow gradient fill. Mirror ball reflections. Sparkle effects. Warm brown and orange retro color palette. Groovy, funky atmosphere."},{id:19,title:"Vintage Circus",category:"retro",emoji:"",sampleText:"CIRCUS",prompt:"Design vintage circus poster text 'CIRCUS'. Ornate decorative serif letters with red and gold color scheme. Striped banner ribbons. Aged paper texture. Classic American circus poster style from the 1920s."},{id:20,title:"Art Deco",category:"retro",emoji:"",sampleText:"GATSBY",prompt:"Create Art Deco style text 'GATSBY'. Geometric, angular gold letters with fine line decorations. Black background with gold geometric patterns. 1920s luxury hotel signage aesthetic. Elegant and sophisticated."},{id:21,title:"Retro Gaming Pixel",category:"retro",emoji:"",sampleText:"GAME OVER",prompt:"Design retro pixel art text 'GAME OVER'. Blocky pixel font in bright red. CRT monitor screen effect with scan lines. Green phosphor glow. Classic 8-bit arcade game aesthetic. Black screen background."},{id:22,title:"Vintage Baseball",category:"retro",emoji:"",sampleText:"LEGENDS",prompt:"Create vintage baseball card style text 'LEGENDS'. Classic serif letters with aged cream and navy color scheme. Distressed texture overlay. Old-fashioned baseball card border design. Nostalgic Americana feel."},{id:23,title:"Psychedelic 60s",category:"retro",emoji:"",sampleText:"PEACE",prompt:"Design psychedelic 60s style text 'PEACE'. Flowing, melting letterforms with vibrant rainbow swirls. Tie-dye inspired colors. Flower power decorations. Groovy bubble letters. Hippie concert poster aesthetic."},{id:24,title:"Vaporwave",category:"retro",emoji:"",sampleText:"AESTHETIC",prompt:"Create vaporwave text 'AESTHETIC'. Japanese-influenced pink and teal gradient letters. Roman bust statue nearby. Windows 95 UI elements. Palm trees. Purple sunset sky. Lo-fi nostalgic digital aesthetic."},{id:25,title:"Liquid Chrome",category:"metallic",emoji:"",sampleText:"CHROME",prompt:"Create liquid chrome text 'CHROME'. Hyper-reflective mercury-like letters that appear to be melting slightly. Perfect mirror reflections of environment. Studio lighting setup reflected. Photorealistic chrome rendering."},{id:26,title:"Brushed Steel",category:"metallic",emoji:"",sampleText:"STEEL",prompt:"Design brushed steel text 'STEEL'. Industrial brushed stainless steel texture on bold letters. Subtle circular brush marks. Cool blue-tinted lighting. Factory/industrial background. Heavy and powerful feeling."},{id:27,title:"Rose Gold",category:"metallic",emoji:"",sampleText:"LUXURY",prompt:"Create rose gold metallic text 'LUXURY'. Warm pink-gold metallic finish with soft reflections. Marble surface beneath. Delicate light rose petals scattered. Feminine luxury brand aesthetic."},{id:28,title:"Hammered Copper",category:"metallic",emoji:"",sampleText:"CRAFT",prompt:"Design hammered copper text 'CRAFT'. Textured beaten copper letters with green patina on edges. Warm artisan workshop lighting. Rustic wooden table surface. Handcrafted artisanal feel."},{id:29,title:"Platinum Engraved",category:"metallic",emoji:"",sampleText:"ELITE",prompt:"Create platinum engraved text 'ELITE'. Deeply engraved letters in polished platinum surface. Fine line engravings and patterns. Luxury jewelry-grade finish. Black velvet background. Ultra-premium feel."},{id:30,title:"Rusty Iron",category:"metallic",emoji:"",sampleText:"RUST",prompt:"Design rusty iron text 'RUST'. Heavily corroded and rusted metal letters. Flaking rust texture with orange-brown patina. Industrial decay aesthetic. Abandoned factory setting."},{id:31,title:"Holographic Foil",category:"metallic",emoji:"",sampleText:"HOLO",prompt:"Create holographic foil text 'HOLO'. Rainbow holographic metallic finish that shifts colors. Prismatic light reflections. Iridescent surface. Modern packaging aesthetic. Clean white background."},{id:32,title:"Moss & Vine Text",category:"nature",emoji:"",sampleText:"GROW",prompt:"Create moss-covered text 'GROW'. Stone letters overgrown with lush green moss and small vines. Tiny flowers blooming from crevices. Forest floor setting. Dappled sunlight. Enchanted garden atmosphere."},{id:33,title:"Flower Typography",category:"nature",emoji:"",sampleText:"BLOOM",prompt:"Design floral typography 'BLOOM'. Letters constructed entirely from arranged flowers - roses, peonies, daisies. Lush, botanical garden style. Vibrant natural colors. Flat lay perspective on white background."},{id:34,title:"Water Splash Text",category:"nature",emoji:"",sampleText:"SPLASH",prompt:"Create water splash text 'SPLASH'. Letters formed from splashing clear water captured mid-motion. High-speed photography style. Water droplets frozen in air. Blue gradient background. Crystal clear water."},{id:35,title:"Tree Bark Letters",category:"nature",emoji:"",sampleText:"FOREST",prompt:"Design tree bark text 'FOREST'. Letters carved into the surface of a massive old-growth tree trunk. Detailed bark texture with lichen. Carved letters reveal lighter wood underneath. Deep forest atmosphere."},{id:36,title:"Sand Writing",category:"nature",emoji:"",sampleText:"BEACH",prompt:"Create sand writing text 'BEACH'. Letters drawn in wet golden sand on a tropical beach. Ocean wave gently approaching. Seashells scattered nearby. Warm sunset lighting. Vacation paradise mood."},{id:37,title:"Cloud Text",category:"nature",emoji:"",sampleText:"SKY",prompt:"Design cloud text 'SKY'. Letters formed from fluffy white cumulus clouds against a brilliant blue sky. Skywriting effect. Realistic cloud formations shaped into readable text. Aerial perspective."},{id:38,title:"Coral Reef Text",category:"nature",emoji:"",sampleText:"OCEAN",prompt:"Create coral reef text 'OCEAN'. Letters built from colorful living coral. Tropical fish swimming around. Underwater lighting with sunbeams from surface. Crystal clear ocean water. Marine biology aesthetic."},{id:39,title:"Autumn Leaves",category:"nature",emoji:"",sampleText:"FALL",prompt:"Design autumn leaves text 'FALL'. Letters composed of arranged fall leaves in red, orange, gold, and brown. Scattered on a wooden deck surface. Warm autumn afternoon lighting. Cozy seasonal feeling."},{id:40,title:"Chocolate Text",category:"food",emoji:"",sampleText:"CHOCO",prompt:"Create melting chocolate text 'CHOCO'. Rich dark chocolate letters with glossy molten chocolate dripping. Cocoa powder dusted around. Marble kitchen counter. Warm bakery lighting. Mouth-watering food photography style."},{id:41,title:"Candy Cane",category:"food",emoji:"",sampleText:"SWEET",prompt:"Design candy cane stripe text 'SWEET'. Red and white spiraling candy stripe pattern on 3D letters. Gummy bears and lollipops scattered around. Candy shop background. Bright, cheerful lighting. Sugar-coated aesthetic."},{id:42,title:"Cookie Dough",category:"food",emoji:"",sampleText:"BAKE",prompt:"Create cookie dough text 'BAKE'. Letters cut from golden brown cookie dough with chocolate chips embedded. Flour dusted around. Baking sheet surface. Fresh-from-oven warm golden color. Cozy baking vibes."},{id:43,title:"Frosted Cake",category:"food",emoji:"",sampleText:"CELEBRATE",prompt:"Design frosted cake text 'CELEBRATE'. Letters piped from colorful buttercream frosting. Sprinkles on top. Birthday cake decorating style. Pastel icing colors. Bakery display aesthetic."},{id:44,title:"Gummy Bear Text",category:"food",emoji:"",sampleText:"YUMMY",prompt:"Create gummy bear text 'YUMMY'. Letters made from translucent, colorful gummy candy. Light shining through the semi-transparent gummy material. Various fruity colors. White background. Candy store macro photography."},{id:45,title:"Ice Cream Drip",category:"food",emoji:"",sampleText:"CHILL",prompt:"Design ice cream drip text 'CHILL'. Letters made from melting ice cream in multiple flavors. Dripping colorful ice cream flowing down. Waffle cone texture elements. Summer sunshine lighting. Sweet treat vibe."},{id:46,title:"Pizza Text",category:"food",emoji:"",sampleText:"PIZZA",prompt:"Create pizza text 'PIZZA'. Letters made from pizza dough with melted mozzarella cheese stretching. Pepperoni and toppings on letters. Tomato sauce visible. Italian pizzeria aesthetic. Delicious food photography."},{id:47,title:"Blazing Fire Text",category:"fire",emoji:"",sampleText:"FIRE",prompt:"Create blazing fire text 'FIRE'. Letters engulfed in realistic dancing flames. Orange, red, and yellow fire. Ember particles floating upward. Charred letter edges. Dark smoky background. Intense heat visual."},{id:48,title:"Frozen Ice Text",category:"fire",emoji:"",sampleText:"FROZEN",prompt:"Design frozen ice text 'FROZEN'. Transparent ice block letters with frost patterns. Icicles hanging from letter edges. Frozen condensation on surface. Blue-white cold lighting. Arctic winter atmosphere."},{id:49,title:"Lava Text",category:"fire",emoji:"",sampleText:"MAGMA",prompt:"Create molten lava text 'MAGMA'. Letters made from glowing hot magma with cracked dark surface. Bright orange-red lava visible through cracks. Volcanic landscape setting. Heat distortion in air."},{id:50,title:"Lightning Text",category:"fire",emoji:"",sampleText:"THUNDER",prompt:"Design lightning bolt text 'THUNDER'. Letters formed by multiple branching lightning bolts. Electric blue-white plasma glow. Dark stormy sky background. Thunder clouds. Raw electrical energy aesthetic."},{id:51,title:"Smoke Text",category:"fire",emoji:"",sampleText:"HAZE",prompt:"Create smoke text 'HAZE'. Letters dissolving into wispy smoke tendrils. Gray and white smoke against black background. Ethereal, mysterious atmosphere. High contrast. Artistic smoke photography style."},{id:52,title:"Frost Crystal",category:"fire",emoji:"",sampleText:"WINTER",prompt:"Design frost crystal text 'WINTER'. Letters made from intricate ice crystals and snowflakes. Delicate crystalline structure. Macro photography of frost. Cool blue tones. Frozen window pane background."},{id:53,title:"Plasma Energy",category:"fire",emoji:"",sampleText:"ENERGY",prompt:"Create plasma energy text 'ENERGY'. Letters crackling with plasma energy like a plasma ball. Purple, pink, and blue electric tendrils. Dark laboratory setting. Tesla coil inspired. Science fiction energy aesthetic."},{id:54,title:"Spray Paint Graffiti",category:"graffiti",emoji:"",sampleText:"STREET",prompt:"Create spray paint graffiti text 'STREET'. Bold wildstyle graffiti lettering with multiple colors. Dripping paint. Brick wall background. Urban street art style. Vibrant spray can colors. Tag style with 3D depth."},{id:55,title:"Stencil Art",category:"graffiti",emoji:"",sampleText:"REBEL",prompt:"Design Banksy-style stencil text 'REBEL'. Black stencil spray paint on concrete wall. Rough edges from stencil cut. Political street art aesthetic. Gritty urban environment. Monochrome with one accent color."},{id:56,title:"Bubble Graffiti",category:"graffiti",emoji:"",sampleText:"FRESH",prompt:"Create bubble graffiti text 'FRESH'. Round, puffy graffiti letters in bright colors. Classic throwup style. Chrome silver outlines. Colorful fill. Urban wall background. Old-school hip-hop graffiti culture."},{id:57,title:"Dripping Paint",category:"graffiti",emoji:"",sampleText:"URBAN",prompt:"Design dripping paint text 'URBAN'. Bold letters with heavy paint drips running downward. Multiple overlapping colors. Weathered wooden fence background. Street art spontaneity. Raw artistic expression."},{id:58,title:"Wheat Paste Poster",category:"graffiti",emoji:"",sampleText:"VOICE",prompt:"Create wheat paste poster text 'VOICE'. Torn, layered poster style with bold typography. Partially peeled paper revealing layers underneath. Grungy urban wall. Counter-culture protest poster aesthetic."},{id:59,title:"Neon Graffiti",category:"graffiti",emoji:"",sampleText:"VIBE",prompt:"Design neon graffiti text 'VIBE'. Graffiti style letters that glow with neon light. UV reactive paint on dark wall. Club/rave atmosphere. Vibrant pink, purple, blue fluorescent colors. Night urban scene."},{id:60,title:"Chalk Art",category:"graffiti",emoji:"",sampleText:"WONDER",prompt:"Create sidewalk chalk art text 'WONDER'. Colorful chalk lettering on gray concrete/asphalt. Childlike yet artistic. Multiple chalk colors blending. Playground atmosphere. Nostalgic and whimsical."},{id:61,title:"Magic Spell Text",category:"fantasy",emoji:"",sampleText:"MAGIC",prompt:"Create magical spell text 'MAGIC'. Glowing golden letters floating in air with sparkle trails. Magical rune symbols orbiting. Ancient spellbook pages in background. Mystical purple-gold color scheme. Wizard's study atmosphere."},{id:62,title:"Enchanted Forest",category:"fantasy",emoji:"",sampleText:"FAIRY",prompt:"Design enchanted forest text 'FAIRY'. Letters made from twisted magical tree branches with glowing fairy lights. Tiny fairies flying around. Bioluminescent mushrooms. Misty enchanted forest background. Ethereal glow."},{id:63,title:"Dragon Scale",category:"fantasy",emoji:"",sampleText:"DRAGON",prompt:"Create dragon scale text 'DRAGON'. Letters covered in iridescent dragon scales. Green-gold shimmer. Small flames licking around edges. Medieval fantasy setting. Dragon eye visible in background. Epic fantasy aesthetic."},{id:64,title:"Wizard Runes",category:"fantasy",emoji:"",sampleText:"ANCIENT",prompt:"Design ancient wizard rune text 'ANCIENT'. Letters styled as glowing arcane runes on weathered stone. Blue-white magical glow. Ancient temple carved walls. Dust particles in light beams. Archaeological discovery mood."},{id:65,title:"Crystal Magic",category:"fantasy",emoji:"",sampleText:"MYSTIC",prompt:"Create crystal magic text 'MYSTIC'. Letters formed from glowing amethyst and quartz crystals. Purple magical energy swirling around. Crystal cave setting. Bioluminescent glow. Fantasy RPG item aesthetic."},{id:66,title:"Potion Bubble",category:"fantasy",emoji:"",sampleText:"BREW",prompt:"Design potion bubble text 'BREW'. Letters floating inside a bubbling magical cauldron. Green glowing potion liquid. Vapor and mystical smoke rising. Witch's laboratory with spell ingredients. Halloween-fantasy crossover."},{id:67,title:"Starlight Text",category:"fantasy",emoji:"",sampleText:"STELLAR",prompt:"Create starlight text 'STELLAR'. Letters composed of connected constellation stars. Thin golden lines connecting star points. Deep space nebula background. Astronomical chart aesthetic. Celestial and cosmic."},{id:68,title:"Fairy Dust",category:"fantasy",emoji:"",sampleText:"SPARKLE",prompt:"Design fairy dust text 'SPARKLE'. Letters trailing glittering golden fairy dust. Sparkling particles creating letter shapes. Magical forest clearing at twilight. Warm golden magical glow. Whimsical children's storybook feel."},{id:69,title:"Matrix Code",category:"tech",emoji:"",sampleText:"SYSTEM",prompt:"Create Matrix-style code text 'SYSTEM'. Green digital characters forming the word. Cascading code rain in background. Black terminal screen. Phosphor green glow. Hacker aesthetic. Digital dystopia."},{id:70,title:"Hologram Text",category:"tech",emoji:"",sampleText:"FUTURE",prompt:"Design holographic projection text 'FUTURE'. Semi-transparent cyan hologram letters floating in space. Slight scan line interference. Sci-fi command center background. Iron Man HUD style. Futuristic technology display."},{id:71,title:"Circuit Board",category:"tech",emoji:"",sampleText:"TECH",prompt:"Create circuit board text 'TECH'. Letters made from PCB traces and electronic components. Green PCB color with gold/silver traces. Tiny resistors and chips decorating letters. Macro electronics photography style."},{id:72,title:"Glitch Text",category:"tech",emoji:"",sampleText:"ERROR",prompt:"Design glitch text 'ERROR'. Distorted letters with RGB color channel splitting. Digital corruption artifacts. VHS tracking error aesthetic. CRT monitor scan lines. Broken technology visual. Datamosh style."},{id:73,title:"Binary Code",category:"tech",emoji:"",sampleText:"DATA",prompt:"Create binary code text 'DATA'. Letters subtly visible within dense streams of 1s and 0s. Green/blue digital text on dark display. Data center aesthetic. Information visualization. Clean tech design."},{id:74,title:"Wireframe 3D",category:"tech",emoji:"",sampleText:"VECTOR",prompt:"Design wireframe 3D text 'VECTOR'. Letters rendered as 3D wireframe models with visible polygon mesh. Cyan lines on dark navy background. CAD/3D modeling software aesthetic. Technical precision."},{id:75,title:"LED Display",category:"tech",emoji:"",sampleText:"SIGNAL",prompt:"Create LED dot matrix text 'SIGNAL'. Letters formed from individual LED dots like a scoreboard. Red LED glow. Pixel grid visible. Stadium/airport departure board aesthetic. Digital signage."},{id:76,title:"AI Neural Network",category:"tech",emoji:"",sampleText:"AI",prompt:"Design neural network text 'AI'. Letters composed of interconnected neural network nodes and synapses. Pulsing blue-purple data flow along connections. Dark background. Deep learning visualization aesthetic."},{id:77,title:"Gold Foil Stamp",category:"elegant",emoji:"",sampleText:"REGAL",prompt:"Create gold foil stamped text 'REGAL'. Hot foil stamped gold letters on thick navy blue paper. Embossed texture with raised surface. Luxury invitation card aesthetic. Premium stationery. Tactile quality visible."},{id:78,title:"Marble Inlay",category:"elegant",emoji:"",sampleText:"PALAZZO",prompt:"Design marble inlay text 'PALAZZO'. Letters inlaid into white Carrara marble with contrasting dark marble. Italian palazzo floor mosaic style. Geometric precision. Architectural luxury."},{id:79,title:"Calligraphy Gold",category:"elegant",emoji:"",sampleText:"Elegance",prompt:"Create elegant calligraphy text 'Elegance'. Flowing script calligraphy with gold ink. Pointed pen flourishes and swashes. Luxury paper with subtle texture. Wedding invitation aesthetic. Timeless sophistication."},{id:80,title:"Diamond Encrusted",category:"elegant",emoji:"",sampleText:"BLING",prompt:"Design diamond-encrusted text 'BLING'. Letters covered in tiny sparkling diamonds. Brilliant cut gem reflections. White gold/platinum letter base. Jewelry display case setting. Extreme luxury aesthetic."},{id:81,title:"Silk Ribbon",category:"elegant",emoji:"",sampleText:"GRACE",prompt:"Create silk ribbon text 'GRACE'. Letters formed from flowing, twisting silk ribbon. Soft satin sheen. Blush pink and ivory colors. Elegant fashion editorial style. Soft studio lighting."},{id:82,title:"Pearl Text",category:"elegant",emoji:"",sampleText:"PEARL",prompt:"Design pearl text 'PEARL'. Letters composed of arranged lustrous pearls. Iridescent pearl nacre shimmer. Velvet jewelry box surface. Soft diffused lighting. Classic elegance. Bridal jewelry display."},{id:83,title:"Embossed Leather",category:"elegant",emoji:"",sampleText:"CLASSIC",prompt:"Create embossed leather text 'CLASSIC'. Letters pressed into rich burgundy leather with gold edge detail. Book cover binding aesthetic. Fine grain leather texture. Library/study atmosphere. Timeless quality."},{id:84,title:"Champagne Bubble",category:"elegant",emoji:"",sampleText:"CHEERS",prompt:"Design champagne bubble text 'CHEERS'. Letters formed from rising champagne bubbles in a flute glass. Effervescent golden liquid. Celebration atmosphere. Luxury New Year's Eve aesthetic. Warm festive lighting."},{id:85,title:"Blood Drip",category:"horror",emoji:"",sampleText:"HORROR",prompt:"Create blood drip text 'HORROR'. Dark red blood-like letters dripping downward. Thick viscous drips. Dark stained concrete wall. Dim, unsettling red lighting. Horror movie poster aesthetic. Disturbing and intense."},{id:86,title:"Zombie Decay",category:"horror",emoji:"",sampleText:"UNDEAD",prompt:"Design zombie decay text 'UNDEAD'. Letters appearing rotten and decomposed. Green-gray flesh texture. Exposed bone-like structure. Foggy graveyard setting. Horror video game title aesthetic."},{id:87,title:"Spider Web",category:"horror",emoji:"",sampleText:"CREEP",prompt:"Create spider web text 'CREEP'. Letters wrapped in intricate spider webs. Morning dew on silk strands. Dark abandoned house setting. Moonlit atmosphere. Halloween gothic aesthetic."},{id:88,title:"Ghostly Ethereal",category:"horror",emoji:"",sampleText:"PHANTOM",prompt:"Design ghostly text 'PHANTOM'. Semi-transparent, misty letters that appear to be fading. Ethereal white glow. Haunted mansion hallway. Floating ghost-like quality. Victorian horror aesthetic."},{id:89,title:"Cracked Skull",category:"horror",emoji:"",sampleText:"DEATH",prompt:"Create skull bone text 'DEATH'. Letters constructed from bone-like material with crack patterns. Weathered yellowed bone texture. Dark catacomb setting. Torch light. Memento mori aesthetic."},{id:90,title:"Dark Gothic",category:"horror",emoji:"",sampleText:"GOTHIC",prompt:"Design dark gothic text 'GOTHIC'. Ornate blackletter/fraktur style with thorny vine decorations. Dark purple and black color scheme. Gothic cathedral background. Ravens and bats. Medieval dark fantasy."},{id:91,title:"Toxic Slime",category:"horror",emoji:"",sampleText:"TOXIC",prompt:"Create toxic slime text 'TOXIC'. Letters dripping with bright green toxic ooze. Bubbling chemical reaction. Hazmat warning signs. Abandoned laboratory. Radioactive glow. Sci-fi horror aesthetic."},{id:92,title:"Comic Book Pop",category:"cartoon",emoji:"",sampleText:"POW!",prompt:"Create comic book text 'POW!'. Bold impact lettering in classic comic style. Starburst explosion background. Halftone dot pattern. Primary colors - red, yellow, blue. Ben-Day dots. Marvel/DC comic panel aesthetic."},{id:93,title:"Kawaii Cute",category:"cartoon",emoji:"",sampleText:"CUTE",prompt:"Design kawaii cute text 'CUTE'. Rounded bubbly letters with cute faces on each letter. Pastel pink and baby blue colors. Little hearts and stars floating. Japanese kawaii culture aesthetic. Adorable and playful."},{id:94,title:"Crayon Drawing",category:"cartoon",emoji:"",sampleText:"HAPPY",prompt:"Create crayon text 'HAPPY'. Letters drawn with colorful wax crayons on white paper. Childlike, imperfect strokes. Visible crayon wax texture. Kindergarten art class aesthetic. Innocent and joyful."},{id:95,title:"Sticker Bomb",category:"cartoon",emoji:"",sampleText:"COOL",prompt:"Design sticker text 'COOL'. Letters as vinyl stickers with white border and slight peel effect. Colorful sticker bomb pattern background. Laptop/skateboard decoration style. Street culture aesthetic."},{id:96,title:"Jelly Wobble",category:"cartoon",emoji:"",sampleText:"JIGGLY",prompt:"Create jelly wobble text 'JIGGLY'. Letters that look like wobbly gelatin/jelly dessert. Translucent, bouncy appearance. Multiple fruit flavors/colors. White plate surface. Food cartoon style."},{id:97,title:"Balloon Animal",category:"cartoon",emoji:"",sampleText:"FUN",prompt:"Design balloon animal text 'FUN'. Letters twisted from long balloons like balloon art. Shiny, stretched balloon surface. Bright primary colors. Circus/party setting. Playful and entertaining."},{id:98,title:"Toy Block",category:"cartoon",emoji:"",sampleText:"PLAY",prompt:"Create toy block text 'PLAY'. Letters as colorful children's wooden alphabet blocks. Rounded corners. Primary colored paint. Playroom floor setting. Scattered other toys nearby. Nostalgic childhood."},{id:99,title:"Emoji Mosaic",category:"cartoon",emoji:"",sampleText:"MOOD",prompt:"Design emoji mosaic text 'MOOD'. Letters composed of tiny arranged emoji icons. Different emoji creating color and pattern. Social media culture aesthetic. Digital age art. Gen-Z visual style."},{id:100,title:"Rainbow Cloud",category:"cartoon",emoji:"",sampleText:"JOY",prompt:"Create rainbow cloud text 'JOY'. Fluffy cloud-formed letters with rainbow arcing through them. Blue sky setting. Sunshine and sparkles. Cheerful, optimistic mood. Children's book illustration style. Pure happiness aesthetic."},{id:101,title:"3D Clay Sculpt",category:"3d",emoji:"",sampleText:"SCULPT",prompt:"Create 3D clay sculpted text 'SCULPT'. Hand-molded clay letters with visible fingerprint texture and organic imperfections. Warm terracotta color with natural earth tones. Pottery studio setting with soft directional lighting. Artisanal handcraft aesthetic."},{id:102,title:"3D Candy Glaze",category:"3d",emoji:"",sampleText:"GLAZE",prompt:"Design 3D candy-glazed text 'GLAZE'. Thick, dripping candy coating on rounded 3D letters. Shiny sugar glaze reflecting light. Rainbow sprinkles on top. Pastel gradient background. Candy shop window display aesthetic."},{id:103,title:"3D Stone Carved",category:"3d",emoji:"",sampleText:"ETERNAL",prompt:"Create 3D stone carved text 'ETERNAL'. Deep chiseled letters in ancient limestone with moss in crevices. Archaeological excavation lighting with dust particles in beams. Temple ruins setting. Monumental ancient architecture aesthetic."},{id:104,title:"3D Liquid Metal",category:"3d",emoji:"",sampleText:"MERCURY",prompt:"Design 3D liquid mercury text 'MERCURY'. Letters made of flowing liquid metal caught mid-transformation. Perfect mirror reflections with distorted environment mapping. Dark laboratory background. T-1000 morphing aesthetic."},{id:105,title:"3D Fur Text",category:"3d",emoji:"",sampleText:"FUZZY",prompt:"Create 3D furry text 'FUZZY'. Letters covered in soft, realistic animal fur texture. Fluffy and touchable appearance. Warm amber backlighting creating fur glow halo. Cozy den setting. Stuffed animal tactile quality."},{id:106,title:"3D Geode Crystal",category:"3d",emoji:"",sampleText:"GEODE",prompt:"Design 3D geode text 'GEODE'. Letters split open to reveal stunning amethyst crystal formations inside rough stone exterior. Purple and violet crystal sparkles. Dark cave with focused spotlight. Geological specimen photography aesthetic."},{id:107,title:"3D Wax Seal",category:"3d",emoji:"",sampleText:"ROYAL",prompt:"Create 3D wax seal text 'ROYAL'. Ornate letters pressed into deep red sealing wax on aged parchment. Embossed texture with heraldic details. Candlelit medieval study atmosphere. Royal correspondence aesthetic."},{id:108,title:"Underwater Bioluminescence",category:"neon",emoji:"",sampleText:"DEEP",prompt:"Create bioluminescent text 'DEEP'. Letters glowing with natural bioluminescence in deep ocean darkness. Electric blue and green organic glow. Tiny plankton particles illuminated around letters. Abyssal ocean backdrop. Marine biology aesthetic."},{id:109,title:"Aurora Borealis Text",category:"neon",emoji:"",sampleText:"AURORA",prompt:"Design northern lights text 'AURORA'. Letters formed from shimmering aurora borealis curtains. Green, purple, and pink dancing light. Snow-covered Nordic landscape below. Stars visible through the light. Arctic midnight magic."},{id:110,title:"Fiber Optic Glow",category:"neon",emoji:"",sampleText:"FIBER",prompt:"Create fiber optic text 'FIBER'. Letters composed of hundreds of glowing fiber optic strands. Each strand tip glowing different color. Dark background emphasizing the light points. Data center technology aesthetic."},{id:111,title:"Radioactive Glow",category:"neon",emoji:"",sampleText:"ATOMIC",prompt:"Design radioactive glow text 'ATOMIC'. Letters emitting eerie green Cherenkov radiation glow. Nuclear reactor blue-green luminescence. Hazmat warning environment. Scientific facility setting. Nuclear physics aesthetic."},{id:112,title:"Fairy Light String",category:"neon",emoji:"",sampleText:"COZY",prompt:"Create fairy light string text 'COZY'. Letters outlined with warm white fairy string lights. Soft bokeh glow from each tiny bulb. Cozy bedroom evening setting. Instagram aesthetic room decor. Warm and inviting."},{id:113,title:"Phosphorescent Text",category:"neon",emoji:"",sampleText:"GLOW",prompt:"Design phosphorescent glow-in-dark text 'GLOW'. Letters charged with green phosphorescent material. Gradual fade from bright to dim across the word. Darkroom with UV charging light visible. Science experiment aesthetic."},{id:114,title:"Lantern Festival Text",category:"neon",emoji:"",sampleText:"WISH",prompt:"Create Chinese lantern text 'WISH'. Letters formed from floating paper lanterns with warm candlelight inside. Night sky filled with hundreds of lanterns. River reflection below. Yi Peng festival atmosphere. Magical and dreamy."},{id:115,title:"Art Nouveau",category:"retro",emoji:"",sampleText:"BELLE",prompt:"Design Art Nouveau text 'BELLE'. Flowing organic letterforms with floral and vine decorations. Alphonse Mucha inspired color palette of muted gold, green, sage. Decorative frame border. 1890s poster elegance."},{id:116,title:"Soviet Propaganda",category:"retro",emoji:"",sampleText:"FORWARD",prompt:"Create Soviet constructivist propaganda text 'FORWARD'. Bold angular block letters in red, black, and cream. Diagonal dynamic composition. Industrial revolution imagery. Geometric shapes. 1920s Russian poster aesthetic."},{id:117,title:"Wild West Wanted",category:"retro",emoji:"",sampleText:"WANTED",prompt:"Design Wild West wanted poster text 'WANTED'. Aged wood block print typography on yellowed old paper. Bullet holes in paper. Reward amount below. Torn edges. Dusty saloon bulletin board setting. Frontier outlaw aesthetic."},{id:118,title:"50s Diner",category:"retro",emoji:"",sampleText:"DINER",prompt:"Create 1950s diner sign text 'DINER'. Chrome-trimmed neon letters on turquoise and pink palette. Checkered floor reflection. Jukebox and milkshake imagery. Rockabilly americana aesthetic. Happy Days nostalgia."},{id:119,title:"Vintage Typewriter",category:"retro",emoji:"",sampleText:"DRAFT",prompt:"Design vintage typewriter text 'DRAFT'. Letters with uneven ink coverage like manual typewriter keystrikes. Slightly misaligned characters. Cream paper with typewriter ribbon ink smudges. Writer's desk atmosphere. Literary nostalgia."},{id:120,title:"Retro Space Age",category:"retro",emoji:"",sampleText:"COSMOS",prompt:"Create retro space age text 'COSMOS'. Atomic age futuristic letterforms from 1960s space race era. Metallic silver with starburst decorations. Ray gun gothic style. Vintage sci-fi movie poster color palette. Optimistic retro-futurism."},{id:121,title:"Victorian Gothic",category:"retro",emoji:"",sampleText:"MANOR",prompt:"Design Victorian gothic text 'MANOR'. Ornate blackletter with elaborate serifs and curlicue decorations. Deep burgundy and gold on aged paper. Victorian wallpaper pattern border. Gas lamp illumination aesthetic. Penny dreadful era."},{id:122,title:"Damascus Steel",category:"metallic",emoji:"",sampleText:"BLADE",prompt:"Create Damascus steel text 'BLADE'. Letters showing distinctive wavy pattern of folded Damascus steel. Sharp blade-like edges on letterforms. Dark forge workshop with ember glow. Master swordsmith craftsmanship aesthetic."},{id:123,title:"Liquid Gold Pour",category:"metallic",emoji:"",sampleText:"MOLTEN",prompt:"Design liquid gold pour text 'MOLTEN'. Letters being filled with pouring molten gold from above. Splashing liquid metal. Crucible and foundry setting. Extreme heat glow. Goldsmith artisan crafting aesthetic."},{id:124,title:"Anodized Titanium",category:"metallic",emoji:"",sampleText:"TITAN",prompt:"Create anodized titanium text 'TITAN'. Letters with colorful heat-treated titanium surface showing rainbow interference patterns. Aerospace-grade finish. Clean room laboratory setting. High-tech material science aesthetic."},{id:125,title:"Oxidized Bronze",category:"metallic",emoji:"",sampleText:"LEGACY",prompt:"Design oxidized bronze text 'LEGACY'. Letters showing beautiful verdigris green patina over warm bronze base. Museum pedestal display. Classical sculpture gallery lighting. Timeless monument aesthetic."},{id:126,title:"Mercury Mirror",category:"metallic",emoji:"",sampleText:"REFLECT",prompt:"Create mercury mirror text 'REFLECT'. Antique mercury glass mirror letters with clouded, mottled reflective surface. Vintage mirror imperfections. Baroque gilded frame elements. Antique shop atmospheric lighting."},{id:127,title:"Pewter Cast",category:"metallic",emoji:"",sampleText:"TAVERN",prompt:"Design pewter cast text 'TAVERN'. Heavy pewter letters with medieval casting marks and soft dull luster. Ale mug and candlestick nearby. Old English pub oak table surface. Medieval tavern atmosphere."},{id:128,title:"Carbon Fiber",category:"metallic",emoji:"",sampleText:"SPEED",prompt:"Create carbon fiber text 'SPEED'. Letters with visible carbon fiber weave pattern under clear coat. Lightweight motorsport material feel. Pit lane garage setting. Formula 1 racing precision aesthetic."},{id:129,title:"Bismuth Crystal",category:"metallic",emoji:"",sampleText:"PRISM",prompt:"Design bismuth crystal text 'PRISM'. Letters formed from staircase-like bismuth crystal structures. Iridescent rainbow oxide layer. Geometric step patterns. Science laboratory black background. Mineral specimen photography."},{id:130,title:"Bonsai Tree Text",category:"nature",emoji:"",sampleText:"ZEN",prompt:"Create bonsai text 'ZEN'. Letters shaped by carefully pruned miniature bonsai trees. Aged twisted trunks forming letter shapes. Zen garden stone base with raked sand. Japanese garden setting. Wabi-sabi contemplative aesthetic."},{id:131,title:"Butterfly Wing",category:"nature",emoji:"",sampleText:"FLUTTER",prompt:"Design butterfly wing text 'FLUTTER'. Letters composed of arranged iridescent butterfly wings. Monarch and morpho wing patterns creating colors. Sunlit meadow background. Macro photography detail level. Entomological art aesthetic."},{id:132,title:"Lava Rock Text",category:"nature",emoji:"",sampleText:"PRIMAL",prompt:"Create volcanic rock text 'PRIMAL'. Letters carved from rough black basalt lava rock with red-hot cracks. Volcanic landscape with distant eruption. Smoke and ash particles. Primordial earth geological aesthetic."},{id:133,title:"Seashell Mosaic",category:"nature",emoji:"",sampleText:"SHORE",prompt:"Design seashell mosaic text 'SHORE'. Letters built from arranged seashells, sea glass, and pebbles. Sandy beach surface. Ocean waves in background. Golden hour beach lighting. Coastal craft artisan aesthetic."},{id:134,title:"Mushroom Forest Text",category:"nature",emoji:"",sampleText:"SPORE",prompt:"Create mushroom text 'SPORE'. Letters formed from clusters of colorful fantasy mushrooms. Red fly agaric, blue bioluminescent, and white puffball varieties. Dark enchanted forest floor. Mycology fairy tale aesthetic."},{id:135,title:"Frozen Waterfall",category:"nature",emoji:"",sampleText:"GLACIAL",prompt:"Design frozen waterfall text 'GLACIAL'. Letters formed from suspended frozen water cascades. Blue-white ice formations with trapped air bubbles. Winter mountain canyon setting. Sub-zero crystal clarity. Ice climbing expedition aesthetic."},{id:136,title:"Succulent Garden Text",category:"nature",emoji:"",sampleText:"THRIVE",prompt:"Create succulent text 'THRIVE'. Letters filled with arranged miniature succulents in terracotta planters. Echeveria rosettes and jade plants. Desert botanical garden setting. Warm afternoon sunlight. Plant parent boho aesthetic."},{id:137,title:"Sushi Roll Text",category:"food",emoji:"",sampleText:"UMAMI",prompt:"Create sushi text 'UMAMI'. Letters formed from perfectly crafted sushi rolls with rice, nori, salmon, and avocado. Soy sauce pooling around base. Bamboo serving board. Japanese restaurant counter setting. Fine dining food photography."},{id:138,title:"Waffle Text",category:"food",emoji:"",sampleText:"BRUNCH",prompt:"Design waffle text 'BRUNCH'. Letters cut from golden Belgian waffles with perfect grid pattern. Maple syrup drizzling over. Fresh berries and whipped cream topping. Sunny breakfast table setting. Weekend brunch photography."},{id:139,title:"Donut Glaze",category:"food",emoji:"",sampleText:"SUGAR",prompt:"Create donut text 'SUGAR'. Letters shaped from glazed donuts with colorful icing. Pink strawberry, chocolate, and vanilla glaze. Rainbow sprinkles on top. Bakery display case setting. Sweet indulgence aesthetic."},{id:140,title:"Pasta Text",category:"food",emoji:"",sampleText:"PASTA",prompt:"Design pasta text 'PASTA'. Letters formed from various pasta shapes - spaghetti, penne, fusilli, farfalle. Marinara sauce splashed artistically. Parmesan cheese dusting. Italian kitchen marble counter. Trattoria cooking aesthetic."},{id:141,title:"Popcorn Text",category:"food",emoji:"",sampleText:"MOVIE",prompt:"Create popcorn text 'MOVIE'. Letters overflowing with buttery popcorn kernels. Red and white striped container. Cinema seat background with dim lighting. Movie ticket stubs scattered. Friday night movie theater aesthetic."},{id:142,title:"Honey Drip Text",category:"food",emoji:"",sampleText:"GOLDEN",prompt:"Design honey text 'GOLDEN'. Letters made from thick flowing honey with golden viscous drips. Honeycomb hexagon patterns visible. Wooden honey dipper nearby. Sunlit apiary setting. Natural sweetness aesthetic."},{id:143,title:"Cotton Candy Text",category:"food",emoji:"",sampleText:"FLUFF",prompt:"Create cotton candy text 'FLUFF'. Letters made from wispy pink and blue cotton candy fibers. Fluffy, cloud-like texture. Carnival lights bokeh background. Sugar spinning machine nearby. State fair magical evening aesthetic."},{id:144,title:"Ember & Ash",category:"fire",emoji:"",sampleText:"EMBER",prompt:"Create ember text 'EMBER'. Letters formed from glowing wood embers and charcoal. Pulsing orange-red heat. Gray ash particles floating upward. Dying campfire pit setting. Quiet crackling night atmosphere."},{id:145,title:"Dry Ice Mist",category:"fire",emoji:"",sampleText:"VAPOR",prompt:"Design dry ice mist text 'VAPOR'. Letters emerging from thick dry ice fog rolling along ground. Cold blue-white mist. Laboratory beaker with sublimating dry ice. Dark room with floor fog. Mad scientist aesthetic."},{id:146,title:"Solar Flare Text",category:"fire",emoji:"",sampleText:"SOLAR",prompt:"Create solar flare text 'SOLAR'. Letters erupting with solar prominences and coronal mass ejections. Intense orange-white plasma. Space backdrop with stars. NASA solar photography aesthetic. Astrophysics visualization."},{id:147,title:"Crystalline Frost",category:"fire",emoji:"",sampleText:"CRISP",prompt:"Design window frost text 'CRISP'. Letters formed from delicate frost crystal patterns on cold glass. Morning sunlight streaming through frosted window. Ice fern patterns. Cozy cabin winter morning. Jack Frost artistry aesthetic."},{id:148,title:"Welding Spark",category:"fire",emoji:"",sampleText:"FORGE",prompt:"Create welding spark text 'FORGE'. Letters being welded from steel with brilliant white-blue welding arc. Shower of golden sparks cascading down. Industrial workshop setting. Protective mask reflection. Metal fabrication aesthetic."},{id:149,title:"Glacier Blue Ice",category:"fire",emoji:"",sampleText:"ARCTIC",prompt:"Design glacier text 'ARCTIC'. Letters carved from ancient compressed glacier ice showing deep blue color. Air bubble inclusions. Ice cave interior with turquoise light. Svalbard expedition photography aesthetic."},{id:150,title:"Phosphorus Burn",category:"fire",emoji:"",sampleText:"BLAZE",prompt:"Create phosphorus fire text 'BLAZE'. Letters burning with intense white-green phosphorus flames. Chemical fire that cannot be extinguished. Dark industrial backdrop. Military flare intensity. Pyrotechnic danger aesthetic."},{id:151,title:"Mosaic Tile Street Art",category:"graffiti",emoji:"",sampleText:"PIECE",prompt:"Create mosaic tile text 'PIECE'. Letters built from colorful broken tile mosaic pieces like Gaud. Grouted gaps between irregular tile fragments. Outdoor wall installation. Barcelona street art aesthetic. Mediterranean color palette."},{id:152,title:"Yarn Bombing Text",category:"graffiti",emoji:"",sampleText:"KNIT",prompt:"Design yarn bomb text 'KNIT'. Letters wrapped in colorful knitted yarn coverings on urban infrastructure. Crochet granny square patterns. Steel railing or tree trunk base. Guerrilla knitting street art. Cozy urban craft rebellion aesthetic."},{id:153,title:"Paste-Up Collage",category:"graffiti",emoji:"",sampleText:"REVOLT",prompt:"Create paste-up collage text 'REVOLT'. Letters assembled from torn magazine and newspaper clippings. Ransom note typography with mixed fonts and sizes. Gritty urban wall with layers of old posters. Punk zine DIY aesthetic."},{id:154,title:"Sticker Slap Tag",category:"graffiti",emoji:"",sampleText:"HELLO",prompt:"Design sticker tag text 'HELLO'. Classic 'Hello My Name Is' sticker format with hand-drawn graffiti name. Marker pen strokes with bleed. Stuck on metal surface with peeling edges. Street culture tag tradition aesthetic."},{id:155,title:"Laser Cut Stencil",category:"graffiti",emoji:"",sampleText:"EXACT",prompt:"Create precision laser cut stencil text 'EXACT'. Letters cut from stainless steel stencil plate. Clean geometric edges. Spray paint mist visible through cutouts. Industrial maker space setting. Precision fabrication meets street art."},{id:156,title:"Scratched Glass",category:"graffiti",emoji:"",sampleText:"ETCH",prompt:"Design scratched glass text 'ETCH'. Letters etched into bus stop or subway glass panel. Diamond-point scratching catching light. Urban transit setting with city blur behind glass. Vandal-art underground culture aesthetic."},{id:157,title:"Roller Paint Block",category:"graffiti",emoji:"",sampleText:"BOLD",prompt:"Create paint roller text 'BOLD'. Massive block letters painted with industrial paint roller. Thick white paint on dark concrete. Raw, aggressive street takeover. Building-scale letters. Protest art scale and urgency."},{id:158,title:"Enchanted Gemstone",category:"fantasy",emoji:"",sampleText:"ARCANE",prompt:"Create enchanted gemstone text 'ARCANE'. Each letter crafted from different precious gemstones - ruby, sapphire, emerald, topaz. Inner magical glow emanating from gem depths. Treasure hoard setting. Dragon's lair aesthetic."},{id:159,title:"Elven Script",category:"fantasy",emoji:"",sampleText:"ELVEN",prompt:"Design Tolkien-inspired Elvish text 'ELVEN'. Flowing calligraphic letterforms with leaf and vine motifs. Silver ink on deep blue-black parchment. Moonlight illumination. Rivendell library atmosphere. Middle-earth scholarly aesthetic."},{id:160,title:"Phoenix Feather",category:"fantasy",emoji:"",sampleText:"REBIRTH",prompt:"Create phoenix feather text 'REBIRTH'. Letters formed from magnificent phoenix tail feathers. Gradient from deep red to brilliant gold. Embers and sparks at feather tips. Volcanic nest setting. Mythical creature rebirth aesthetic."},{id:161,title:"Mermaid Pearl",category:"fantasy",emoji:"",sampleText:"SIREN",prompt:"Design mermaid text 'SIREN'. Letters encrusted with iridescent abalone shell and scattered pearls. Underwater caustic light patterns. Coral and seaweed decorations. Sunken palace ruins. Ocean mythology aesthetic."},{id:162,title:"Wizard Tower",category:"fantasy",emoji:"",sampleText:"TOWER",prompt:"Create wizard tower text 'TOWER'. Letters built like miniature stone wizard towers with tiny windows glowing. Each letter a different magical tower style. Starry night sky backdrop. Fantasy kingdom silhouette. High fantasy architecture aesthetic."},{id:163,title:"Enchanted Book Page",category:"fantasy",emoji:"",sampleText:"SPELL",prompt:"Design enchanted book text 'SPELL'. Letters lifting off an ancient grimoire page, glowing with golden light. Ink transforming into floating magical text. Old library with floating books. Harry Potter spellbook aesthetic."},{id:164,title:"Ice Kingdom",category:"fantasy",emoji:"",sampleText:"THRONE",prompt:"Create ice kingdom text 'THRONE'. Letters carved from magical ice with internal blue glow. Frost crown decoration on top letter. Frozen palace hall with ice pillars. Northern winter kingdom. Frozen fairy tale aesthetic."},{id:165,title:"Blockchain Hash",category:"tech",emoji:"",sampleText:"CHAIN",prompt:"Create blockchain text 'CHAIN'. Letters made from interconnected digital block nodes with hash codes visible. Cryptographic data streams flowing between blocks. Dark network visualization background. Web3 decentralized technology aesthetic."},{id:166,title:"VR Interface Text",category:"tech",emoji:"",sampleText:"VIRTUAL",prompt:"Design VR interface text 'VIRTUAL'. Semi-transparent holographic letters floating in virtual reality space. Hand tracking cursor nearby. Grid-lined virtual environment. Head-up display elements. Metaverse UI design aesthetic."},{id:167,title:"Quantum Computing",category:"tech",emoji:"",sampleText:"QUBIT",prompt:"Create quantum computing text 'QUBIT'. Letters formed from quantum superposition visualizations. Probabilistic cloud states. Bloch sphere elements. Ultra-cold lab blue aesthetic. IBM quantum computer chamber. Cutting-edge physics aesthetic."},{id:168,title:"DNA Helix Text",category:"tech",emoji:"",sampleText:"HELIX",prompt:"Design DNA double helix text 'HELIX'. Letters constructed from twisted DNA strands with base pair rungs (A-T, G-C). Molecular visualization with nucleotide colors. Biotech laboratory setting. Genetic engineering aesthetic."},{id:169,title:"Satellite View Text",category:"tech",emoji:"",sampleText:"ORBIT",prompt:"Create satellite view text 'ORBIT'. Letters visible from space formed by city lights on Earth's night side. ISS perspective looking down. Atmosphere glow at horizon. Space station window frame. Astronaut earth observation aesthetic."},{id:170,title:"Motherboard Trace",category:"tech",emoji:"",sampleText:"LOGIC",prompt:"Design motherboard trace text 'LOGIC'. Letters formed from PCB copper traces on green circuit board. SMD components soldered along letter paths. Through-hole via points. Macro electronics extreme close-up. Hardware engineering aesthetic."},{id:171,title:"Cybersecurity Shield",category:"tech",emoji:"",sampleText:"SECURE",prompt:"Create cybersecurity text 'SECURE'. Letters surrounded by digital shield barriers and encryption symbols. Firewall visualization. Lock icons and key elements. Dark SOC operations center. Information security defense aesthetic."},{id:172,title:"Venetian Glass",category:"elegant",emoji:"",sampleText:"MURANO",prompt:"Create Venetian glass text 'MURANO'. Letters crafted from colorful Murano blown glass techniques. Millefiori patterns, gold leaf inclusions. Rich jewel colors. Glass workshop flame in background. Italian master craftsmanship aesthetic."},{id:173,title:"Velvet Embossed",category:"elegant",emoji:"",sampleText:"OPERA",prompt:"Design velvet embossed text 'OPERA'. Letters pressed into deep burgundy velvet fabric with gold thread outline. Theater curtain texture. Stage spotlight illumination. Grand opera house setting. Theatrical luxury aesthetic."},{id:174,title:"Ivory Carved",category:"elegant",emoji:"",sampleText:"GRACE",prompt:"Create ivory carved text 'GRACE'. Letters delicately carved in bone-white material with intricate scrollwork. Fine detail scrimshaw technique. Aged patina. Silk cushion display. Museum artifact presentation aesthetic."},{id:175,title:"Crystal Chandelier",category:"elegant",emoji:"",sampleText:"GALA",prompt:"Design crystal chandelier text 'GALA'. Letters composed of hanging crystal drops and pendants catching light. Rainbow prismatic refractions. Grand ballroom ceiling above. Warm candlelight ambiance. Black-tie event luxury aesthetic."},{id:176,title:"Lacquer Box",category:"elegant",emoji:"",sampleText:"ORIENT",prompt:"Create Japanese lacquer text 'ORIENT'. Letters in traditional urushi lacquer technique with gold maki-e decoration. Deep black gloss with gold leaf designs. Red accent lacquer layer revealed at edges. Tea ceremony room setting."},{id:177,title:"Porcelain Blue",category:"elegant",emoji:"",sampleText:"MING",prompt:"Design Chinese porcelain text 'MING'. Letters in traditional blue-and-white porcelain style. Cobalt blue brushwork on pure white ceramic. Delicate floral patterns within letterforms. Museum vitrine display. Imperial dynasty aesthetic."},{id:178,title:"Champagne Toast",category:"elegant",emoji:"",sampleText:"LUXE",prompt:"Create champagne text 'LUXE'. Letters formed from golden champagne spray frozen mid-celebration. Droplets and bubbles suspended in air. Black background with spotlight. Dom Prignon bottle in frame. Ultimate celebration luxury."},{id:179,title:"Cursed Mirror",category:"horror",emoji:"",sampleText:"CURSED",prompt:"Create cursed mirror text 'CURSED'. Letters appearing as if written backward in foggy mirror condensation. Cracked mirror with dark figure barely visible behind. Flickering bathroom light. Japanese horror film atmosphere. Supernatural dread aesthetic."},{id:180,title:"Eldritch Tentacle",category:"horror",emoji:"",sampleText:"CTHULHU",prompt:"Design Lovecraftian tentacle text 'CTHULHU'. Letters formed from writhing dark tentacles emerging from shadows. Suction cups and alien bio-textures. Deep ocean darkness with faint bioluminescent glow. Cosmic horror elder god aesthetic."},{id:181,title:"Possessed Doll",category:"horror",emoji:"",sampleText:"HAUNT",prompt:"Create possessed doll text 'HAUNT'. Letters made from cracked porcelain doll parts with one glass eye visible. Stitched together with coarse thread. Dusty abandoned nursery setting. Single swinging light bulb. Psychological horror aesthetic."},{id:182,title:"Acid Corrosion",category:"horror",emoji:"",sampleText:"DECAY",prompt:"Design acid corroded text 'DECAY'. Letters being dissolved by dripping acid with bubbling chemical reaction. Metal surface corroding with holes and pitting. Green-yellow acid pools. Chemical plant disaster. Industrial horror aesthetic."},{id:183,title:"Ouija Board",category:"horror",emoji:"",sampleText:"BEYOND",prompt:"Create ouija board text 'BEYOND'. Letters styled as ouija board planchette pointing to each letter. Aged wooden board with occult symbols. Candlelit sance room. Mysterious invisible force. Victorian spiritualism horror aesthetic."},{id:184,title:"Asylum Wall",category:"horror",emoji:"",sampleText:"ESCAPE",prompt:"Design asylum wall text 'ESCAPE'. Letters scratched desperately into padded cell or plaster wall. Fingernail scratch marks. Peeling institutional paint. Harsh fluorescent flickering light. Abandoned mental hospital. Psychological thriller aesthetic."},{id:185,title:"Voodoo Stitch",category:"horror",emoji:"",sampleText:"CURSE",prompt:"Create voodoo text 'CURSE'. Letters stitched into burlap voodoo doll material with crude thread. Pin and needle piercings through letters. Dried herbs and bones scattered. Candlelit ritual altar. Dark folk magic aesthetic."},{id:186,title:"Pixel Art Retro",category:"cartoon",emoji:"",sampleText:"RETRO",prompt:"Create pixel art text 'RETRO'. Chunky pixel letters in classic 16-bit game style. Limited color palette like SNES era. Scanline effect overlay. Game cartridge and controller nearby. 90s gaming nostalgia aesthetic."},{id:187,title:"Pop Art Dots",category:"cartoon",emoji:"",sampleText:"WOW",prompt:"Design Lichtenstein pop art text 'WOW'. Bold letters with Ben-Day dot pattern fill. Primary color scheme red, yellow, blue, black. Thick black outlines. Thought bubble frame. 1960s Andy Warhol gallery aesthetic."},{id:188,title:"Rubber Duck",category:"cartoon",emoji:"",sampleText:"QUACK",prompt:"Create rubber duck text 'QUACK'. Letters shaped like yellow rubber ducks with orange beaks. Bubble bath foam around letters. Blue bathtub water. Playful bathroom toy aesthetic. Bright cheerful colors. Childhood bath time fun."},{id:189,title:"Slime Drip",category:"cartoon",emoji:"",sampleText:"SLIME",prompt:"Design Nickelodeon slime text 'SLIME'. Letters made from stretchy green slime with dripping gooey strings. Glossy wet surface. Splat marks around. 90s Nickelodeon game show aesthetic. Kids entertainment messy fun."},{id:190,title:"Piata Text",category:"cartoon",emoji:"",sampleText:"FIESTA",prompt:"Create piata text 'FIESTA'. Letters constructed from colorful piata tissue paper fringe layers. Candy spilling from cracked letters. Confetti explosion. Mexican fiesta celebration background. Vibrant party aesthetic."},{id:191,title:"Sandwich Stack",category:"cartoon",emoji:"",sampleText:"STACK",prompt:"Design sandwich stack text 'STACK'. Letters built like towering cartoon sandwiches with layers of ingredients. Lettuce, tomato, cheese, meat visible. Cartoon steam rising. Deli counter background. Scooby-Doo oversized sandwich aesthetic."},{id:192,title:"Crayon Melting",category:"cartoon",emoji:"",sampleText:"MELT",prompt:"Create melting crayon text 'MELT'. Letters formed from Crayola crayons melting downward in rainbow colors. Wax dripping and pooling. Heat gun melting art technique. Canvas board. Art classroom creative project aesthetic."},{id:193,title:"Stained Glass Window",category:"fantasy",emoji:"",sampleText:"SACRED",prompt:"Create stained glass text 'SACRED'. Letters designed as medieval cathedral stained glass windows. Lead came separating colorful glass pieces. Sunlight streaming through creating colored light pools. Gothic cathedral interior. Religious art masterwork aesthetic."},{id:194,title:"Knitted Sweater",category:"cartoon",emoji:"",sampleText:"WARM",prompt:"Design knitted sweater text 'WARM'. Letters knitted in Fair Isle or Nordic sweater pattern. Yarn texture visible in each stitch. Christmas sweater color palette. Cozy fireplace background. Winter holiday hygge aesthetic."},{id:195,title:"Newspaper Headline",category:"retro",emoji:"",sampleText:"EXTRA",prompt:"Create newspaper headline text 'EXTRA'. Bold black ink letterpress letters on newsprint. Extra Extra Read All About It style. Slightly smudged ink. Folded newspaper stack. 1940s newsboy delivery. Breaking news urgency."},{id:196,title:"Satellite Earth Text",category:"tech",emoji:"",sampleText:"EARTH",prompt:"Design earth satellite text 'EARTH'. Letters visible in landscape formations from orbital view. Rivers, mountains, and forests forming letter shapes. Satellite photography perspective. Google Earth altitude. Overview effect planet scale."},{id:197,title:"Terrazzo Floor",category:"elegant",emoji:"",sampleText:"RETRO",prompt:"Create terrazzo text 'RETRO'. Letters made from colorful terrazzo material with chips of marble, quartz, and glass. Polished smooth surface. Mid-century modern color palette. Architectural detail. Italian design heritage aesthetic."},{id:198,title:"Tire Track Text",category:"graffiti",emoji:"",sampleText:"DRIVE",prompt:"Design tire track text 'DRIVE'. Letters formed from muddy tire tracks on dusty road surface. Various tread patterns visible. Dirt road with puddles. Monster truck rally dust cloud. Off-road adventure motorsport aesthetic."},{id:199,title:"Snowfall Text",category:"nature",emoji:"",sampleText:"FROST",prompt:"Create snowfall text 'FROST'. Letters formed from accumulated fresh snow on dark wooden surface. Individual snowflake details visible. Gently falling snow. Quiet winter forest twilight. Silent snowfall serenity aesthetic."},{id:200,title:"Magnetic Poetry",category:"cartoon",emoji:"",sampleText:"WORDS",prompt:"Design magnetic poetry text 'WORDS'. Letters as individual magnetic word tiles on refrigerator door. Different font sizes and slight angle variations. Kitchen fridge with photos and magnets. Casual creative expression. Everyday poetry aesthetic."},{id:201,title:"3D Marble Text",category:"3d",emoji:"",sampleText:"MARBLE",prompt:"Create 3D marble text 'MARBLE'. Polished Carrara marble letters with natural grey veining. Luxurious stone texture with subtle translucency. Museum pedestal display. Soft overhead gallery lighting. Italian renaissance sculpture aesthetic."},{id:202,title:"3D Rubber Text",category:"3d",emoji:"",sampleText:"BOUNCE",prompt:"Design 3D rubber text 'BOUNCE'. Bright colorful rubber/silicone letters that appear squeezable and elastic. Slightly deformed as if being pressed. Playful studio lighting. Toy store display vibe. Satisfying tactile texture."},{id:203,title:"3D Ice Cream Text",category:"3d",emoji:"",sampleText:"SCOOP",prompt:"Create 3D ice cream text 'SCOOP'. Letters sculpted from swirled soft-serve ice cream in multiple flavors. Waffle cone texture base. Sprinkles and dripping chocolate sauce. Summer ice cream parlor setting. Delicious dessert aesthetic."},{id:204,title:"3D Clay Text",category:"3d",emoji:"",sampleText:"MOLD",prompt:"Design 3D hand-molded clay text 'MOLD'. Letters shaped from wet pottery clay with visible fingerprint impressions. Terracotta orange color. Potter's wheel and tools nearby. Artisan ceramics studio. Handcrafted organic feel."},{id:205,title:"3D Jelly Text",category:"3d",emoji:"",sampleText:"JELLY",prompt:"Create 3D jelly/gelatin text 'JELLY'. Translucent wobbly jelly letters in vibrant fruit colors. Light passing through showing transparency. Slight jiggle motion implied. White plate presentation. Fun dessert food photography aesthetic."},{id:206,title:"3D Wax Seal Text",category:"3d",emoji:"",sampleText:"ROYAL",prompt:"Design 3D wax seal text 'ROYAL'. Deep crimson sealing wax letters pressed with ornate stamp. Detailed coat of arms impression. Aged parchment background. Candlelight. Medieval royal correspondence aesthetic."},{id:207,title:"3D Foam Text",category:"3d",emoji:"",sampleText:"FLOAT",prompt:"Create 3D foam text 'FLOAT'. White styrofoam-like letters with visible tiny air bubbles. Lightweight and floating appearance. Pool water surface beneath. Bright summer sunshine. Beach party relaxation aesthetic."},{id:208,title:"3D Cheese Text",category:"3d",emoji:"",sampleText:"CHEESE",prompt:"Design 3D Swiss cheese text 'CHEESE'. Yellow cheese letters with characteristic round holes throughout. Glossy melted edges. Wooden cutting board surface. Rustic kitchen setting. Gourmet food photography aesthetic."},{id:209,title:"Aurora Borealis Text",category:"neon",emoji:"",sampleText:"AURORA",prompt:"Create aurora borealis text 'AURORA'. Letters formed from flowing northern lights in green, purple, and blue. Undulating curtains of light. Starry arctic night sky. Snow-covered landscape below. Natural light phenomenon aesthetic."},{id:210,title:"Bioluminescent Text",category:"neon",emoji:"",sampleText:"DEEP",prompt:"Design bioluminescent text 'DEEP'. Letters glowing with deep ocean bioluminescence. Blue-green organic light. Plankton particles floating. Deep underwater darkness. Marine biology night diving aesthetic."},{id:211,title:"Fiber Optic Text",category:"neon",emoji:"",sampleText:"FIBER",prompt:"Create fiber optic text 'FIBER'. Letters formed from bundles of glowing fiber optic strands. Multiple colors emanating from strand tips. Dark room with light trails. Telecommunications technology aesthetic."},{id:212,title:"Firefly Text",category:"neon",emoji:"",sampleText:"MAGIC",prompt:"Design firefly text 'MAGIC'. Letters outlined by tiny glowing fireflies hovering in formation. Warm yellow-green organic glow. Summer evening meadow. Tall grass silhouettes. Enchanted countryside twilight aesthetic."},{id:213,title:"Radioactive Glow",category:"neon",emoji:"",sampleText:"TOXIC",prompt:"Create radioactive glow text 'TOXIC'. Letters with intense green radioactive glow. Hazmat symbols and warning stripes. Industrial containment chamber. Fog and mist. Nuclear facility science fiction aesthetic."},{id:214,title:"Candlelight Text",category:"neon",emoji:"",sampleText:"FLAME",prompt:"Design candlelight text 'FLAME'. Letters formed from arranged candle flames. Warm golden flickering light. Melting wax drips. Dark chapel interior. Hundreds of votive candles. Sacred candlelit vigil aesthetic."},{id:215,title:"LED Strip Text",category:"neon",emoji:"",sampleText:"RGB",prompt:"Create LED strip text 'RGB'. Letters outlined with programmable RGB LED strips. Smooth color transitions cycling through spectrum. Gaming room setup. Clean modern desk. Tech enthusiast RGB lighting aesthetic."},{id:216,title:"Sparkler Text",category:"neon",emoji:"",sampleText:"SPARK",prompt:"Design sparkler text 'SPARK'. Letters traced with long-exposure sparkler light painting. Golden sparks flying. Night photography technique. Dark outdoor setting. New Year celebration light writing aesthetic."},{id:217,title:"Typewriter Text",category:"retro",emoji:"",sampleText:"CLICK",prompt:"Create typewriter text 'CLICK'. Letters typed by vintage typewriter with slightly uneven ink impression. Some letters darker than others. Aged cream paper with typing marks. Underwood typewriter nearby. 1950s journalism nostalgia aesthetic."},{id:218,title:"Telegram Text",category:"retro",emoji:"",sampleText:"STOP",prompt:"Design telegraph telegram text 'STOP'. Bold uppercase letters on telegram paper strip. Morse code dots and dashes decorating border. Yellow aged paper. Western Union style header. 1930s communication urgency aesthetic."},{id:219,title:"Drive-In Theater",category:"retro",emoji:"",sampleText:"MOVIES",prompt:"Create drive-in theater text 'MOVIES'. Letters displayed on vintage drive-in movie marquee. Individual changeable letters on dark board. String lights border. Sunset sky behind. 1950s American drive-in culture nostalgic aesthetic."},{id:220,title:"Vinyl Record Label",category:"retro",emoji:"",sampleText:"VINYL",prompt:"Design vinyl record label text 'VINYL'. Letters printed on center label of spinning vinyl record. Classic round label design. Grooves visible on black vinyl. Turntable setup. Analog music audiophile aesthetic."},{id:221,title:"Polaroid Caption",category:"retro",emoji:"",sampleText:"MEMORIES",prompt:"Create Polaroid caption text 'MEMORIES'. Handwritten text on white border of Polaroid instant photo. Slightly faded photo above. Scattered Polaroids on table. Warm nostalgic lighting. Analog photography memory aesthetic."},{id:222,title:"Matchbook Cover",category:"retro",emoji:"",sampleText:"LOUNGE",prompt:"Design vintage matchbook cover text 'LOUNGE'. Retro lettering on old-style matchbook. Mid-century cocktail lounge branding. Stylized graphics and bold colors. Slightly worn edges. 1960s bar culture aesthetic."},{id:223,title:"Old Map Cartography",category:"retro",emoji:"",sampleText:"EXPLORE",prompt:"Create old cartography map text 'EXPLORE'. Letters in classic cartographer handwriting style. Aged parchment map with sea monsters and compass rose. Ink drawing style. Age of Discovery navigation aesthetic."},{id:224,title:"Vintage Train Ticket",category:"retro",emoji:"",sampleText:"JOURNEY",prompt:"Design vintage train ticket text 'JOURNEY'. Letters printed on old-fashioned perforated railway ticket. Ornate border design. Stamped date and destination. Golden age of rail travel. Orient Express luxury aesthetic."},{id:225,title:"Damascus Steel",category:"metallic",emoji:"",sampleText:"BLADE",prompt:"Create Damascus steel text 'BLADE'. Letters showing distinctive wavy Damascus pattern of folded steel layers. Dark and light metal contrasting patterns. Forge workshop with anvil. Ancient weaponry metallurgy aesthetic."},{id:226,title:"Titanium Brushed",category:"metallic",emoji:"",sampleText:"TITAN",prompt:"Design titanium brushed text 'TITAN'. Ultra-modern titanium metal letters with fine directional brushing. Blue-grey anodized color variations. Aerospace engineering setting. Advanced technology aesthetic."},{id:227,title:"Mercury Liquid",category:"metallic",emoji:"",sampleText:"MERCURY",prompt:"Create liquid mercury text 'MERCURY'. Letters formed from pools of liquid mercury/quicksilver. Perfect mirror reflections. Beading and flowing properties visible. Laboratory glass vessel. Alchemist mysterious element aesthetic."},{id:228,title:"Bronze Statue",category:"metallic",emoji:"",sampleText:"ETERNAL",prompt:"Design bronze statue text 'ETERNAL'. Letters cast in aged bronze with green patina. Classical Roman inscription style. Public monument pedestal. City park with autumn trees. Timeless memorial monument aesthetic."},{id:229,title:"Tin Foil Text",category:"metallic",emoji:"",sampleText:"WRAP",prompt:"Create tin foil text 'WRAP'. Letters shaped from crinkled aluminum foil. Reflective wrinkled surface catching light irregularly. Kitchen counter with foil roll. Everyday household material. Creative DIY craft aesthetic."},{id:230,title:"Welded Steel Text",category:"metallic",emoji:"",sampleText:"WELD",prompt:"Design welded steel text 'WELD'. Heavy industrial steel letters joined by visible weld beads. Blue arc welding spark still glowing. Welding mask and gloves nearby. Metal workshop. Industrial fabrication aesthetic."},{id:231,title:"Silver Filigree",category:"metallic",emoji:"",sampleText:"ORNATE",prompt:"Create silver filigree text 'ORNATE'. Letters crafted from delicate twisted silver wire filigree work. Intricate scrolling patterns within each letter. Dark velvet backdrop. Master silversmith artisan aesthetic."},{id:232,title:"Cactus Text",category:"nature",emoji:"",sampleText:"DESERT",prompt:"Create cactus text 'DESERT'. Letters shaped from various cacti species with spines and flowers. Saguaro and barrel cactus forms. Sandy desert ground. Sunset sky with warm orange tones. Southwestern desert aesthetic."},{id:233,title:"Mushroom Text",category:"nature",emoji:"",sampleText:"FUNGI",prompt:"Design mushroom text 'FUNGI'. Letters formed from clusters of colorful mushrooms and toadstools. Red spotted caps, shelf fungi, morels. Damp forest floor with moss. Enchanted woodland foraging aesthetic."},{id:234,title:"Seashell Text",category:"nature",emoji:"",sampleText:"SHORE",prompt:"Create seashell text 'SHORE'. Letters constructed from arranged seashells of various types. Conch, scallop, cowrie, nautilus shells. Wet sand at water's edge. Beachcomber collection aesthetic."},{id:235,title:"Bamboo Text",category:"nature",emoji:"",sampleText:"ZEN",prompt:"Design bamboo text 'ZEN'. Letters constructed from carved bamboo stalks and segments. Green natural bamboo color with node joints visible. Japanese zen garden background. Raked sand patterns. Peaceful meditation aesthetic."},{id:236,title:"Lava Rock Text",category:"nature",emoji:"",sampleText:"VOLCANIC",prompt:"Create lava rock text 'VOLCANIC'. Letters carved from dark volcanic basalt with porous texture. Red lava glow visible through cracks. Active volcano in background. Dramatic twilight sky. Geological volcanic aesthetic."},{id:237,title:"Butterfly Wing Text",category:"nature",emoji:"",sampleText:"FLUTTER",prompt:"Design butterfly wing text 'FLUTTER'. Letters composed of arranged monarch butterfly wings. Intricate scale patterns in orange and black. Garden flowers surrounding. Golden hour sunlight. Lepidopterist collection aesthetic."},{id:238,title:"Driftwood Text",category:"nature",emoji:"",sampleText:"TIDE",prompt:"Create driftwood text 'TIDE'. Letters assembled from weathered grey driftwood pieces. Sun-bleached and salt-worn texture. Rocky coastline setting. Tide pools with starfish. Pacific Northwest beachcombing aesthetic."},{id:239,title:"Sushi Text",category:"food",emoji:"",sampleText:"SUSHI",prompt:"Create sushi text 'SUSHI'. Letters constructed from sushi rolls showing nori, rice, and colorful fillings. Salmon nigiri accents. Chopsticks and soy sauce nearby. Bamboo mat surface. Japanese omakase dining aesthetic."},{id:240,title:"Waffle Text",category:"food",emoji:"",sampleText:"CRISPY",prompt:"Design waffle text 'CRISPY'. Letters shaped as golden Belgian waffles with grid pattern. Maple syrup drizzle and butter pat on top. Fresh berries garnish. Breakfast table setting. Cozy weekend brunch aesthetic."},{id:241,title:"Popcorn Text",category:"food",emoji:"",sampleText:"MOVIE",prompt:"Create popcorn text 'MOVIE'. Letters formed from clusters of fluffy popped popcorn kernels. Butter-glossy yellow color. Classic red and white striped box. Movie theater dark setting. Cinema snack aesthetic."},{id:242,title:"Donut Text",category:"food",emoji:"",sampleText:"GLAZE",prompt:"Design glazed donut text 'GLAZE'. Letters shaped as colorful frosted donuts with various toppings. Pink, chocolate, and vanilla glazes. Rainbow sprinkles. Bakery display case. Morning pastry shop aesthetic."},{id:243,title:"Pretzel Text",category:"food",emoji:"",sampleText:"TWIST",prompt:"Create pretzel text 'TWIST'. Letters twisted into golden brown pretzel shapes. Coarse salt crystals on surface. Slightly glossy baked finish. Wooden bakery counter. German Oktoberfest snack aesthetic."},{id:244,title:"Cotton Candy Text",category:"food",emoji:"",sampleText:"FLUFFY",prompt:"Design cotton candy text 'FLUFFY'. Letters spun from wispy pink and blue cotton candy. Airy sugar fiber texture pulling apart. Carnival lights background. County fair midway sweet treat aesthetic."},{id:245,title:"Ramen Text",category:"food",emoji:"",sampleText:"SLURP",prompt:"Create ramen text 'SLURP'. Letters formed from curly ramen noodles in rich broth. Chopsticks lifting noodle strands. Soft-boiled egg and chashu garnish. Steaming ceramic bowl. Japanese ramen shop aesthetic."},{id:246,title:"Solar Flare Text",category:"fire",emoji:"",sampleText:"SOLAR",prompt:"Create solar flare text 'SOLAR'. Letters formed from explosive solar prominences and flares. Intense orange-white plasma arcs. Sun surface chromosphere texture. Space telescope view. Astrophysics observation aesthetic."},{id:247,title:"Dry Ice Fog Text",category:"fire",emoji:"",sampleText:"MIST",prompt:"Design dry ice fog text 'MIST'. Letters emerging through thick rolling dry ice fog. Cool blue-white atmospheric haze. Ground-hugging fog effect. Dark stage setting with uplighting. Theater special effects aesthetic."},{id:248,title:"Molten Glass Text",category:"fire",emoji:"",sampleText:"BLOWN",prompt:"Create molten glass text 'BLOWN'. Letters formed from glowing hot molten glass on blowpipe. Intense orange-red heated glass. Glassblower workshop with furnace. Murano glassmaking craft aesthetic."},{id:249,title:"Ember Text",category:"fire",emoji:"",sampleText:"ASH",prompt:"Design ember text 'ASH'. Letters formed from glowing red embers of a dying campfire. Floating ash particles. Grey ash bed with hot spots. Night campsite deep in forest. Campfire cozy evening aesthetic."},{id:250,title:"Glacier Text",category:"fire",emoji:"",sampleText:"GLACIER",prompt:"Create glacier text 'GLACIER'. Letters carved from ancient compressed glacial ice. Deep blue translucent ice color. Air bubble inclusions visible. Ice cave interior. Arctic expedition geological aesthetic."},{id:251,title:"Volcanic Lightning",category:"fire",emoji:"",sampleText:"STORM",prompt:"Design volcanic lightning text 'STORM'. Letters illuminated by electric lightning within volcanic ash cloud. Dark pyroclastic plume with lightning bolts. Erupting volcano crater. Natural catastrophic power aesthetic."},{id:252,title:"Welding Sparks Text",category:"fire",emoji:"",sampleText:"FORGE",prompt:"Create welding sparks text 'FORGE'. Letters outlined by cascading welding sparks shower. Bright white-orange sparks trailing. Dark industrial workshop. Metal grinding. Blue-collar metalwork aesthetic."},{id:253,title:"Chalk Art Text",category:"graffiti",emoji:"",sampleText:"PLAY",prompt:"Create sidewalk chalk art text 'PLAY'. Colorful chalk letters drawn on grey concrete sidewalk. Child artistic style with vibrant colors. Hopscotch grid nearby. Playground setting. Childhood outdoor play aesthetic."},{id:254,title:"Wheatpaste Poster",category:"graffiti",emoji:"",sampleText:"REVOLT",prompt:"Design wheatpaste poster text 'REVOLT'. Bold graphic letters on torn layered wheatpaste posters. Multiple overlapping posters partially ripped. Urban construction hoarding. Punk rock DIY promotion aesthetic."},{id:255,title:"Mosaic Tile Text",category:"graffiti",emoji:"",sampleText:"PIECE",prompt:"Create mosaic tile text 'PIECE'. Letters constructed from small colorful ceramic tile pieces. Grouted gaps between tiles. Public art installation on building wall. Barcelona Gaudi-inspired public art aesthetic."},{id:256,title:"Neon Marker Text",category:"graffiti",emoji:"",sampleText:"BOLD",prompt:"Design neon marker text 'BOLD'. Letters written with fluorescent highlighter markers on black surface. Bright yellow, pink, green, orange markers. Overlapping strokes. Underground art scene creative aesthetic."},{id:257,title:"Skateboard Deck",category:"graffiti",emoji:"",sampleText:"GRIND",prompt:"Create skateboard deck text 'GRIND'. Bold letters designed on skateboard deck underside graphic. Worn and scratched from use. Grip tape texture on edges. Skatepark concrete bowl. Street skating culture aesthetic."},{id:258,title:"Sticker Bomb Text",category:"graffiti",emoji:"",sampleText:"STICK",prompt:"Design sticker bomb text 'STICK'. Letters revealed through hundreds of overlapping vinyl stickers. Various designs and characters. Laptop lid surface. Peeling edges. Street culture sticker trading aesthetic."},{id:259,title:"Roller Paint Text",category:"graffiti",emoji:"",sampleText:"COVER",prompt:"Create paint roller text 'COVER'. Large bold letters painted with wall paint roller. Thick latex paint with roller texture marks. Half-painted concrete wall. Guerrilla art building mural painting aesthetic."},{id:260,title:"Dragon Scale Text",category:"fantasy",emoji:"",sampleText:"DRAGON",prompt:"Create dragon scale text 'DRAGON'. Letters covered in iridescent dragon scales. Metallic green-gold shimmer. Smoke wisps rising. Dragon treasure hoard background with gold coins. Medieval fantasy dragon lair aesthetic."},{id:261,title:"Fairy Dust Text",category:"fantasy",emoji:"",sampleText:"WISH",prompt:"Design fairy dust text 'WISH'. Letters traced by sparkling fairy dust trail in the air. Golden glittering particles. Tiny fairy silhouette at end. Enchanted moonlit garden. Magical fairy tale aesthetic."},{id:262,title:"Wizard Spell Text",category:"fantasy",emoji:"",sampleText:"SPELL",prompt:"Create wizard spell text 'SPELL'. Letters appearing as glowing magical incantation in air. Ancient runic influence. Wizard hands casting below. Spell book open on stone table. Wizard tower study aesthetic."},{id:263,title:"Crystal Cave Text",category:"fantasy",emoji:"",sampleText:"AMETHYST",prompt:"Design crystal cave text 'AMETHYST'. Letters formed from giant amethyst crystal formations. Deep purple with internal light glow. Underground crystal cave with stalactites. Geode wonderland exploration aesthetic."},{id:264,title:"Enchanted Forest",category:"fantasy",emoji:"",sampleText:"ENCHANT",prompt:"Create enchanted forest text 'ENCHANT'. Letters formed from twisted ancient tree branches and glowing mushrooms. Fireflies illuminating. Dense mystical fog. Dark fairy tale enchanted forest aesthetic."},{id:265,title:"Mermaid Scale Text",category:"fantasy",emoji:"",sampleText:"SIREN",prompt:"Design mermaid scale text 'SIREN'. Letters covered in shimmering iridescent mermaid scales. Aquamarine, pearl, and violet color shifts. Underwater light rays. Fantasy ocean kingdom mythology aesthetic."},{id:266,title:"Phoenix Feather Text",category:"fantasy",emoji:"",sampleText:"REBIRTH",prompt:"Create phoenix feather text 'REBIRTH'. Letters composed of fiery phoenix feathers in red, orange, and gold. Ember tips still burning. Ashes floating upward. Mythological phoenix rising aesthetic."},{id:267,title:"Potion Bottle Text",category:"fantasy",emoji:"",sampleText:"BREW",prompt:"Design potion text 'BREW'. Letters formed from bubbling colorful potions spilling from glass bottles. Swirling magical vapors. Alchemist workbench with ingredients. Medieval apothecary potion brewing aesthetic."},{id:268,title:"Blockchain Text",category:"tech",emoji:"",sampleText:"BLOCK",prompt:"Create blockchain text 'BLOCK'. Letters formed from interconnected data blocks with hash chains. Transparent block structures showing transaction data. Network node connections. Cryptocurrency technology aesthetic."},{id:269,title:"Neural Network Text",category:"tech",emoji:"",sampleText:"NEURAL",prompt:"Design neural network text 'NEURAL'. Letters formed from interconnected neurons with synaptic connections. Glowing activation signals traveling along pathways. Deep learning visualization. AI research aesthetic."},{id:270,title:"Radar Screen Text",category:"tech",emoji:"",sampleText:"SCAN",prompt:"Create radar screen text 'SCAN'. Letters displayed on circular radar sweep screen. Green phosphor CRT glow. Rotating sweep line illuminating letters. Military operations center. Cold war surveillance aesthetic."},{id:271,title:"3D Printer Text",category:"tech",emoji:"",sampleText:"PRINT",prompt:"Design 3D printed text 'PRINT'. Letters being actively 3D printed layer by layer. Visible layer lines and infill pattern. FDM nozzle depositing material. Maker space fabrication aesthetic."},{id:272,title:"Microchip Text",category:"tech",emoji:"",sampleText:"CHIP",prompt:"Create microchip die text 'CHIP'. Letters visible in silicon die layout under electron microscope. Transistor gate patterns. Wire bonding connections. Semiconductor manufacturing nanoscale aesthetic."},{id:273,title:"Server Rack Text",category:"tech",emoji:"",sampleText:"DATA",prompt:"Design server rack text 'DATA'. Letters formed from blinking LED status lights on server rack fronts. Blue and green indicator lights. Cold aisle data center. Enterprise IT infrastructure aesthetic."},{id:274,title:"Oscilloscope Text",category:"tech",emoji:"",sampleText:"WAVE",prompt:"Create oscilloscope text 'WAVE'. Letters traced by phosphor waveform on oscilloscope screen. Green CRT trace with afterglow. Grid graticule overlay. Electronics lab bench testing aesthetic."},{id:275,title:"Satellite Dish Text",category:"tech",emoji:"",sampleText:"SIGNAL",prompt:"Design satellite dish text 'SIGNAL'. Letters formed from satellite dish array arrangement viewed from above. Parabolic reflector surfaces. Desert antenna farm. Deep space communication listening post aesthetic."},{id:276,title:"Embroidered Silk",category:"elegant",emoji:"",sampleText:"THREAD",prompt:"Create embroidered silk text 'THREAD'. Letters delicately embroidered with silk thread on cream fabric. Satin stitch technique with metallic gold accents. Embroidery hoop frame. Haute couture fashion atelier aesthetic."},{id:277,title:"Calligraphy Ink",category:"elegant",emoji:"",sampleText:"SCRIPT",prompt:"Design calligraphy ink text 'SCRIPT'. Letters written with pointed nib pen in flowing Copperplate style. Rich black Sumi ink on handmade washi paper. Traditional penmanship mastery aesthetic."},{id:278,title:"Pearl Strand Text",category:"elegant",emoji:"",sampleText:"PEARL",prompt:"Create pearl strand text 'PEARL'. Letters formed from strands of lustrous pearls carefully arranged. South Sea and Akoya pearl mix. Navy velvet jewelry display. Luxury jewelry aesthetic."},{id:279,title:"Leather Tooled",category:"elegant",emoji:"",sampleText:"SADDLE",prompt:"Design leather tooled text 'SADDLE'. Letters stamped and tooled into rich saddle leather. Western floral tooling patterns around letters. Burnished edges. Artisan leather craftsmanship aesthetic."},{id:280,title:"Mosaic Gold Text",category:"elegant",emoji:"",sampleText:"DIVINE",prompt:"Create Byzantine mosaic text 'DIVINE'. Letters composed of gold leaf tesserae mosaic pieces. Rich lapis lazuli blue background tiles. Cathedral dome interior. Ravenna Byzantine religious art aesthetic."},{id:281,title:"Perfume Bottle Text",category:"elegant",emoji:"",sampleText:"ESSENCE",prompt:"Design perfume bottle text 'ESSENCE'. Letters formed from crystal perfume bottle facets catching light. Golden amber liquid visible. Atomizer mist spray. Marble vanity surface. Luxury fragrance aesthetic."},{id:282,title:"Opera House Text",category:"elegant",emoji:"",sampleText:"GRAND",prompt:"Create opera house text 'GRAND'. Letters styled as gilded theater marquee with ornate molding. Red curtain backdrop. Crystal chandelier above. Metropolitan Opera House grand premiere aesthetic."},{id:283,title:"Silk Ribbon Text",category:"elegant",emoji:"",sampleText:"GRACE",prompt:"Design silk ribbon text 'GRACE'. Letters formed from flowing satin ribbons in soft pastel colors. Elegant loops and curves. Morning window light. Luxury gift presentation aesthetic."},{id:284,title:"Cobweb Text",category:"horror",emoji:"",sampleText:"SPIDER",prompt:"Create cobweb text 'SPIDER'. Letters woven from intricate spider silk web strands. Morning dew drops on threads catching light. Large garden spider nearby. Gothic cemetery gate. Halloween atmospheric aesthetic."},{id:285,title:"Zombie Hand Text",category:"horror",emoji:"",sampleText:"UNDEAD",prompt:"Design zombie text 'UNDEAD'. Letters clawed from earth by rotting zombie hands breaking through grave soil. Cracked tombstones. Full moon behind dead tree. Classic zombie horror B-movie aesthetic."},{id:286,title:"Blood Splatter Text",category:"horror",emoji:"",sampleText:"SCREAM",prompt:"Create blood splatter text 'SCREAM'. Letters formed from dramatic blood splatter pattern on white wall. Dripping crimson trails. Crime scene investigation tape. Forensic thriller murder mystery aesthetic."},{id:287,title:"Haunted Mirror Text",category:"horror",emoji:"",sampleText:"REFLECT",prompt:"Design haunted mirror text 'REFLECT'. Letters appearing as ghostly reflection in antique gilded mirror. No physical source visible. Cracked mirror. Dust-covered Victorian bedroom. Paranormal supernatural aesthetic."},{id:288,title:"Werewolf Claw Text",category:"horror",emoji:"",sampleText:"HOWL",prompt:"Create werewolf claw text 'HOWL'. Letters slashed by deep claw marks in tree bark. Four parallel gashes per stroke. Moonlit forest with full moon. Lycanthrope transformation night horror aesthetic."},{id:289,title:"Creepy Doll Text",category:"horror",emoji:"",sampleText:"WATCH",prompt:"Design creepy doll text 'WATCH'. Letters arranged from mismatched antique doll parts and glass eyes. Cracked porcelain faces. Dusty attic toy chest. Single bare light bulb swinging. Childhood fear horror aesthetic."},{id:290,title:"Crypt Text",category:"horror",emoji:"",sampleText:"REST",prompt:"Create crypt text 'REST'. Letters carved into ancient stone crypt wall with moss growing in grooves. Cobwebs spanning letters. Flickering torch light. Underground burial chamber. Medieval catacomb aesthetic."},{id:291,title:"LEGO Block Text",category:"cartoon",emoji:"",sampleText:"BUILD",prompt:"Create LEGO block text 'BUILD'. Letters constructed from colorful interlocking plastic bricks. Visible studs and connections. Primary colors red, blue, yellow, green. Playroom floor. Creative building toy aesthetic."},{id:292,title:"Balloon Animal Text",category:"cartoon",emoji:"",sampleText:"TWIST",prompt:"Design balloon animal text 'TWIST'. Letters twisted from colorful long balloons like balloon artist creations. Shiny latex surface with reflections. Party venue backdrop. Children birthday entertainment aesthetic."},{id:293,title:"Playdough Text",category:"cartoon",emoji:"",sampleText:"SQUISH",prompt:"Create Play-Doh text 'SQUISH'. Letters molded from colorful Play-Doh with visible finger impressions. Bright primary colors. Play-Doh containers and tools nearby. Preschool creative play aesthetic."},{id:294,title:"Cereal Box Text",category:"cartoon",emoji:"",sampleText:"CRUNCH",prompt:"Design cereal box text 'CRUNCH'. Bold colorful letters in breakfast cereal mascot style. Explosion of cereal pieces and milk splash. Morning kitchen table. Saturday morning cartoon breakfast aesthetic."},{id:295,title:"Emoji Text",category:"cartoon",emoji:"",sampleText:"MOOD",prompt:"Create emoji text 'MOOD'. Each letter decorated with relevant emojis. Smartphone screen display. iOS emoji style. Chat message bubble background. Digital communication expression aesthetic."},{id:296,title:"Paper Airplane Text",category:"cartoon",emoji:"",sampleText:"FLY",prompt:"Design paper airplane text 'FLY'. Letters folded from white paper airplanes in mid-flight. Dotted flight path trails. Blue sky with fluffy clouds. School desk with notebook paper. Childhood imagination aesthetic."},{id:297,title:"Candy Wrapper Text",category:"cartoon",emoji:"",sampleText:"CANDY",prompt:"Create candy wrapper text 'CANDY'. Letters designed as colorful twisted candy wrappers. Shiny metallic foil and cellophane materials. Halloween candy haul spread. Sweet tooth candy collection aesthetic."},{id:298,title:"Toy Block Text",category:"cartoon",emoji:"",sampleText:"ABC",prompt:"Design wooden alphabet block text 'ABC'. Classic children learning blocks with painted letters. Primary colored blocks stacked. Nursery room floor. Early childhood alphabet learning aesthetic."},{id:299,title:"Bubble Wrap Text",category:"cartoon",emoji:"",sampleText:"POP",prompt:"Create bubble wrap text 'POP'. Letters formed from bubble wrap with some bubbles popped and some intact. Translucent plastic material. Shipping box and packing peanuts. Unboxing satisfaction aesthetic."},{id:300,title:"Crayon Box Text",category:"cartoon",emoji:"",sampleText:"COLOR",prompt:"Design Crayola crayon box text 'COLOR'. Letters formed from arranged crayons in rainbow order. Iconic crayon pointed tips and paper wrapper labels. Open crayon box nearby. Elementary school coloring aesthetic."}],u6=()=>{var E;const[n,e]=S.useState("all"),[t,i]=S.useState(""),[r,s]=S.useState(null),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(""),[p,m]=S.useState(""),[v,y]=S.useState(!1),{toast:x}=yf(),g=S.useMemo(()=>d6.filter(_=>{const C=n==="all"||_.category===n,A=!t||_.title.toLowerCase().includes(t.toLowerCase())||_.sampleText.toLowerCase().includes(t.toLowerCase());return C&&A}),[n,t]),f=async _=>{await navigator.clipboard.writeText(_),o(!0),x({title:"Copied!",description:"Prompt  clipboard  copy "}),setTimeout(()=>o(!1),2e3)},b=async()=>{if(!r)return;c(!0),h("");const _=u||r.prompt,C=p.trim()?`User's additional instructions: ${p}

`:"";try{const{data:A,error:P}=await Ee.functions.invoke("execute-prompt",{body:{prompt:`${C}You are an expert text design and typography prompt engineer. Improve this text design prompt to make it more detailed, creative, and visually stunning. Add specific details about lighting, texture, materials, camera angle, and artistic style. Output ONLY the improved prompt:

${_}`}});if(P)throw P;if(A!=null&&A.error)throw new Error(A.error);h(A.result),m(""),y(!1),x({title:" Refined!",description:"Prompt  AI   "})}catch(A){x({title:"Error",description:A.message||"AI refine ",variant:"destructive"})}finally{c(!1)}},w=u||(r==null?void 0:r.prompt)||"",T=_=>{s(_),h(""),m(""),y(!1)};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Aw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(i0,{placeholder:"Text design ...",value:t,onChange:_=>i(_.target.value),className:"pl-10 rounded-xl bg-background"})]}),d.jsx("div",{className:"flex flex-wrap gap-3",children:Oy.map(_=>n===_.id?d.jsx("button",{onClick:()=>{e(_.id),s(null),h("")},className:"glossy-project-btn ring-2 ring-primary/50 ring-offset-1 ring-offset-background",children:d.jsx("div",{className:"glossy-project-btn-wrap",children:d.jsxs("span",{className:"text-xs font-medium text-white/90",children:[_.emoji," ",_.label]})})},_.id):d.jsxs("button",{onClick:()=>{e(_.id),s(null),h("")},className:"px-3 py-1.5 rounded-xl text-xs font-medium transition-all bg-muted text-muted-foreground hover:bg-muted/80",children:[_.emoji," ",_.label]},_.id))}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length," design(s) "]}),r?d.jsxs("div",{className:"glass-card rounded-2xl p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("button",{onClick:()=>{s(null),h("")},className:"text-xs text-primary hover:underline mb-2 block",children:" "}),d.jsxs("h3",{className:"text-lg font-bold text-foreground",children:[r.emoji," ",r.title]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:(E=Oy.find(_=>_.id===r.category))==null?void 0:E.label}),d.jsxs("span",{className:"text-xs bg-accent/20 text-accent px-2 py-0.5 rounded-full",children:['Sample: "',r.sampleText,'"']}),u&&d.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:" AI Refined"})]})]}),d.jsxs("div",{className:"flex gap-2 shrink-0",children:[d.jsxs(ar,{size:"sm",variant:"outline",onClick:()=>y(!v),disabled:l,className:"rounded-xl",children:[d.jsx(Ur,{className:"w-4 h-4 mr-1"}),"AI Refine"]}),d.jsxs(ar,{size:"sm",onClick:()=>f(w),className:"rounded-xl",children:[a?d.jsx(oc,{className:"w-4 h-4 mr-1"}):d.jsx(Lm,{className:"w-4 h-4 mr-1"}),a?"Copied":"Copy"]})]})]}),v&&d.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 space-y-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"  /    (optional)"}),d.jsx(r0,{value:p,onChange:_=>m(_.target.value),placeholder:": color , background , more realistic ...",className:"min-h-[60px] rounded-xl bg-background text-sm",rows:2}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ar,{size:"sm",onClick:b,disabled:l,className:"rounded-xl",children:l?d.jsxs(d.Fragment,{children:[d.jsx(Ds,{className:"w-4 h-4 mr-1 animate-spin"}),"Refining..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ur,{className:"w-4 h-4 mr-1"}),u?" Refine ":"Refine & Make Better"]})}),u&&d.jsx(ar,{size:"sm",variant:"ghost",onClick:()=>{h("")},className:"rounded-xl text-xs",children:"Original "})]})]}),d.jsx(c0,{className:"h-[50vh]",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-foreground/90 font-sans leading-relaxed",children:l?d.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx(Ds,{className:"w-4 h-4 animate-spin"}),"AI  prompt   ..."]}):w})})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto pr-1",children:g.map(_=>{var C;return d.jsx("button",{onClick:()=>T(_),className:"glass-card rounded-xl p-4 text-left hover:shadow-lg transition-all group",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl",children:_.emoji}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h4",{className:"font-semibold text-sm text-foreground group-hover:text-primary transition-colors truncate",children:_.title}),d.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[d.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:(C=Oy.find(A=>A.id===_.category))==null?void 0:C.label}),d.jsxs("span",{className:"text-[10px] text-accent font-mono bg-accent/10 px-1.5 py-0.5 rounded",children:['"',_.sampleText,'"']})]})]}),d.jsx(Xr,{className:"w-4 h-4 text-muted-foreground ml-auto shrink-0 -rotate-90 group-hover:text-primary transition-colors"})]})},_.id)})})]})},Jh=[{id:"minimalist",label:" Minimalist",desc:"Clean, simple, modern"},{id:"vintage",label:" Vintage / Retro",desc:"Classic, nostalgic feel"},{id:"3d",label:" 3D / Isometric",desc:"Depth, dimension, realism"},{id:"flat",label:" Flat Design",desc:"Bold colors, no gradients"},{id:"gradient",label:" Gradient",desc:"Smooth color transitions"},{id:"lettermark",label:" Lettermark",desc:"Initials-based logo"},{id:"wordmark",label:" Wordmark",desc:"Typography-focused"},{id:"emblem",label:" Emblem / Badge",desc:"Enclosed, official look"},{id:"mascot",label:" Mascot",desc:"Character-based logo"},{id:"abstract",label:" Abstract",desc:"Geometric, symbolic shapes"},{id:"handdrawn",label:" Hand-drawn",desc:"Organic, artisan feel"},{id:"luxury",label:" Luxury / Premium",desc:"Elegant, high-end"},{id:"geometric",label:" Geometric",desc:"Precise shapes & patterns"},{id:"negative-space",label:" Negative Space",desc:"Clever hidden imagery"},{id:"line-art",label:" Line Art",desc:"Single-weight outlines"},{id:"monogram",label:" Monogram",desc:"Interlocking letters"}],Fy=["Technology","Healthcare","Finance","Education","Food & Beverage","Fashion & Beauty","Real Estate","Sports & Fitness","Entertainment","Travel & Tourism","Automotive","Agriculture","Legal","Music","Gaming","E-commerce","Crypto & Web3","Non-Profit","Media","Architecture","Photography","Consulting","SaaS / Startup","Art & Creative"],Qh=[{id:"monochrome",label:" Monochrome"},{id:"duo-tone",label:" Duo-tone"},{id:"vibrant",label:" Vibrant & Bold"},{id:"pastel",label:" Pastel & Soft"},{id:"earth-tones",label:" Earth Tones"},{id:"neon",label:" Neon & Electric"},{id:"gold-dark",label:" Gold & Dark"},{id:"gradient-warm",label:" Warm Gradient"},{id:"gradient-cool",label:" Cool Gradient"},{id:"black-white",label:" Black & White"}],By=["Sans-Serif (Modern)","Serif (Classic)","Script (Elegant)","Slab Serif (Bold)","Display (Unique)","Handwritten (Personal)","Futuristic (Tech)","Gothic (Strong)"],zy=["Abstract Symbol","Letterform","Animal / Mascot","Nature Element","Geometric Shape","Human Figure","Object / Tool","No Icon (Typography Only)"],h6=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState(""),[s,a]=S.useState("minimalist"),[o,l]=S.useState("Technology"),[c,u]=S.useState("monochrome"),[h,p]=S.useState("Sans-Serif (Modern)"),[m,v]=S.useState("Abstract Symbol"),[y,x]=S.useState(""),[g,f]=S.useState("english"),[b,w]=S.useState(""),[T,E]=S.useState(""),[_,C]=S.useState(!1),[A,P]=S.useState(!1),[R,G]=S.useState(null),[I,j]=S.useState(!1),{suggest:z,isSuggesting:U}=ra(),W=async()=>{const k=await z(e+(i?" - "+i:""),[{key:"logoStyle",label:"Logo Style",options:Jh.map(O=>O.id)},{key:"industry",label:"Industry",options:Fy},{key:"colorScheme",label:"Color Scheme",options:Qh.map(O=>O.id)},{key:"typographyStyle",label:"Typography",options:By},{key:"iconType",label:"Icon Type",options:zy}]);k&&(k.logoStyle&&a(k.logoStyle),k.industry&&l(k.industry),k.colorScheme&&u(k.colorScheme),k.typographyStyle&&p(k.typographyStyle),k.iconType&&v(k.iconType))},V=async()=>{var ae,le;j(!0);const k=ce=>ce[Math.floor(Math.random()*ce.length)];a(k(Jh).id),l(k(Fy)),u(k(Qh).id),p(k(By)),v(k(zy));const O=["a futuristic AI companion app","an artisan coffee roastery in Yangon","a sustainable ocean cleanup startup","a luxury pet hotel chain","a cybersecurity firm for small businesses","a retro arcade gaming bar","an organic skincare brand using local herbs","a space tourism booking platform","a blockchain-based voting system","a premium meditation & wellness studio","a drone delivery service for rural areas","an underground vinyl record label","a quantum computing education platform","a zero-waste fashion marketplace","a holographic display technology company","a biotech gene therapy startup","an autonomous vehicle ride-sharing app","a virtual reality architecture firm","a deep-sea exploration research lab","a neural interface wearable brand","a gourmet mushroom farming collective","an AR-powered museum guide app","a renewable energy microfinancing platform","a digital nomad co-living network","a personalized AI nutrition coach","an ethical diamond traceability platform","a bioluminescent lighting design studio","a vertical farming technology company"],D=["with a hidden meaning in the negative space","that works perfectly at both 16px favicon and billboard size","inspired by ancient Myanmar art patterns","that cleverly combines two unrelated symbols","with a kinetic/animated version in mind","that tells the brand story in a single icon","using optical illusions for memorability","with cultural symbolism from Southeast Asia","that evolves across brand touchpoints","incorporating sacred geometry principles"],Q=`Brand concept: ${k(O)}. Direction: ${k(D)}. Seed: ${Math.random().toString(36).slice(2,8)}`;try{const{data:ce,error:K}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Generate a unique brand name and tagline concept for a logo. ${Q}`,category:"logo-brand-concept",categoryDescription:"Logo Brand Concept Generator",tone:"Creative",context:`You are a world-class brand strategist. ${Q}. Generate ONE creative brand name (1-2 words, catchy, memorable) and a short tagline (3-6 words). Format: "BrandName  Tagline". Be bold and original. Return ONLY the result. No quotes, no explanations.`}});if(K)throw K;if(ce!=null&&ce.prompt){const te=ce.prompt.replace(/^["']|["']$/g,"").trim().split(/\s*[-]\s*/);t(((ae=te[0])==null?void 0:ae.trim())||""),r(((le=te[1])==null?void 0:le.trim())||""),pe.success("AI generated a logo concept! ")}}catch{t("NovaSpark"),r("Ignite Your Vision"),pe.success("Random logo concept loaded! ")}finally{j(!1)}},M=Jh.find(k=>k.id===s),q=Qh.find(k=>k.id===c),X=()=>`You are an expert logo designer. Generate a prompt that produces EXACTLY ONE clean logo image  NOT multiple versions, NOT a grid, NOT variations side by side.

Specifications:
 Brand Name: "${e.trim()}"
${i.trim()?` Tagline: "${i.trim()}"`:""}
 Logo Style: ${M==null?void 0:M.label} (${M==null?void 0:M.desc})
 Industry: ${o}
 Color Scheme: ${q==null?void 0:q.label}
 Typography: ${h}
 Icon/Symbol: ${m}
${y.trim()?` Extra: ${y.trim()}`:""}

CRITICAL: Describe ONE single logo on a clean background. Include the brand name text, icon/symbol composition, exact colors, and style. Add "single logo, centered, clean background, professional logo design, vector style, high resolution" as quality tags. NEVER mention "variations", "options", "versions", or "grid".${So(g)}`,ne=async()=>{if(!e.trim()){pe.error("Brand Name ");return}C(!0),w(""),E(""),G("generate");try{const{data:k,error:O}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Professional logo design for "${e.trim()}"`,category:"logo-design",categoryDescription:"Professional Logo Design Prompt",tone:"Professional",context:X()}});if(O)throw new Error(O.message);if(k!=null&&k.error)throw new Error(k.error);k!=null&&k.prompt&&(w(k.prompt),gi(),pe.success("Logo prompt ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"logo_prompt",topic:e.trim(),category:"logo-design"}))}catch(k){pe.error(k instanceof Error?k.message:"Error ")}finally{C(!1)}},Y=async()=>{if(!e.trim()){pe.error("Brand Name ");return}C(!0),w(""),E(""),G("execute");try{const{data:k,error:O}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Professional logo design for "${e.trim()}"`,category:"logo-design",categoryDescription:"Professional Logo Design Prompt",tone:"Professional",context:X()}});if(O)throw new Error(O.message);if(k!=null&&k.error)throw new Error(k.error);if(k!=null&&k.prompt){w(k.prompt),C(!1),P(!0);const{data:D,error:Q}=await Ee.functions.invoke("execute-prompt",{body:{prompt:k.prompt}});if(Q)throw new Error(Q.message);if(D!=null&&D.error)throw new Error(D.error);D!=null&&D.result&&(E(D.result),gi(),pe.success("Logo prompt execute ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"logo_prompt_execute",topic:e.trim(),category:"logo-design"}))}}catch(k){pe.error(k instanceof Error?k.message:"Error ")}finally{C(!1),P(!1)}},H=_||A||!e.trim();return d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:" Logo Prompt Generator"}),d.jsx(ia,{onClick:W,isLoading:U,disabled:!e.trim()}),d.jsx(na,{onClick:V,disabled:I,children:I?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-foreground border-t-transparent animate-spin"}),"Generating..."]}):" Random Idea (AI)"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Brand Name *"}),d.jsx(Ft,{value:e,onChange:k=>t(k.target.value),placeholder:"e.g. NovaSpark, TechVault, AuraFlow...",rows:1})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block",children:["Tagline ",d.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),d.jsx(Ft,{value:i,onChange:k=>r(k.target.value),placeholder:"e.g. Ignite Your Vision, Beyond Innovation...",rows:1})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Logo Style"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Jh.map(k=>d.jsxs("button",{onClick:()=>a(k.id),className:`glossy-chip text-left text-xs py-2 px-3 ${s===k.id?"glossy-chip--active":""}`,children:[d.jsx("div",{className:"font-medium",children:k.label}),d.jsx("div",{className:"text-[10px] opacity-70",children:k.desc})]},k.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Industry / Niche"}),d.jsx("select",{value:o,onChange:k=>l(k.target.value),className:"w-full glass-input rounded-xl px-4 py-2.5 text-sm text-foreground focus:outline-none appearance-none cursor-pointer",children:Fy.map(k=>d.jsx("option",{value:k,children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Color Scheme"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Qh.map(k=>d.jsx("button",{onClick:()=>u(k.id),className:`glossy-chip ${c===k.id?"glossy-chip--active":""}`,children:k.label},k.id))})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Typography Style"}),d.jsx("select",{value:h,onChange:k=>p(k.target.value),className:"w-full glass-input rounded-xl px-4 py-2.5 text-sm text-foreground focus:outline-none appearance-none cursor-pointer",children:By.map(k=>d.jsx("option",{value:k,children:k},k))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Icon / Symbol Type"}),d.jsx("select",{value:m,onChange:k=>v(k.target.value),className:"w-full glass-input rounded-xl px-4 py-2.5 text-sm text-foreground focus:outline-none appearance-none cursor-pointer",children:zy.map(k=>d.jsx("option",{value:k,children:k},k))})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-sm font-medium text-foreground mb-3 block",children:["Additional Details ",d.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),d.jsx(Ft,{value:y,onChange:k=>x(k.target.value),placeholder:"Target audience, brand personality, specific symbols to include/avoid...",rows:2})]}),d.jsx(ta,{value:g,onChange:f}),d.jsx("div",{className:"glass-subtle rounded-2xl p-3",children:d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-foreground/80",children:[d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:"text-primary font-bold",children:""}),d.jsx("span",{children:"Logo prompt  generate  copy "})]}),d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:"text-accent font-bold",children:""}),d.jsx("span",{children:"Prompt generate  AI   "})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:ne,disabled:H,className:"gen-btn gen-sm",children:[_&&R==="generate"&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Logo Prompt Generate"})]}),d.jsxs("button",{onClick:Y,disabled:H,className:"gen-btn gen-sm",children:[(_||A)&&R==="execute"&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:A?"Execute ...":"Generate + Execute"})]})]}),d.jsx(Qr,{prompt:b,isLoading:_,executedResult:T,isExecuting:A})]})},Uy=[{id:"chain-of-thought",label:" Chain-of-Thought",desc:"Step-by-step reasoning logic"},{id:"few-shot",label:" Few-Shot",desc:"Include examples for clarity"},{id:"role-play",label:" Role-Play Expert",desc:"Assign expert persona"},{id:"structured-output",label:" Structured Output",desc:"Define format & schema"},{id:"constraints",label:" Constraints-Based",desc:"Add boundaries & rules"},{id:"iterative",label:" Iterative Refinement",desc:"Multi-pass improvement"},{id:"tree-of-thought",label:" Tree-of-Thought",desc:"Explore multiple paths"},{id:"socratic",label:" Socratic Method",desc:"Question-driven depth"},{id:"mega-prompt",label:" Mega Prompt",desc:"All-in-one comprehensive"},{id:"react-agent",label:" ReAct Pattern",desc:"Reason + Act framework"}],Gy=[{id:"detailed",label:" Detailed Prompt"},{id:"system-prompt",label:" System Prompt"},{id:"instruction-set",label:" Instruction Set"},{id:"template",label:" Reusable Template"},{id:"multi-turn",label:" Multi-Turn Setup"}],Hy=[{id:"professional",label:" Professional"},{id:"expert",label:" Expert"},{id:"master",label:" Master-Level"}],rT=["Any AI Model","ChatGPT / GPT","Gemini","Claude","Midjourney","DALL-E","Stable Diffusion","Copilot","Cursor AI","Lovable"],p6=()=>{const{user:n}=yn(),[e,t]=S.useState(""),[i,r]=S.useState("mega-prompt"),[s,a]=S.useState("detailed"),[o,l]=S.useState("expert"),[c,u]=S.useState("Any AI Model"),[h,p]=S.useState(""),[m,v]=S.useState("english"),[y,x]=S.useState(""),[g,f]=S.useState(""),[b,w]=S.useState(!1),[T,E]=S.useState(!1),[_,C]=S.useState(null),{suggest:A,isSuggesting:P}=ra(),R=async()=>{const M=await A(e,[{key:"refineMethod",label:"Refinement Method",options:Uy.map(q=>q.id)},{key:"outputFormat",label:"Output Format",options:Gy.map(q=>q.id)},{key:"qualityLevel",label:"Quality Level",options:Hy.map(q=>q.id)},{key:"targetAi",label:"Target AI",options:rT}]);M&&(M.refineMethod&&r(M.refineMethod),M.outputFormat&&a(M.outputFormat),M.qualityLevel&&l(M.qualityLevel),M.targetAi&&u(M.targetAi))},G=Uy.find(M=>M.id===i),I=Gy.find(M=>M.id===s),j=Hy.find(M=>M.id===o),z=()=>`You are a world-class Prompt Engineer with 10+ years of experience crafting prompts for every major AI model. Your task is to take a RAW, unrefined prompt and transform it into a ${j==null?void 0:j.label} quality, expertly engineered prompt.

=== RAW PROMPT TO REFINE ===
"${e.trim()}"

=== REFINEMENT METHOD ===
Method: ${G==null?void 0:G.label}  ${G==null?void 0:G.desc}

=== REQUIREMENTS ===
- Output Format: ${I==null?void 0:I.label}
- Quality Level: ${j==null?void 0:j.label}
- Target AI: ${c}
${h.trim()?`- Additional Notes: ${h.trim()}`:""}

=== PROMPT ENGINEERING PRINCIPLES TO APPLY ===
1. **Clarity & Specificity**: Replace vague language with precise, unambiguous instructions
2. **Context Setting**: Add relevant background, domain context, and constraints
3. **Role Assignment**: Define the AI's expertise, persona, and knowledge level
4. **Output Specification**: Clearly define expected format, length, style, and structure
5. **Edge Case Handling**: Address potential misinterpretations and boundary conditions
6. **Quality Markers**: Include evaluation criteria and quality standards
7. **Examples (if Few-Shot)**: Provide input/output examples for pattern clarity
8. **Chain Logic (if CoT)**: Break complex tasks into sequential reasoning steps
9. **Guardrails**: Add safety constraints and scope boundaries
10. **Iteration Hooks**: Include self-check and refinement instructions

=== ADDITIONAL TECHNIQUES TO USE ===
- Use delimiters (""", ---, ###) to separate sections
- Include "Think step by step" triggers where appropriate
- Add "Before answering, consider..." metacognitive prompts
- Use positive instructions ("Do X") over negative ("Don't do Y")
- Include output format examples when helpful
- Add confidence/certainty qualifiers
- Specify tone, audience level, and communication style

=== OUTPUT ===
Transform the raw prompt into a refined, professional prompt that is:
- 10x more effective than the original
- Optimized for ${c}
- Following ${G==null?void 0:G.label} methodology
- Formatted as ${I==null?void 0:I.label}
- At ${j==null?void 0:j.label} quality standard

Return ONLY the refined prompt. Do not include explanations about what you changed.${So(m)}`,U=async()=>{if(!e.trim()){pe.error("Raw Prompt ");return}w(!0),x(""),f(""),C("generate");try{const{data:M,error:q}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Refine this prompt: "${e.trim().slice(0,100)}..."`,category:"prompt-refine",categoryDescription:"Expert Prompt Refinement",tone:"Professional",context:z()}});if(q)throw new Error(q.message);if(M!=null&&M.error)throw new Error(M.error);M!=null&&M.prompt&&(x(M.prompt),gi(),pe.success("Prompt refine ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"refine_prompt",topic:e.trim().slice(0,200),category:"prompt-refine"}))}catch(M){pe.error(M instanceof Error?M.message:"Error ")}finally{w(!1)}},W=async()=>{if(!e.trim()){pe.error("Raw Prompt ");return}w(!0),x(""),f(""),C("execute");try{const{data:M,error:q}=await Ee.functions.invoke("generate-prompt",{body:{topic:`Refine this prompt: "${e.trim().slice(0,100)}..."`,category:"prompt-refine",categoryDescription:"Expert Prompt Refinement",tone:"Professional",context:z()}});if(q)throw new Error(q.message);if(M!=null&&M.error)throw new Error(M.error);if(M!=null&&M.prompt){x(M.prompt),w(!1),E(!0);const{data:X,error:ne}=await Ee.functions.invoke("execute-prompt",{body:{prompt:M.prompt}});if(ne)throw new Error(ne.message);if(X!=null&&X.error)throw new Error(X.error);X!=null&&X.result&&(f(X.result),gi(),pe.success("Refined prompt execute ! "),n&&await Ee.from("usage_logs").insert({user_id:n.id,action_type:"refine_prompt_execute",topic:e.trim().slice(0,200),category:"prompt-refine"}))}}catch(M){pe.error(M instanceof Error?M.message:"Error ")}finally{w(!1),E(!1)}},V=b||T||!e.trim();return d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:" Refine Prompt (Expert)"}),d.jsx(ia,{onClick:R,isLoading:P,disabled:!e.trim()})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Raw Prompt  *"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:" prompt    Professional & Expert level prompt  "}),d.jsx(Ft,{value:e,onChange:M=>t(M.target.value),placeholder:"e.g. Write me a blog post about AI... / Build a todo app... / Design a logo for my brand...",rows:4})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Prompt Engineering Method"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Uy.map(M=>d.jsxs("button",{onClick:()=>r(M.id),className:`glossy-chip text-left text-xs py-2 px-3 ${i===M.id?"glossy-chip--active":""}`,children:[d.jsx("div",{className:"font-medium",children:M.label}),d.jsx("div",{className:"text-[10px] opacity-70",children:M.desc})]},M.id))})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Output Format"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Gy.map(M=>d.jsx("button",{onClick:()=>a(M.id),className:`glossy-chip ${s===M.id?"glossy-chip--active":""}`,children:M.label},M.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Quality Level"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Hy.map(M=>d.jsx("button",{onClick:()=>l(M.id),className:`glossy-chip ${o===M.id?"glossy-chip--active":""}`,children:M.label},M.id))})]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Target AI Model"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:rT.map(M=>d.jsx("button",{onClick:()=>u(M),className:`glossy-chip ${c===M?"glossy-chip--active":""}`,children:M},M))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-5",children:[d.jsxs("label",{className:"text-sm font-medium text-foreground mb-3 block",children:["Additional Notes ",d.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),d.jsx(Ft,{value:h,onChange:M=>p(M.target.value),placeholder:" requirements, audience, tone...",rows:2})]}),d.jsx(ta,{value:m,onChange:v}),d.jsx("div",{className:"glass-subtle rounded-2xl p-3",children:d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-foreground/80",children:[d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:"text-primary font-bold",children:""}),d.jsx("span",{children:"Raw prompt  refined prompt  "})]}),d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:"text-accent font-bold",children:""}),d.jsx("span",{children:"Refine  AI   execute "})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:U,disabled:V,className:"gen-btn gen-sm",children:[b&&_==="generate"&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:"Refine Prompt"})]}),d.jsxs("button",{onClick:W,disabled:V,className:"gen-btn gen-sm",children:[(b||T)&&_==="execute"&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),d.jsx("span",{children:T?"Execute ...":"Refine + Execute"})]})]}),d.jsx(Qr,{prompt:y,isLoading:b,executedResult:g,isExecuting:T})]})},m6={general:"",coding:"","coding-prompt":"","image-prompt":"","video-prompt":"","video-prompt-en":"","text-design":"","image-to-prompt":"",chatbot:"","random-general-idea":"","random-coding-idea":"","random-image-idea":"","random-video-idea":"",prompt:"",prompt_execute:""},f6={prompt:"Prompt Generate",prompt_execute:"Generate + Execute",chat:"AI Chat","image-to-prompt":"Image to Prompt"},g6=[{id:"all",label:" All"},{id:"prompt",label:" Prompt"},{id:"prompt_execute",label:" Execute"},{id:"chat",label:" Chat"}],y6=()=>{const{user:n}=yn(),[e,t]=S.useState([]),[i,r]=S.useState(!1),[s,a]=S.useState("all"),o=async()=>{if(n){r(!0);try{let h=Ee.from("usage_logs").select("*").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(100);s!=="all"&&(h=h.eq("action_type",s));const{data:p,error:m}=await h;if(m)throw m;t(p||[])}catch(h){console.error("Error fetching logs:",h),pe.error("Activity log  ")}finally{r(!1)}}};S.useEffect(()=>{o()},[n,s]);const l=h=>{const p=new Date(h),v=new Date().getTime()-p.getTime(),y=Math.floor(v/6e4),x=Math.floor(v/36e5),g=Math.floor(v/864e5);return y<1?"":y<60?`${y} `:x<24?`${x} `:g<7?`${g} `:p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},c=h=>h&&m6[h]||"",u=h=>f6[h]||h;return n?d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-2 px-1 flex-wrap",children:[d.jsx("span",{className:"px-3.5 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/20 text-primary",children:" Activity Log"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:" generate  prompt "}),d.jsxs("button",{onClick:o,disabled:i,className:"ml-auto px-3 py-1.5 rounded-full text-xs font-semibold glass-subtle border border-primary/30 text-primary hover:bg-primary/10 transition-colors disabled:opacity-50",children:[d.jsx(Nk,{className:`w-3 h-3 inline mr-1 ${i?"animate-spin":""}`}),"Refresh"]})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(ED,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm font-medium text-foreground",children:"Filter"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:g6.map(h=>d.jsx("button",{onClick:()=>a(h.id),className:`glossy-chip ${s===h.id?"glossy-chip--active":""}`,children:h.label},h.id))})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-primary",children:e.length}),d.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total Activities"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-accent",children:e.filter(h=>h.action_type==="prompt").length}),d.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Prompts"})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:e.filter(h=>h.action_type==="prompt_execute").length}),d.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Executions"})]})]}),d.jsx("div",{className:"space-y-2",children:i?d.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center",children:[d.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-primary border-t-transparent animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.length===0?d.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity "}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Prompt generate   "})]}):e.map(h=>d.jsx("div",{className:"glass-card rounded-xl p-4 hover:border-primary/20 transition-colors",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"text-xl flex-shrink-0 mt-0.5",children:c(h.category)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium glass-subtle border border-primary/20 text-primary",children:u(h.action_type)}),h.category&&d.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium glass-subtle border border-accent/20 text-accent",children:h.category})]}),h.topic&&d.jsx("p",{className:"text-sm text-foreground/90 line-clamp-2 mt-1",children:h.topic}),d.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[d.jsx(Tx,{className:"w-3 h-3"}),d.jsx("span",{children:l(h.created_at)})]})]})]})},h.id))})]}):d.jsx("div",{className:"glass-card rounded-2xl p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Activity log  Login "})})},sT="dima_onboarding_hidden_v1",v6=()=>{const[n,e]=S.useState(!0);S.useEffect(()=>{const i=localStorage.getItem(sT)==="1";e(i)},[]);const t=()=>{localStorage.setItem(sT,"1"),e(!0)};return n?null:d.jsxs("div",{className:"glass-card rounded-2xl p-4 md:p-5 border border-primary/30 mb-4 relative",children:[d.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-muted-foreground hover:text-foreground","aria-label":"Close onboarding helper",children:d.jsx(Qs,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[d.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/15 border border-primary/30 flex items-center justify-center shrink-0",children:d.jsx(kD,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm md:text-base font-semibold text-foreground",children:"Quick Start (1 min)"}),d.jsxs("div",{className:"space-y-1.5 text-xs md:text-sm text-foreground/85",children:[d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(Pw,{className:"w-4 h-4 text-primary"})," Header    API Key "]}),d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(Ou,{className:"w-4 h-4 text-accent"})," Topic  ",d.jsx("b",{children:"Prompt Generate"})," () ",d.jsx("b",{children:"Generate + Execute"})," "]}),d.jsx("p",{children:"Gemini  system  OpenRouter Auto / Qwen fallback   "})]})]})]})]})},x6=S.lazy(()=>Yw(()=>Promise.resolve().then(()=>qY),void 0)),b6=S.lazy(()=>Yw(()=>import("./ChatBotPopup-BSU8LxiD.js"),[])),w6=()=>{const[n,e]=S.useState(!1);S.useEffect(()=>{const r=()=>e(window.scrollY>200);return window.addEventListener("scroll",r,{passive:!0}),()=>window.removeEventListener("scroll",r)},[]);const t=()=>window.scrollTo({top:0,behavior:"smooth"}),i=()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});return d.jsxs("div",{className:"fixed bottom-32 right-4 z-40 flex flex-col gap-2",children:[n&&d.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-110 active:scale-95",style:{background:"hsl(var(--primary) / 0.85)",color:"hsl(var(--primary-foreground))",backdropFilter:"blur(8px)",border:"1px solid hsl(var(--primary) / 0.3)"},title:"Page ",children:d.jsx(Mw,{className:"w-5 h-5"})}),d.jsx("button",{onClick:i,className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-110 active:scale-95",style:{background:"hsl(var(--accent) / 0.85)",color:"hsl(var(--accent-foreground))",backdropFilter:"blur(8px)",border:"1px solid hsl(var(--accent) / 0.3)"},title:"Page ",children:d.jsx(Xr,{className:"w-5 h-5"})})]})},S6=()=>{const[n,e]=S.useState("prompt"),t=()=>{switch(n){case"prompt":return d.jsx(Q1,{});case"refine-prompt":return d.jsx(p6,{});case"coding-prompt":return d.jsx(DV,{});case"vibe-coding":return d.jsx(FV,{});case"ready-made":return d.jsx(l6,{});case"text-design":return d.jsx(u6,{});case"video-prompt":return d.jsx(UV,{});case"video-prompt-en":return d.jsx(GV,{});case"logo-prompt":return d.jsx(h6,{});case"image-prompt":return d.jsx(BV,{});case"image-to-prompt":return d.jsx(zV,{});case"chatbot":return d.jsx(qV,{});case"activity-log":return d.jsx(y6,{});case"api-test":return d.jsx(c6,{});default:return d.jsx(Q1,{})}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[d.jsx(S.Suspense,{fallback:null,children:d.jsx(x6,{})}),d.jsxs("div",{className:"relative z-10",children:[d.jsx(nH,{}),d.jsx(rH,{}),d.jsxs("main",{className:"max-w-3xl mx-auto px-4 md:px-6 py-6",children:[d.jsx(v6,{}),d.jsx("div",{className:"mb-6",children:d.jsx(BH,{activeTab:n,onTabChange:e})}),t()]})]})]}),d.jsx(w6,{}),d.jsx(S.Suspense,{fallback:null,children:d.jsx(b6,{})})]})},_6=({onClose:n})=>{const[e,t]=S.useState(""),[i,r]=S.useState(!1),[s,a]=S.useState(!1),o=async l=>{if(l.preventDefault(),!e.trim()){pe.error("Email ");return}r(!0);try{const{error:c}=await Ee.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});c?pe.error(c.message):(a(!0),pe.success("Password reset link  email ! "))}catch{pe.error("")}finally{r(!1)}};return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[d.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm",onClick:n}),d.jsxs("div",{className:"relative z-10 w-full max-w-sm glass glow-border rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Password ?"}),d.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground transition-colors",children:d.jsx(Qs,{className:"w-4 h-4"})})]}),s?d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:d.jsx(Cx,{className:"w-6 h-6 text-primary"})}),d.jsx("p",{className:"text-sm text-foreground font-medium mb-1",children:"Email !"}),d.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:[d.jsx("span",{className:"text-primary",children:e}),"  password reset link  Inbox "]}),d.jsx("button",{onClick:n,className:"w-full py-2.5 bg-primary text-primary-foreground rounded-xl font-semibold text-sm hover:opacity-90 transition-all glow-primary",children:""})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:" email   Password reset link "}),d.jsxs("form",{onSubmit:o,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:"email",value:e,onChange:l=>t(l.target.value),placeholder:"you@example.com",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-4 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,autoFocus:!0})]}),d.jsxs("button",{type:"submit",disabled:i,className:"w-full py-2.5 bg-primary text-primary-foreground rounded-xl font-semibold text-sm hover:opacity-90 transition-all disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2 glow-primary",children:[i?d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary-foreground border-t-transparent animate-spin"}):d.jsx(vD,{className:"w-4 h-4"}),"Reset Link "]})]})]})]})]})};/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const d0="134",T6={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},E6={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},n2=0,sb=1,i2=2,C6=3,M6=0,u0=1,r2=2,Ml=3,lo=0,jt=1,co=2,h0=1,k6=2,Dr=0,Gl=1,ab=2,ob=3,lb=4,s2=5,ka=100,a2=101,o2=102,cb=103,db=104,l2=200,c2=201,d2=202,u2=203,p0=204,m0=205,h2=206,p2=207,m2=208,f2=209,g2=210,y2=0,v2=1,x2=2,Xm=3,b2=4,w2=5,S2=6,_2=7,Gu=0,T2=1,E2=2,Fs=0,C2=1,M2=2,k2=3,A2=4,P2=5,Hf=300,_o=301,To=302,uu=303,hu=304,jc=306,Hu=307,pu=1e3,un=1001,mu=1002,Gt=1003,Jm=1004,A6=1004,Qm=1005,P6=1005,Yt=1006,f0=1007,R6=1007,Eo=1008,L6=1008,Vr=1009,R2=1010,L2=1011,fu=1012,N2=1013,Pd=1014,rr=1015,Ya=1016,I2=1017,j2=1018,D2=1019,Hl=1020,O2=1021,Ka=1022,pn=1023,F2=1024,B2=1025,z2=pn,Xa=1026,uc=1027,U2=1028,G2=1029,H2=1030,V2=1031,W2=1032,$2=1033,ub=33776,hb=33777,pb=33778,mb=33779,fb=35840,gb=35841,yb=35842,vb=35843,q2=36196,xb=37492,bb=37496,Y2=37808,K2=37809,X2=37810,J2=37811,Q2=37812,Z2=37813,eL=37814,tL=37815,nL=37816,iL=37817,rL=37818,sL=37819,aL=37820,oL=37821,lL=36492,cL=37840,dL=37841,uL=37842,hL=37843,pL=37844,mL=37845,fL=37846,gL=37847,yL=37848,vL=37849,xL=37850,bL=37851,wL=37852,SL=37853,_L=2200,TL=2201,EL=2202,gu=2300,yu=2301,sm=2302,Na=2400,Ia=2401,vu=2402,Vf=2500,g0=2501,CL=0,N6=1,I6=2,gn=3e3,sa=3001,Wf=3007,$f=3002,ML=3003,y0=3004,v0=3005,x0=3006,kL=3200,AL=3201,Co=0,PL=1,j6=0,am=7680,D6=7681,O6=7682,F6=7683,B6=34055,z6=34056,U6=5386,G6=512,H6=513,V6=514,W6=515,$6=516,q6=517,Y6=518,RL=519,hc=35044,pc=35048,K6=35040,X6=35045,J6=35049,Q6=35041,Z6=35046,eW=35050,tW=35042,nW="100",wb="300 es";class aa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}let Zh=1234567;const Ja=Math.PI/180,xu=180/Math.PI,on=[];for(let n=0;n<256;n++)on[n]=(n<16?"0":"")+n.toString(16);const iW=typeof crypto<"u"&&"randomUUID"in crypto;function ni(){if(iW)return crypto.randomUUID().toUpperCase();const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(on[n&255]+on[n>>8&255]+on[n>>16&255]+on[n>>24&255]+"-"+on[e&255]+on[e>>8&255]+"-"+on[e>>16&15|64]+on[e>>24&255]+"-"+on[t&63|128]+on[t>>8&255]+"-"+on[t>>16&255]+on[t>>24&255]+on[i&255]+on[i>>8&255]+on[i>>16&255]+on[i>>24&255]).toUpperCase()}function dn(n,e,t){return Math.max(e,Math.min(t,n))}function b0(n,e){return(n%e+e)%e}function rW(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function sW(n,e,t){return n!==e?(t-n)/(e-n):0}function Rd(n,e,t){return(1-t)*n+t*e}function aW(n,e,t,i){return Rd(n,e,1-Math.exp(-t*i))}function oW(n,e=1){return e-Math.abs(b0(n,e*2)-e)}function lW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function cW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function dW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function uW(n,e){return n+Math.random()*(e-n)}function hW(n){return n*(.5-Math.random())}function pW(n){return n!==void 0&&(Zh=n%2147483647),Zh=Zh*16807%2147483647,(Zh-1)/2147483646}function mW(n){return n*Ja}function fW(n){return n*xu}function Sb(n){return(n&n-1)===0&&n!==0}function LL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function NL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gW(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+i)/2),u=a((e+i)/2),h=s((e-i)/2),p=a((e-i)/2),m=s((i-e)/2),v=a((i-e)/2);switch(r){case"XYX":n.set(o*u,l*h,l*p,o*c);break;case"YZY":n.set(l*p,o*u,l*h,o*c);break;case"ZXZ":n.set(l*h,l*p,o*u,o*c);break;case"XZX":n.set(o*u,l*v,l*m,o*c);break;case"YXY":n.set(l*m,o*u,l*v,o*c);break;case"ZYZ":n.set(l*v,l*m,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var aT=Object.freeze({__proto__:null,DEG2RAD:Ja,RAD2DEG:xu,generateUUID:ni,clamp:dn,euclideanModulo:b0,mapLinear:rW,inverseLerp:sW,lerp:Rd,damp:aW,pingpong:oW,smoothstep:lW,smootherstep:cW,randInt:dW,randFloat:uW,randFloatSpread:hW,seededRandom:pW,degToRad:mW,radToDeg:fW,isPowerOfTwo:Sb,ceilPowerOfTwo:LL,floorPowerOfTwo:NL,setQuaternionFromProperEuler:gW});class de{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}de.prototype.isVector2=!0;class Kt{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],u=i[4],h=i[7],p=i[2],m=i[5],v=i[8],y=r[0],x=r[3],g=r[6],f=r[1],b=r[4],w=r[7],T=r[2],E=r[5],_=r[8];return s[0]=a*y+o*f+l*T,s[3]=a*x+o*b+l*E,s[6]=a*g+o*w+l*_,s[1]=c*y+u*f+h*T,s[4]=c*x+u*b+h*E,s[7]=c*g+u*w+h*_,s[2]=p*y+m*f+v*T,s[5]=p*x+m*b+v*E,s[8]=p*g+m*w+v*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*a*u-t*o*c-i*s*u+i*o*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=u*a-o*c,p=o*l-u*s,m=c*s-a*l,v=t*h+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(r*c-u*i)*y,e[2]=(o*i-r*a)*y,e[3]=p*y,e[4]=(u*t-r*l)*y,e[5]=(r*s-o*t)*y,e[6]=m*y,e[7]=(i*l-c*t)*y,e[8]=(a*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],a=r[3],o=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+i*l,r[3]=t*a+i*c,r[6]=t*o+i*u,r[1]=-i*s+t*l,r[4]=-i*a+t*c,r[7]=-i*o+t*u,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Kt.prototype.isMatrix3=!0;function IL(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,i=n.length;t<i;++t)n[t]>e&&(e=n[t]);return e}const yW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function kl(n,e){return new yW[n](e)}function qf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function oT(n,e=0){let t=3735928559^e,i=1103547991^e;for(let r=0,s;r<n.length;r++)s=n.charCodeAt(r),t=Math.imul(t^s,2654435761),i=Math.imul(i^s,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&i)+(t>>>0)}let Wo;class Mo{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Wo===void 0&&(Wo=qf("canvas")),Wo.width=e.width,Wo.height=e.height;const i=Wo.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Wo}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let vW=0;class Xt extends aa{constructor(e=Xt.DEFAULT_IMAGE,t=Xt.DEFAULT_MAPPING,i=un,r=un,s=Yt,a=Eo,o=pn,l=Vr,c=1,u=gn){super(),Object.defineProperty(this,"id",{value:vW++}),this.uuid=ni(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new de(0,0),this.repeat=new de(1,1),this.center=new de(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=ni()),!t&&e.images[r.uuid]===void 0){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(Vy(r[a].image)):s.push(Vy(r[a]))}else s=Vy(r);e.images[r.uuid]={uuid:r.uuid,url:s}}i.image=r.uuid}return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Hf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case pu:e.x=e.x-Math.floor(e.x);break;case un:e.x=e.x<0?0:1;break;case mu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case pu:e.y=e.y-Math.floor(e.y);break;case un:e.y=e.y<0?0:1;break;case mu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}Xt.DEFAULT_IMAGE=void 0;Xt.DEFAULT_MAPPING=Hf;Xt.prototype.isTexture=!0;function Vy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Mo.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class ot{constructor(e=0,t=0,i=0,r=1){this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],m=l[5],v=l[9],y=l[2],x=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,w=(m+1)/2,T=(g+1)/2,E=(u+p)/4,_=(h+y)/4,C=(v+x)/4;return b>w&&b>T?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=E/i,s=_/i):w>T?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=E/r,s=C/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=_/s,r=C/s),this.set(i,r,s,t),this}let f=Math.sqrt((x-v)*(x-v)+(h-y)*(h-y)+(p-u)*(p-u));return Math.abs(f)<.001&&(f=1),this.x=(x-v)/f,this.y=(h-y)/f,this.z=(p-u)/f,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}ot.prototype.isVector4=!0;class Ui extends aa{constructor(e,t,i={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new ot(0,0,e,t),this.scissorTest=!1,this.viewport=new ot(0,0,e,t),this.texture=new Xt(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Yt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ui.prototype.isWebGLRenderTarget=!0;class jL extends Ui{constructor(e,t,i){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=r.clone()}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone();return this}}jL.prototype.isWebGLMultipleRenderTargets=!0;class w0 extends Ui{constructor(e,t,i){super(e,t,i),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}w0.prototype.isWebGLMultisampleRenderTarget=!0;class mn{constructor(e=0,t=0,i=0,r=1){this._x=e,this._y=t,this._z=i,this._w=r}static slerp(e,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,r)}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const p=s[a+0],m=s[a+1],v=s[a+2],y=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(o===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(h!==y||l!==p||c!==m||u!==v){let x=1-o;const g=l*p+c*m+u*v+h*y,f=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const T=Math.sqrt(b),E=Math.atan2(T,g*f);x=Math.sin(x*E)/T,o=Math.sin(o*E)/T}const w=o*f;if(l=l*x+p*w,c=c*x+m*w,u=u*x+v*w,h=h*x+y*w,x===1-o){const T=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=T,c*=T,u*=T,h*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[a],p=s[a+1],m=s[a+2],v=s[a+3];return e[t]=o*v+u*h+l*m-c*p,e[t+1]=l*v+u*p+c*h-o*m,e[t+2]=c*v+u*m+o*p-l*h,e[t+3]=u*v-o*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(r/2),h=o(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(a){case"XYZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"YXZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"ZXY":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"ZYX":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"YZX":this._x=p*u*h+c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h-p*m*v;break;case"XZY":this._x=p*u*h-c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],u=t[6],h=t[10],p=i+o+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(a-r)*m}else if(i>o&&i>h){const m=2*Math.sqrt(1+i-o-h);this._w=(u-l)/m,this._x=.25*m,this._y=(r+a)/m,this._z=(s+c)/m}else if(o>h){const m=2*Math.sqrt(1+o-i-h);this._w=(s-c)/m,this._x=(r+a)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-i-o);this._w=(a-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+a*o+r*c-s*l,this._y=r*u+a*l+s*o-i*c,this._z=s*u+a*c+i*l-r*o,this._w=a*u-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-t;return this._w=m*a+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),h=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=a*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}mn.prototype.isQuaternion=!0;class L{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(lT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(lT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=l*t+a*r-o*i,u=l*i+o*t-s*r,h=l*r+s*i-a*t,p=-s*t-a*i-o*r;return this.x=c*l+p*-s+u*-o-h*-a,this.y=u*l+p*-a+h*-s-c*-o,this.z=h*l+p*-o+c*-a-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Wy.copy(this).projectOnVector(e),this.sub(Wy)}reflect(e){return this.sub(Wy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(dn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}L.prototype.isVector3=!0;const Wy=new L,lT=new mn;class oi{constructor(e=new L(1/0,1/0,1/0),t=new L(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,o=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],h=e[l+1],p=e[l+2];u<t&&(t=u),h<i&&(i=h),p<r&&(r=p),u>s&&(s=u),h>a&&(a=h),p>o&&(o=p)}return this.min.set(t,i,r),this.max.set(s,a,o),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,o=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),h=e.getY(l),p=e.getZ(l);u<t&&(t=u),h<i&&(i=h),p<r&&(r=p),u>s&&(s=u),h>a&&(a=h),p>o&&(o=p)}return this.min.set(t,i,r),this.max.set(s,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=td.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),$y.copy(t.boundingBox),$y.applyMatrix4(e.matrixWorld),this.union($y));const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,td),td.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(nd),ep.subVectors(this.max,nd),$o.subVectors(e.a,nd),qo.subVectors(e.b,nd),Yo.subVectors(e.c,nd),rs.subVectors(qo,$o),ss.subVectors(Yo,qo),fa.subVectors($o,Yo);let t=[0,-rs.z,rs.y,0,-ss.z,ss.y,0,-fa.z,fa.y,rs.z,0,-rs.x,ss.z,0,-ss.x,fa.z,0,-fa.x,-rs.y,rs.x,0,-ss.y,ss.x,0,-fa.y,fa.x,0];return!qy(t,$o,qo,Yo,ep)||(t=[1,0,0,0,1,0,0,0,1],!qy(t,$o,qo,Yo,ep))?!1:(tp.crossVectors(rs,ss),t=[tp.x,tp.y,tp.z],qy(t,$o,qo,Yo,ep))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return td.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(td).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(wr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}oi.prototype.isBox3=!0;const wr=[new L,new L,new L,new L,new L,new L,new L,new L],td=new L,$y=new oi,$o=new L,qo=new L,Yo=new L,rs=new L,ss=new L,fa=new L,nd=new L,ep=new L,tp=new L,ga=new L;function qy(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){ga.fromArray(n,s);const o=r.x*Math.abs(ga.x)+r.y*Math.abs(ga.y)+r.z*Math.abs(ga.z),l=e.dot(ga),c=t.dot(ga),u=i.dot(ga);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const xW=new oi,cT=new L,Yy=new L,Ky=new L;class oa{constructor(e=new L,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):xW.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Ky.subVectors(e,this.center);const t=Ky.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(Ky.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return Yy.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(cT.copy(e.center).add(Yy)),this.expandByPoint(cT.copy(e.center).sub(Yy)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Sr=new L,Xy=new L,np=new L,as=new L,Jy=new L,ip=new L,Qy=new L;class la{constructor(e=new L,t=new L(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Sr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sr.copy(this.direction).multiplyScalar(t).add(this.origin),Sr.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Xy.copy(e).add(t).multiplyScalar(.5),np.copy(t).sub(e).normalize(),as.copy(this.origin).sub(Xy);const s=e.distanceTo(t)*.5,a=-this.direction.dot(np),o=as.dot(this.direction),l=-as.dot(np),c=as.lengthSq(),u=Math.abs(1-a*a);let h,p,m,v;if(u>0)if(h=a*l-o,p=a*o-l,v=s*u,h>=0)if(p>=-v)if(p<=v){const y=1/u;h*=y,p*=y,m=h*(h+a*p+2*o)+p*(a*h+p+2*l)+c}else p=s,h=Math.max(0,-(a*p+o)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(a*p+o)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-a*s+o)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(a*s+o)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=a>0?-s:s,h=Math.max(0,-(a*p+o)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(np).multiplyScalar(p).add(Xy),m}intersectSphere(e,t){Sr.subVectors(e.center,this.origin);const i=Sr.dot(this.direction),r=Sr.dot(Sr)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return o<0&&l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,a=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,a=(e.min.y-p.y)*u),i>a||s>r||((s>i||i!==i)&&(i=s),(a<r||r!==r)&&(r=a),h>=0?(o=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(o=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Sr)!==null}intersectTriangle(e,t,i,r,s){Jy.subVectors(t,e),ip.subVectors(i,e),Qy.crossVectors(Jy,ip);let a=this.direction.dot(Qy),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;as.subVectors(this.origin,e);const l=o*this.direction.dot(ip.crossVectors(as,ip));if(l<0)return null;const c=o*this.direction.dot(Jy.cross(as));if(c<0||l+c>a)return null;const u=-o*as.dot(Qy);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Re{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,a,o,l,c,u,h,p,m,v,y,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=a,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=y,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Re().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ko.setFromMatrixColumn(e,0).length(),s=1/Ko.setFromMatrixColumn(e,1).length(),a=1/Ko.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=a*u,m=a*h,v=o*u,y=o*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=p-y*c,t[9]=-o*l,t[2]=y-p*c,t[6]=v+m*c,t[10]=a*l}else if(e.order==="YXZ"){const p=l*u,m=l*h,v=c*u,y=c*h;t[0]=p+y*o,t[4]=v*o-m,t[8]=a*c,t[1]=a*h,t[5]=a*u,t[9]=-o,t[2]=m*o-v,t[6]=y+p*o,t[10]=a*l}else if(e.order==="ZXY"){const p=l*u,m=l*h,v=c*u,y=c*h;t[0]=p-y*o,t[4]=-a*h,t[8]=v+m*o,t[1]=m+v*o,t[5]=a*u,t[9]=y-p*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const p=a*u,m=a*h,v=o*u,y=o*h;t[0]=l*u,t[4]=v*c-m,t[8]=p*c+y,t[1]=l*h,t[5]=y*c+p,t[9]=m*c-v,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const p=a*l,m=a*c,v=o*l,y=o*c;t[0]=l*u,t[4]=y-p*h,t[8]=v*h+m,t[1]=h,t[5]=a*u,t[9]=-o*u,t[2]=-c*u,t[6]=m*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=a*l,m=a*c,v=o*l,y=o*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=p*h+y,t[5]=a*u,t[9]=m*h-v,t[2]=v*h-m,t[6]=o*u,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(bW,e,wW)}lookAt(e,t,i){const r=this.elements;return qn.subVectors(e,t),qn.lengthSq()===0&&(qn.z=1),qn.normalize(),os.crossVectors(i,qn),os.lengthSq()===0&&(Math.abs(i.z)===1?qn.x+=1e-4:qn.z+=1e-4,qn.normalize(),os.crossVectors(i,qn)),os.normalize(),rp.crossVectors(qn,os),r[0]=os.x,r[4]=rp.x,r[8]=qn.x,r[1]=os.y,r[5]=rp.y,r[9]=qn.y,r[2]=os.z,r[6]=rp.z,r[10]=qn.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],u=i[1],h=i[5],p=i[9],m=i[13],v=i[2],y=i[6],x=i[10],g=i[14],f=i[3],b=i[7],w=i[11],T=i[15],E=r[0],_=r[4],C=r[8],A=r[12],P=r[1],R=r[5],G=r[9],I=r[13],j=r[2],z=r[6],U=r[10],W=r[14],V=r[3],M=r[7],q=r[11],X=r[15];return s[0]=a*E+o*P+l*j+c*V,s[4]=a*_+o*R+l*z+c*M,s[8]=a*C+o*G+l*U+c*q,s[12]=a*A+o*I+l*W+c*X,s[1]=u*E+h*P+p*j+m*V,s[5]=u*_+h*R+p*z+m*M,s[9]=u*C+h*G+p*U+m*q,s[13]=u*A+h*I+p*W+m*X,s[2]=v*E+y*P+x*j+g*V,s[6]=v*_+y*R+x*z+g*M,s[10]=v*C+y*G+x*U+g*q,s[14]=v*A+y*I+x*W+g*X,s[3]=f*E+b*P+w*j+T*V,s[7]=f*_+b*R+w*z+T*M,s[11]=f*C+b*G+w*U+T*q,s[15]=f*A+b*I+w*W+T*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],m=e[14],v=e[3],y=e[7],x=e[11],g=e[15];return v*(+s*l*h-r*c*h-s*o*p+i*c*p+r*o*m-i*l*m)+y*(+t*l*m-t*c*p+s*a*p-r*a*m+r*c*u-s*l*u)+x*(+t*c*h-t*o*m-s*a*h+i*a*m+s*o*u-i*c*u)+g*(-r*o*u-t*l*h+t*o*p+r*a*h-i*a*p+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],m=e[11],v=e[12],y=e[13],x=e[14],g=e[15],f=h*x*c-y*p*c+y*l*m-o*x*m-h*l*g+o*p*g,b=v*p*c-u*x*c-v*l*m+a*x*m+u*l*g-a*p*g,w=u*y*c-v*h*c+v*o*m-a*y*m-u*o*g+a*h*g,T=v*h*l-u*y*l-v*o*p+a*y*p+u*o*x-a*h*x,E=t*f+i*b+r*w+s*T;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/E;return e[0]=f*_,e[1]=(y*p*s-h*x*s-y*r*m+i*x*m+h*r*g-i*p*g)*_,e[2]=(o*x*s-y*l*s+y*r*c-i*x*c-o*r*g+i*l*g)*_,e[3]=(h*l*s-o*p*s-h*r*c+i*p*c+o*r*m-i*l*m)*_,e[4]=b*_,e[5]=(u*x*s-v*p*s+v*r*m-t*x*m-u*r*g+t*p*g)*_,e[6]=(v*l*s-a*x*s-v*r*c+t*x*c+a*r*g-t*l*g)*_,e[7]=(a*p*s-u*l*s+u*r*c-t*p*c-a*r*m+t*l*m)*_,e[8]=w*_,e[9]=(v*h*s-u*y*s-v*i*m+t*y*m+u*i*g-t*h*g)*_,e[10]=(a*y*s-v*o*s+v*i*c-t*y*c-a*i*g+t*o*g)*_,e[11]=(u*o*s-a*h*s-u*i*c+t*h*c+a*i*m-t*o*m)*_,e[12]=T*_,e[13]=(u*y*r-v*h*r+v*i*p-t*y*p-u*i*x+t*h*x)*_,e[14]=(v*o*r-a*y*r-v*i*l+t*y*l+a*i*x-t*o*x)*_,e[15]=(a*h*r-u*o*r+u*i*l-t*h*l-a*i*p+t*o*p)*_,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,u*o+i,u*l-r*a,0,c*l-r*o,u*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,u=a+a,h=o+o,p=s*c,m=s*u,v=s*h,y=a*u,x=a*h,g=o*h,f=l*c,b=l*u,w=l*h,T=i.x,E=i.y,_=i.z;return r[0]=(1-(y+g))*T,r[1]=(m+w)*T,r[2]=(v-b)*T,r[3]=0,r[4]=(m-w)*E,r[5]=(1-(p+g))*E,r[6]=(x+f)*E,r[7]=0,r[8]=(v+b)*_,r[9]=(x-f)*_,r[10]=(1-(p+y))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ko.set(r[0],r[1],r[2]).length();const a=Ko.set(r[4],r[5],r[6]).length(),o=Ko.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ei.copy(this);const c=1/s,u=1/a,h=1/o;return Ei.elements[0]*=c,Ei.elements[1]*=c,Ei.elements[2]*=c,Ei.elements[4]*=u,Ei.elements[5]*=u,Ei.elements[6]*=u,Ei.elements[8]*=h,Ei.elements[9]*=h,Ei.elements[10]*=h,t.setFromRotationMatrix(Ei),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,l=2*s/(t-e),c=2*s/(i-r),u=(t+e)/(t-e),h=(i+r)/(i-r),p=-(a+s)/(a-s),m=-2*a*s/(a-s);return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=p,o[14]=m,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,i,r,s,a){const o=this.elements,l=1/(t-e),c=1/(i-r),u=1/(a-s),h=(t+e)*l,p=(i+r)*c,m=(a+s)*u;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-p,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-m,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}Re.prototype.isMatrix4=!0;const Ko=new L,Ei=new Re,bW=new L(0,0,0),wW=new L(1,1,1),os=new L,rp=new L,qn=new L,dT=new Re,uT=new mn;class ko{constructor(e=0,t=0,i=0,r=ko.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],u=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-dn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(dn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-dn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(dn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-dn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return dT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return uT.setFromEuler(this),this.setFromQuaternion(uT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new L(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ko.prototype.isEuler=!0;ko.DefaultOrder="XYZ";ko.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class S0{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let SW=0;const hT=new L,Xo=new mn,_r=new Re,sp=new L,id=new L,_W=new L,TW=new mn,pT=new L(1,0,0),mT=new L(0,1,0),fT=new L(0,0,1),EW={type:"added"},gT={type:"removed"};class Ke extends aa{constructor(){super(),Object.defineProperty(this,"id",{value:SW++}),this.uuid=ni(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ke.DefaultUp.clone();const e=new L,t=new ko,i=new mn,r=new L(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Re},normalMatrix:{value:new Kt}}),this.matrix=new Re,this.matrixWorld=new Re,this.matrixAutoUpdate=Ke.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new S0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Xo.setFromAxisAngle(e,t),this.quaternion.multiply(Xo),this}rotateOnWorldAxis(e,t){return Xo.setFromAxisAngle(e,t),this.quaternion.premultiply(Xo),this}rotateX(e){return this.rotateOnAxis(pT,e)}rotateY(e){return this.rotateOnAxis(mT,e)}rotateZ(e){return this.rotateOnAxis(fT,e)}translateOnAxis(e,t){return hT.copy(e).applyQuaternion(this.quaternion),this.position.add(hT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(pT,e)}translateY(e){return this.translateOnAxis(mT,e)}translateZ(e){return this.translateOnAxis(fT,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(_r.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?sp.copy(e):sp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),id.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_r.lookAt(id,sp,this.up):_r.lookAt(sp,id,this.up),this.quaternion.setFromRotationMatrix(_r),r&&(_r.extractRotation(r.matrixWorld),Xo.setFromRotationMatrix(_r),this.quaternion.premultiply(Xo.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(EW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gT)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(gT)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_r.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_r.multiply(e.parent.matrixWorld)),e.applyMatrix4(_r),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(id,e,_W),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(id,TW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),h=a(e.shapes),p=a(e.skeletons),m=a(e.animations);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m)}return i.object=r,i;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ke.DefaultUp=new L(0,1,0);Ke.DefaultMatrixAutoUpdate=!0;Ke.prototype.isObject3D=!0;const Ci=new L,Tr=new L,Zy=new L,Er=new L,Jo=new L,Qo=new L,yT=new L,ev=new L,tv=new L,nv=new L;class Ot{constructor(e=new L,t=new L,i=new L){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ci.subVectors(e,t),r.cross(Ci);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ci.subVectors(r,t),Tr.subVectors(i,t),Zy.subVectors(e,t);const a=Ci.dot(Ci),o=Ci.dot(Tr),l=Ci.dot(Zy),c=Tr.dot(Tr),u=Tr.dot(Zy),h=a*c-o*o;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-o*u)*p,v=(a*u-o*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Er),Er.x>=0&&Er.y>=0&&Er.x+Er.y<=1}static getUV(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,Er),l.set(0,0),l.addScaledVector(s,Er.x),l.addScaledVector(a,Er.y),l.addScaledVector(o,Er.z),l}static isFrontFacing(e,t,i,r){return Ci.subVectors(i,t),Tr.subVectors(e,t),Ci.cross(Tr).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ci.subVectors(this.c,this.b),Tr.subVectors(this.a,this.b),Ci.cross(Tr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ot.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ot.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Ot.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ot.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ot.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;Jo.subVectors(r,i),Qo.subVectors(s,i),ev.subVectors(e,i);const l=Jo.dot(ev),c=Qo.dot(ev);if(l<=0&&c<=0)return t.copy(i);tv.subVectors(e,r);const u=Jo.dot(tv),h=Qo.dot(tv);if(u>=0&&h<=u)return t.copy(r);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return a=l/(l-u),t.copy(i).addScaledVector(Jo,a);nv.subVectors(e,s);const m=Jo.dot(nv),v=Qo.dot(nv);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return o=c/(c-v),t.copy(i).addScaledVector(Qo,o);const x=u*v-m*h;if(x<=0&&h-u>=0&&m-v>=0)return yT.subVectors(s,r),o=(h-u)/(h-u+(m-v)),t.copy(r).addScaledVector(yT,o);const g=1/(x+y+p);return a=y*g,o=p*g,t.copy(i).addScaledVector(Jo,a).addScaledVector(Qo,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let CW=0;class rn extends aa{constructor(){super(),Object.defineProperty(this,"id",{value:CW++}),this.uuid=ni(),this.name="",this.type="Material",this.fog=!0,this.blending=Gl,this.side=lo,this.vertexColors=!1,this.opacity=1,this.format=pn,this.transparent=!1,this.blendSrc=p0,this.blendDst=m0,this.blendEquation=ka,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=RL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=am,this.stencilZFail=am,this.stencilZPass=am,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===h0;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Gl&&(i.blending=this.blending),this.side!==lo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==pn&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}rn.prototype.isMaterial=!0;const DL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mi={h:0,s:0,l:0},ap={h:0,s:0,l:0};function iv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function rv(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function sv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class be{constructor(e,t,i){return t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,i){return this.r=e,this.g=t,this.b=i,this}setHSL(e,t,i){if(e=b0(e,1),t=dn(t,0,1),i=dn(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,s=2*i-r;this.r=iv(s,r,e+1/3),this.g=iv(s,r,e),this.b=iv(s,r,e-1/3)}return this}setStyle(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const o=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=DL[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=rv(e.r),this.g=rv(e.g),this.b=rv(e.b),this}copyLinearToSRGB(e){return this.r=sv(e.r),this.g=sv(e.g),this.b=sv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,i=this.g,r=this.b,s=Math.max(t,i,r),a=Math.min(t,i,r);let o,l;const c=(a+s)/2;if(a===s)o=0,l=0;else{const u=s-a;switch(l=c<=.5?u/(s+a):u/(2-s-a),s){case t:o=(i-r)/u+(i<r?6:0);break;case i:o=(r-t)/u+2;break;case r:o=(t-i)/u+4;break}o/=6}return e.h=o,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,i){return this.getHSL(Mi),Mi.h+=e,Mi.s+=t,Mi.l+=i,this.setHSL(Mi.h,Mi.s,Mi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Mi),e.getHSL(ap);const i=Rd(Mi.h,ap.h,t),r=Rd(Mi.s,ap.s,t),s=Rd(Mi.l,ap.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}be.NAMES=DL;be.prototype.isColor=!0;be.prototype.r=1;be.prototype.g=1;be.prototype.b=1;class Zr extends rn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Zr.prototype.isMeshBasicMaterial=!0;const ht=new L,op=new de;class Qe{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=hc,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new be),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new de),t[i++]=a.x,t[i++]=a.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new L),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new ot),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)op.fromBufferAttribute(this,t),op.applyMatrix3(e),this.setXY(t,op.x,op.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ht.fromBufferAttribute(this,t),ht.applyMatrix3(e),this.setXYZ(t,ht.x,ht.y,ht.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ht.x=this.getX(t),ht.y=this.getY(t),ht.z=this.getZ(t),ht.applyMatrix4(e),this.setXYZ(t,ht.x,ht.y,ht.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ht.x=this.getX(t),ht.y=this.getY(t),ht.z=this.getZ(t),ht.applyNormalMatrix(e),this.setXYZ(t,ht.x,ht.y,ht.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ht.x=this.getX(t),ht.y=this.getY(t),ht.z=this.getZ(t),ht.transformDirection(e),this.setXYZ(t,ht.x,ht.y,ht.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==hc&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Qe.prototype.isBufferAttribute=!0;class OL extends Qe{constructor(e,t,i){super(new Int8Array(e),t,i)}}class FL extends Qe{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class BL extends Qe{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class zL extends Qe{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Yf extends Qe{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class UL extends Qe{constructor(e,t,i){super(new Int32Array(e),t,i)}}class Kf extends Qe{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class GL extends Qe{constructor(e,t,i){super(new Uint16Array(e),t,i)}}GL.prototype.isFloat16BufferAttribute=!0;class Me extends Qe{constructor(e,t,i){super(new Float32Array(e),t,i)}}class HL extends Qe{constructor(e,t,i){super(new Float64Array(e),t,i)}}let MW=0;const li=new Re,av=new Ke,Zo=new L,Yn=new oi,rd=new oi,Jt=new L;class je extends aa{constructor(){super(),Object.defineProperty(this,"id",{value:MW++}),this.uuid=ni(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(IL(e)>65535?Kf:Yf)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Kt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return li.makeRotationFromQuaternion(e),this.applyMatrix4(li),this}rotateX(e){return li.makeRotationX(e),this.applyMatrix4(li),this}rotateY(e){return li.makeRotationY(e),this.applyMatrix4(li),this}rotateZ(e){return li.makeRotationZ(e),this.applyMatrix4(li),this}translate(e,t,i){return li.makeTranslation(e,t,i),this.applyMatrix4(li),this}scale(e,t,i){return li.makeScale(e,t,i),this.applyMatrix4(li),this}lookAt(e){return av.lookAt(e),av.updateMatrix(),this.applyMatrix4(av.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zo).negate(),this.translate(Zo.x,Zo.y,Zo.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Me(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Yn.setFromBufferAttribute(s),this.morphTargetsRelative?(Jt.addVectors(this.boundingBox.min,Yn.min),this.boundingBox.expandByPoint(Jt),Jt.addVectors(this.boundingBox.max,Yn.max),this.boundingBox.expandByPoint(Jt)):(this.boundingBox.expandByPoint(Yn.min),this.boundingBox.expandByPoint(Yn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new L,1/0);return}if(e){const i=this.boundingSphere.center;if(Yn.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];rd.setFromBufferAttribute(o),this.morphTargetsRelative?(Jt.addVectors(Yn.min,rd.min),Yn.expandByPoint(Jt),Jt.addVectors(Yn.max,rd.max),Yn.expandByPoint(Jt)):(Yn.expandByPoint(rd.min),Yn.expandByPoint(rd.max))}Yn.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Jt.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Jt));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Jt.fromBufferAttribute(o,c),l&&(Zo.fromBufferAttribute(e,c),Jt.add(Zo)),r=Math.max(r,i.distanceToSquared(Jt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,o=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Qe(new Float32Array(4*o),4));const l=t.tangent.array,c=[],u=[];for(let P=0;P<o;P++)c[P]=new L,u[P]=new L;const h=new L,p=new L,m=new L,v=new de,y=new de,x=new de,g=new L,f=new L;function b(P,R,G){h.fromArray(r,P*3),p.fromArray(r,R*3),m.fromArray(r,G*3),v.fromArray(a,P*2),y.fromArray(a,R*2),x.fromArray(a,G*2),p.sub(h),m.sub(h),y.sub(v),x.sub(v);const I=1/(y.x*x.y-x.x*y.y);isFinite(I)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(I),f.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(I),c[P].add(g),c[R].add(g),c[G].add(g),u[P].add(f),u[R].add(f),u[G].add(f))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let P=0,R=w.length;P<R;++P){const G=w[P],I=G.start,j=G.count;for(let z=I,U=I+j;z<U;z+=3)b(i[z+0],i[z+1],i[z+2])}const T=new L,E=new L,_=new L,C=new L;function A(P){_.fromArray(s,P*3),C.copy(_);const R=c[P];T.copy(R),T.sub(_.multiplyScalar(_.dot(R))).normalize(),E.crossVectors(C,R);const I=E.dot(u[P])<0?-1:1;l[P*4]=T.x,l[P*4+1]=T.y,l[P*4+2]=T.z,l[P*4+3]=I}for(let P=0,R=w.length;P<R;++P){const G=w[P],I=G.start,j=G.count;for(let z=I,U=I+j;z<U;z+=3)A(i[z+0]),A(i[z+1]),A(i[z+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Qe(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new L,s=new L,a=new L,o=new L,l=new L,c=new L,u=new L,h=new L;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),a.fromBufferAttribute(t,x),u.subVectors(a,s),h.subVectors(r,s),u.cross(h),o.fromBufferAttribute(i,v),l.fromBufferAttribute(i,y),c.fromBufferAttribute(i,x),o.add(u),l.add(u),c.add(u),i.setXYZ(v,o.x,o.y,o.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),a.fromBufferAttribute(t,p+2),u.subVectors(a,s),h.subVectors(r,s),u.cross(h),i.setXYZ(p+0,u.x,u.y,u.z),i.setXYZ(p+1,u.x,u.y,u.z),i.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const a=i[r].array,o=e.attributes[r],l=o.array,c=o.itemSize*t,u=Math.min(l.length,a.length-c);for(let h=0,p=c;h<u;h++,p++)a[p]=l[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Jt.fromBufferAttribute(e,t),Jt.normalize(),e.setXYZ(t,Jt.x,Jt.y,Jt.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,h=o.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let y=0,x=l.length;y<x;y++){o.isInterleavedBufferAttribute?m=l[y]*o.data.stride+o.offset:m=l[y]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new Qe(p,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new je,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,h=c.length;u<h;u++){const p=c[u],m=e(p,i);l.push(m)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let p=0,m=h.length;p<m;p++)u.push(h[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const h=a[c];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}je.prototype.isBufferGeometry=!0;const vT=new Re,el=new la,ov=new oa,ls=new L,cs=new L,ds=new L,lv=new L,cv=new L,dv=new L,lp=new L,cp=new L,dp=new L,up=new de,hp=new de,pp=new de,uv=new L,mp=new L;class Ht extends Ke{constructor(e=new je,t=new Zr){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),ov.copy(i.boundingSphere),ov.applyMatrix4(s),e.ray.intersectsSphere(ov)===!1)||(vT.copy(s).invert(),el.copy(e.ray).applyMatrix4(vT),i.boundingBox!==null&&el.intersectsBox(i.boundingBox)===!1))return;let a;if(i.isBufferGeometry){const o=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,h=i.attributes.uv,p=i.attributes.uv2,m=i.groups,v=i.drawRange;if(o!==null)if(Array.isArray(r))for(let y=0,x=m.length;y<x;y++){const g=m[y],f=r[g.materialIndex],b=Math.max(g.start,v.start),w=Math.min(o.count,Math.min(g.start+g.count,v.start+v.count));for(let T=b,E=w;T<E;T+=3){const _=o.getX(T),C=o.getX(T+1),A=o.getX(T+2);a=fp(this,f,e,el,l,c,u,h,p,_,C,A),a&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=g.materialIndex,t.push(a))}}else{const y=Math.max(0,v.start),x=Math.min(o.count,v.start+v.count);for(let g=y,f=x;g<f;g+=3){const b=o.getX(g),w=o.getX(g+1),T=o.getX(g+2);a=fp(this,r,e,el,l,c,u,h,p,b,w,T),a&&(a.faceIndex=Math.floor(g/3),t.push(a))}}else if(l!==void 0)if(Array.isArray(r))for(let y=0,x=m.length;y<x;y++){const g=m[y],f=r[g.materialIndex],b=Math.max(g.start,v.start),w=Math.min(l.count,Math.min(g.start+g.count,v.start+v.count));for(let T=b,E=w;T<E;T+=3){const _=T,C=T+1,A=T+2;a=fp(this,f,e,el,l,c,u,h,p,_,C,A),a&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=g.materialIndex,t.push(a))}}else{const y=Math.max(0,v.start),x=Math.min(l.count,v.start+v.count);for(let g=y,f=x;g<f;g+=3){const b=g,w=g+1,T=g+2;a=fp(this,r,e,el,l,c,u,h,p,b,w,T),a&&(a.faceIndex=Math.floor(g/3),t.push(a))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Ht.prototype.isMesh=!0;function kW(n,e,t,i,r,s,a,o){let l;if(e.side===jt?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side!==co,o),l===null)return null;mp.copy(o),mp.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(mp);return c<t.near||c>t.far?null:{distance:c,point:mp.clone(),object:n}}function fp(n,e,t,i,r,s,a,o,l,c,u,h){ls.fromBufferAttribute(r,c),cs.fromBufferAttribute(r,u),ds.fromBufferAttribute(r,h);const p=n.morphTargetInfluences;if(s&&p){lp.set(0,0,0),cp.set(0,0,0),dp.set(0,0,0);for(let v=0,y=s.length;v<y;v++){const x=p[v],g=s[v];x!==0&&(lv.fromBufferAttribute(g,c),cv.fromBufferAttribute(g,u),dv.fromBufferAttribute(g,h),a?(lp.addScaledVector(lv,x),cp.addScaledVector(cv,x),dp.addScaledVector(dv,x)):(lp.addScaledVector(lv.sub(ls),x),cp.addScaledVector(cv.sub(cs),x),dp.addScaledVector(dv.sub(ds),x)))}ls.add(lp),cs.add(cp),ds.add(dp)}n.isSkinnedMesh&&(n.boneTransform(c,ls),n.boneTransform(u,cs),n.boneTransform(h,ds));const m=kW(n,e,t,i,ls,cs,ds,uv);if(m){o&&(up.fromBufferAttribute(o,c),hp.fromBufferAttribute(o,u),pp.fromBufferAttribute(o,h),m.uv=Ot.getUV(uv,ls,cs,ds,up,hp,pp,new de)),l&&(up.fromBufferAttribute(l,c),hp.fromBufferAttribute(l,u),pp.fromBufferAttribute(l,h),m.uv2=Ot.getUV(uv,ls,cs,ds,up,hp,pp,new de));const v={a:c,b:u,c:h,normal:new L,materialIndex:0};Ot.getNormal(ls,cs,ds,v.normal),m.face=v}return m}class Wr extends je{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,a,s,0),v("z","y","x",1,-1,i,t,-e,a,s,1),v("x","z","y",1,1,e,i,t,r,a,2),v("x","z","y",1,-1,e,i,-t,r,a,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Me(c,3)),this.setAttribute("normal",new Me(u,3)),this.setAttribute("uv",new Me(h,2));function v(y,x,g,f,b,w,T,E,_,C,A){const P=w/_,R=T/C,G=w/2,I=T/2,j=E/2,z=_+1,U=C+1;let W=0,V=0;const M=new L;for(let q=0;q<U;q++){const X=q*R-I;for(let ne=0;ne<z;ne++){const Y=ne*P-G;M[y]=Y*f,M[x]=X*b,M[g]=j,c.push(M.x,M.y,M.z),M[y]=0,M[x]=0,M[g]=E>0?1:-1,u.push(M.x,M.y,M.z),h.push(ne/_),h.push(1-q/C),W+=1}}for(let q=0;q<C;q++)for(let X=0;X<_;X++){const ne=p+X+z*q,Y=p+X+z*(q+1),H=p+(X+1)+z*(q+1),k=p+(X+1)+z*q;l.push(ne,Y,k),l.push(Y,H,k),V+=6}o.addGroup(m,V,A),m+=V,p+=W}}static fromJSON(e){return new Wr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function mc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function wn(n){const e={};for(let t=0;t<n.length;t++){const i=mc(n[t]);for(const r in i)e[r]=i[r]}return e}const VL={clone:mc,merge:wn};var AW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,PW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class $r extends rn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=AW,this.fragmentShader=PW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mc(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}$r.prototype.isShaderMaterial=!0;class Vu extends Ke{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Re,this.projectionMatrix=new Re,this.projectionMatrixInverse=new Re}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Vu.prototype.isCamera=!0;class Zt extends Vu{constructor(e=50,t=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=xu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ja*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xu*2*Math.atan(Math.tan(Ja*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ja*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Zt.prototype.isPerspectiveCamera=!0;const tl=90,nl=1;class Xf extends Ke{constructor(e,t,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Zt(tl,nl,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new L(1,0,0)),this.add(r);const s=new Zt(tl,nl,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new L(-1,0,0)),this.add(s);const a=new Zt(tl,nl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new L(0,1,0)),this.add(a);const o=new Zt(tl,nl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new L(0,-1,0)),this.add(o);const l=new Zt(tl,nl,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new L(0,0,1)),this.add(l);const c=new Zt(tl,nl,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new L(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,a,o,l,c]=this.children,u=e.xr.enabled,h=e.getRenderTarget();e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,o),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(h),e.xr.enabled=u}}class Dc extends Xt{constructor(e,t,i,r,s,a,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:_o,super(e,t,i,r,s,a,o,l,c,u),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Dc.prototype.isCubeTexture=!0;class Jf extends Ui{constructor(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),super(e,e,t),t=t||{},this.texture=new Dc(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yt,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=pn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Wr(5,5,5),s=new $r({name:"CubemapFromEquirect",uniforms:mc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:jt,blending:Dr});s.uniforms.tEquirect.value=t;const a=new Ht(r,s),o=t.minFilter;return t.minFilter===Eo&&(t.minFilter=Yt),new Xf(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}Jf.prototype.isWebGLCubeRenderTarget=!0;const hv=new L,RW=new L,LW=new Kt;class tr{constructor(e=new L(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=hv.subVectors(i,t).cross(RW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(hv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||LW.getNormalMatrix(e),r=this.coplanarPoint(hv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}tr.prototype.isPlane=!0;const il=new oa,gp=new L;class Wu{constructor(e=new tr,t=new tr,i=new tr,r=new tr,s=new tr,a=new tr){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],a=i[2],o=i[3],l=i[4],c=i[5],u=i[6],h=i[7],p=i[8],m=i[9],v=i[10],y=i[11],x=i[12],g=i[13],f=i[14],b=i[15];return t[0].setComponents(o-r,h-l,y-p,b-x).normalize(),t[1].setComponents(o+r,h+l,y+p,b+x).normalize(),t[2].setComponents(o+s,h+c,y+m,b+g).normalize(),t[3].setComponents(o-s,h-c,y-m,b-g).normalize(),t[4].setComponents(o-a,h-u,y-v,b-f).normalize(),t[5].setComponents(o+a,h+u,y+v,b+f).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),il.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(il)}intersectsSprite(e){return il.center.set(0,0,0),il.radius=.7071067811865476,il.applyMatrix4(e.matrixWorld),this.intersectsSphere(il)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(gp.x=r.normal.x>0?e.max.x:e.min.x,gp.y=r.normal.y>0?e.max.y:e.min.y,gp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(gp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WL(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function NW(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,h,p),c.onUploadCallback();let v=5126;return h instanceof Float32Array?v=5126:h instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):h instanceof Uint16Array?c.isFloat16BufferAttribute?t?v=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):v=5123:h instanceof Int16Array?v=5122:h instanceof Uint32Array?v=5125:h instanceof Int32Array?v=5124:h instanceof Int8Array?v=5120:(h instanceof Uint8Array||h instanceof Uint8ClampedArray)&&(v=5121),{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const p=u.array,m=u.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:a,remove:o,update:l}}class uo extends je{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),c=o+1,u=l+1,h=e/o,p=t/l,m=[],v=[],y=[],x=[];for(let g=0;g<u;g++){const f=g*p-a;for(let b=0;b<c;b++){const w=b*h-s;v.push(w,-f,0),y.push(0,0,1),x.push(b/o),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let f=0;f<o;f++){const b=f+c*g,w=f+c*(g+1),T=f+1+c*(g+1),E=f+1+c*g;m.push(b,w,E),m.push(w,T,E)}this.setIndex(m),this.setAttribute("position",new Me(v,3)),this.setAttribute("normal",new Me(y,3)),this.setAttribute("uv",new Me(x,2))}static fromJSON(e){return new uo(e.width,e.height,e.widthSegments,e.heightSegments)}}var IW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,jW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,OW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,FW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,BW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,zW="vec3 transformed = vec3( position );",UW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,GW=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,HW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,WW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$W=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,KW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,XW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,JW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,QW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,ZW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,e8=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,t8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,n8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,i8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,r8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,s8="gl_FragColor = linearToOutputTexel( gl_FragColor );",a8=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,o8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,l8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,c8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,d8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,u8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,h8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,p8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,m8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,f8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,g8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,y8=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,v8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,x8=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,b8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,w8=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,S8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,_8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,T8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,E8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,C8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,M8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,k8=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,A8=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,P8=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,R8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,L8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,N8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,I8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,j8=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,D8=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,O8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,F8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,B8=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,z8=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,U8=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,G8=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,H8=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,V8=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,W8=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,q8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Y8=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,K8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,X8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,J8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Q8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Z8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,e$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,t$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,n$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,i$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,r$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,s$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,a$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,o$=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,l$=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,c$=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,d$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,u$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,h$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,p$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,m$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,f$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,g$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,y$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,v$=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,x$=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,b$=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,w$=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,S$=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,_$=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,T$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,E$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,C$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,M$=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const k$=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,A$=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,P$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,R$=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,L$=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,N$=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,I$=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,j$=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,D$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,O$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,F$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,B$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,z$=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,U$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,G$=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H$=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,W$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,q$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,Y$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,J$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Z$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,t9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,n9=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,i9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,r9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,s9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,$e={alphamap_fragment:IW,alphamap_pars_fragment:jW,alphatest_fragment:DW,alphatest_pars_fragment:OW,aomap_fragment:FW,aomap_pars_fragment:BW,begin_vertex:zW,beginnormal_vertex:UW,bsdfs:GW,bumpmap_pars_fragment:HW,clipping_planes_fragment:VW,clipping_planes_pars_fragment:WW,clipping_planes_pars_vertex:$W,clipping_planes_vertex:qW,color_fragment:YW,color_pars_fragment:KW,color_pars_vertex:XW,color_vertex:JW,common:QW,cube_uv_reflection_fragment:ZW,defaultnormal_vertex:e8,displacementmap_pars_vertex:t8,displacementmap_vertex:n8,emissivemap_fragment:i8,emissivemap_pars_fragment:r8,encodings_fragment:s8,encodings_pars_fragment:a8,envmap_fragment:o8,envmap_common_pars_fragment:l8,envmap_pars_fragment:c8,envmap_pars_vertex:d8,envmap_physical_pars_fragment:w8,envmap_vertex:u8,fog_vertex:h8,fog_pars_vertex:p8,fog_fragment:m8,fog_pars_fragment:f8,gradientmap_pars_fragment:g8,lightmap_fragment:y8,lightmap_pars_fragment:v8,lights_lambert_vertex:x8,lights_pars_begin:b8,lights_toon_fragment:S8,lights_toon_pars_fragment:_8,lights_phong_fragment:T8,lights_phong_pars_fragment:E8,lights_physical_fragment:C8,lights_physical_pars_fragment:M8,lights_fragment_begin:k8,lights_fragment_maps:A8,lights_fragment_end:P8,logdepthbuf_fragment:R8,logdepthbuf_pars_fragment:L8,logdepthbuf_pars_vertex:N8,logdepthbuf_vertex:I8,map_fragment:j8,map_pars_fragment:D8,map_particle_fragment:O8,map_particle_pars_fragment:F8,metalnessmap_fragment:B8,metalnessmap_pars_fragment:z8,morphnormal_vertex:U8,morphtarget_pars_vertex:G8,morphtarget_vertex:H8,normal_fragment_begin:V8,normal_fragment_maps:W8,normal_pars_fragment:$8,normal_pars_vertex:q8,normal_vertex:Y8,normalmap_pars_fragment:K8,clearcoat_normal_fragment_begin:X8,clearcoat_normal_fragment_maps:J8,clearcoat_pars_fragment:Q8,output_fragment:Z8,packing:e$,premultiplied_alpha_fragment:t$,project_vertex:n$,dithering_fragment:i$,dithering_pars_fragment:r$,roughnessmap_fragment:s$,roughnessmap_pars_fragment:a$,shadowmap_pars_fragment:o$,shadowmap_pars_vertex:l$,shadowmap_vertex:c$,shadowmask_pars_fragment:d$,skinbase_vertex:u$,skinning_pars_vertex:h$,skinning_vertex:p$,skinnormal_vertex:m$,specularmap_fragment:f$,specularmap_pars_fragment:g$,tonemapping_fragment:y$,tonemapping_pars_fragment:v$,transmission_fragment:x$,transmission_pars_fragment:b$,uv_pars_fragment:w$,uv_pars_vertex:S$,uv_vertex:_$,uv2_pars_fragment:T$,uv2_pars_vertex:E$,uv2_vertex:C$,worldpos_vertex:M$,background_vert:k$,background_frag:A$,cube_vert:P$,cube_frag:R$,depth_vert:L$,depth_frag:N$,distanceRGBA_vert:I$,distanceRGBA_frag:j$,equirect_vert:D$,equirect_frag:O$,linedashed_vert:F$,linedashed_frag:B$,meshbasic_vert:z$,meshbasic_frag:U$,meshlambert_vert:G$,meshlambert_frag:H$,meshmatcap_vert:V$,meshmatcap_frag:W$,meshnormal_vert:$$,meshnormal_frag:q$,meshphong_vert:Y$,meshphong_frag:K$,meshphysical_vert:X$,meshphysical_frag:J$,meshtoon_vert:Q$,meshtoon_frag:Z$,points_vert:e9,points_frag:t9,shadow_vert:n9,shadow_frag:i9,sprite_vert:r9,sprite_frag:s9},ve={common:{diffuse:{value:new be(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Kt},uv2Transform:{value:new Kt},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new de(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new be(16777215)},opacity:{value:1},center:{value:new de(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Kt}}},Fi={basic:{uniforms:wn([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.fog]),vertexShader:$e.meshbasic_vert,fragmentShader:$e.meshbasic_frag},lambert:{uniforms:wn([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.fog,ve.lights,{emissive:{value:new be(0)}}]),vertexShader:$e.meshlambert_vert,fragmentShader:$e.meshlambert_frag},phong:{uniforms:wn([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new be(0)},specular:{value:new be(1118481)},shininess:{value:30}}]),vertexShader:$e.meshphong_vert,fragmentShader:$e.meshphong_frag},standard:{uniforms:wn([ve.common,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.roughnessmap,ve.metalnessmap,ve.fog,ve.lights,{emissive:{value:new be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$e.meshphysical_vert,fragmentShader:$e.meshphysical_frag},toon:{uniforms:wn([ve.common,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.gradientmap,ve.fog,ve.lights,{emissive:{value:new be(0)}}]),vertexShader:$e.meshtoon_vert,fragmentShader:$e.meshtoon_frag},matcap:{uniforms:wn([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,{matcap:{value:null}}]),vertexShader:$e.meshmatcap_vert,fragmentShader:$e.meshmatcap_frag},points:{uniforms:wn([ve.points,ve.fog]),vertexShader:$e.points_vert,fragmentShader:$e.points_frag},dashed:{uniforms:wn([ve.common,ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$e.linedashed_vert,fragmentShader:$e.linedashed_frag},depth:{uniforms:wn([ve.common,ve.displacementmap]),vertexShader:$e.depth_vert,fragmentShader:$e.depth_frag},normal:{uniforms:wn([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,{opacity:{value:1}}]),vertexShader:$e.meshnormal_vert,fragmentShader:$e.meshnormal_frag},sprite:{uniforms:wn([ve.sprite,ve.fog]),vertexShader:$e.sprite_vert,fragmentShader:$e.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null}},vertexShader:$e.background_vert,fragmentShader:$e.background_frag},cube:{uniforms:wn([ve.envmap,{opacity:{value:1}}]),vertexShader:$e.cube_vert,fragmentShader:$e.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$e.equirect_vert,fragmentShader:$e.equirect_frag},distanceRGBA:{uniforms:wn([ve.common,ve.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$e.distanceRGBA_vert,fragmentShader:$e.distanceRGBA_frag},shadow:{uniforms:wn([ve.lights,ve.fog,{color:{value:new be(0)},opacity:{value:1}}]),vertexShader:$e.shadow_vert,fragmentShader:$e.shadow_frag}};Fi.physical={uniforms:wn([Fi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new de(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new be(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new de},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new be(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new be(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$e.meshphysical_vert,fragmentShader:$e.meshphysical_frag};function a9(n,e,t,i,r){const s=new be(0);let a=0,o,l,c=null,u=0,h=null;function p(v,y){let x=!1,g=y.isScene===!0?y.background:null;g&&g.isTexture&&(g=e.get(g));const f=n.xr,b=f.getSession&&f.getSession();b&&b.environmentBlendMode==="additive"&&(g=null),g===null?m(s,a):g&&g.isColor&&(m(g,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),g&&(g.isCubeTexture||g.mapping===jc)?(l===void 0&&(l=new Ht(new Wr(1,1,1),new $r({name:"BackgroundCubeMaterial",uniforms:mc(Fi.cube.uniforms),vertexShader:Fi.cube.vertexShader,fragmentShader:Fi.cube.fragmentShader,side:jt,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(w,T,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,(c!==g||u!==g.version||h!==n.toneMapping)&&(l.material.needsUpdate=!0,c=g,u=g.version,h=n.toneMapping),v.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(o===void 0&&(o=new Ht(new uo(2,2),new $r({name:"BackgroundMaterial",uniforms:mc(Fi.background.uniforms),vertexShader:Fi.background.vertexShader,fragmentShader:Fi.background.fragmentShader,side:lo,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(o)),o.material.uniforms.t2D.value=g,g.matrixAutoUpdate===!0&&g.updateMatrix(),o.material.uniforms.uvTransform.value.copy(g.matrix),(c!==g||u!==g.version||h!==n.toneMapping)&&(o.material.needsUpdate=!0,c=g,u=g.version,h=n.toneMapping),v.unshift(o,o.geometry,o.material,0,0,null))}function m(v,y){t.buffers.color.setClear(v.r,v.g,v.b,y,r)}return{getClearColor:function(){return s},setClearColor:function(v,y=1){s.set(v),a=y,m(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(v){a=v,m(s,a)},render:p}}function o9(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,o={},l=y(null);let c=l;function u(I,j,z,U,W){let V=!1;if(a){const M=v(U,z,j);c!==M&&(c=M,p(c.object)),V=x(U,W),V&&g(U,W)}else{const M=j.wireframe===!0;(c.geometry!==U.id||c.program!==z.id||c.wireframe!==M)&&(c.geometry=U.id,c.program=z.id,c.wireframe=M,V=!0)}I.isInstancedMesh===!0&&(V=!0),W!==null&&t.update(W,34963),V&&(_(I,j,z,U),W!==null&&n.bindBuffer(34963,t.get(W).buffer))}function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(I){return i.isWebGL2?n.bindVertexArray(I):s.bindVertexArrayOES(I)}function m(I){return i.isWebGL2?n.deleteVertexArray(I):s.deleteVertexArrayOES(I)}function v(I,j,z){const U=z.wireframe===!0;let W=o[I.id];W===void 0&&(W={},o[I.id]=W);let V=W[j.id];V===void 0&&(V={},W[j.id]=V);let M=V[U];return M===void 0&&(M=y(h()),V[U]=M),M}function y(I){const j=[],z=[],U=[];for(let W=0;W<r;W++)j[W]=0,z[W]=0,U[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:z,attributeDivisors:U,object:I,attributes:{},index:null}}function x(I,j){const z=c.attributes,U=I.attributes;let W=0;for(const V in U){const M=z[V],q=U[V];if(M===void 0||M.attribute!==q||M.data!==q.data)return!0;W++}return c.attributesNum!==W||c.index!==j}function g(I,j){const z={},U=I.attributes;let W=0;for(const V in U){const M=U[V],q={};q.attribute=M,M.data&&(q.data=M.data),z[V]=q,W++}c.attributes=z,c.attributesNum=W,c.index=j}function f(){const I=c.newAttributes;for(let j=0,z=I.length;j<z;j++)I[j]=0}function b(I){w(I,0)}function w(I,j){const z=c.newAttributes,U=c.enabledAttributes,W=c.attributeDivisors;z[I]=1,U[I]===0&&(n.enableVertexAttribArray(I),U[I]=1),W[I]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,j),W[I]=j)}function T(){const I=c.newAttributes,j=c.enabledAttributes;for(let z=0,U=j.length;z<U;z++)j[z]!==I[z]&&(n.disableVertexAttribArray(z),j[z]=0)}function E(I,j,z,U,W,V){i.isWebGL2===!0&&(z===5124||z===5125)?n.vertexAttribIPointer(I,j,z,W,V):n.vertexAttribPointer(I,j,z,U,W,V)}function _(I,j,z,U){if(i.isWebGL2===!1&&(I.isInstancedMesh||U.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;f();const W=U.attributes,V=z.getAttributes(),M=j.defaultAttributeValues;for(const q in V){const X=V[q];if(X.location>=0){let ne=W[q];if(ne===void 0&&(q==="instanceMatrix"&&I.instanceMatrix&&(ne=I.instanceMatrix),q==="instanceColor"&&I.instanceColor&&(ne=I.instanceColor)),ne!==void 0){const Y=ne.normalized,H=ne.itemSize,k=t.get(ne);if(k===void 0)continue;const O=k.buffer,D=k.type,Q=k.bytesPerElement;if(ne.isInterleavedBufferAttribute){const ae=ne.data,le=ae.stride,ce=ne.offset;if(ae&&ae.isInstancedInterleavedBuffer){for(let K=0;K<X.locationSize;K++)w(X.location+K,ae.meshPerAttribute);I.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let K=0;K<X.locationSize;K++)b(X.location+K);n.bindBuffer(34962,O);for(let K=0;K<X.locationSize;K++)E(X.location+K,H/X.locationSize,D,Y,le*Q,(ce+H/X.locationSize*K)*Q)}else{if(ne.isInstancedBufferAttribute){for(let ae=0;ae<X.locationSize;ae++)w(X.location+ae,ne.meshPerAttribute);I.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let ae=0;ae<X.locationSize;ae++)b(X.location+ae);n.bindBuffer(34962,O);for(let ae=0;ae<X.locationSize;ae++)E(X.location+ae,H/X.locationSize,D,Y,H*Q,H/X.locationSize*ae*Q)}}else if(M!==void 0){const Y=M[q];if(Y!==void 0)switch(Y.length){case 2:n.vertexAttrib2fv(X.location,Y);break;case 3:n.vertexAttrib3fv(X.location,Y);break;case 4:n.vertexAttrib4fv(X.location,Y);break;default:n.vertexAttrib1fv(X.location,Y)}}}}T()}function C(){R();for(const I in o){const j=o[I];for(const z in j){const U=j[z];for(const W in U)m(U[W].object),delete U[W];delete j[z]}delete o[I]}}function A(I){if(o[I.id]===void 0)return;const j=o[I.id];for(const z in j){const U=j[z];for(const W in U)m(U[W].object),delete U[W];delete j[z]}delete o[I.id]}function P(I){for(const j in o){const z=o[j];if(z[I.id]===void 0)continue;const U=z[I.id];for(const W in U)m(U[W].object),delete U[W];delete z[I.id]}}function R(){G(),c!==l&&(c=l,p(c.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:R,resetDefaultState:G,dispose:C,releaseStatesOfGeometry:A,releaseStatesOfProgram:P,initAttributes:f,enableAttribute:b,disableUnusedAttributes:T}}function l9(n,e,t,i){const r=i.isWebGL2;let s;function a(c){s=c}function o(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,h),t.update(u,s,h)}this.setMode=a,this.render=o,this.renderInstances=l}function c9(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const _=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(_){if(_==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";_="mediump"}return _==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let o=t.precision!==void 0?t.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),g=n.getParameter(36348),f=n.getParameter(36349),b=p>0,w=a||e.has("OES_texture_float"),T=b&&w,E=a?n.getParameter(36183):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:f,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:T,maxSamples:E}}function d9(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new tr,o=new Kt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const v=h.length!==0||p||i!==0||r;return r=p,t=u(h,m,0),i=h.length,v},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,p,m){const v=h.clippingPlanes,y=h.clipIntersection,x=h.clipShadows,g=n.get(h);if(!r||v===null||v.length===0||s&&!x)s?u(null):c();else{const f=s?0:i,b=f*4;let w=g.clippingState||null;l.value=w,w=u(v,p,b,m);for(let T=0;T!==b;++T)w[T]=t[T];g.clippingState=w,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=f}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(h,p,m,v){const y=h!==null?h.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const g=m+y*4,f=p.matrixWorldInverse;o.getNormalMatrix(f),(x===null||x.length<g)&&(x=new Float32Array(g));for(let b=0,w=m;b!==y;++b,w+=4)a.copy(h[b]).applyMatrix4(f,o),a.normal.toArray(x,w),x[w+3]=a.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function u9(n){let e=new WeakMap;function t(a,o){return o===uu?a.mapping=_o:o===hu&&(a.mapping=To),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===uu||o===hu)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=n.getRenderTarget(),u=new Jf(l.height/2);return u.fromEquirectangularTexture(n,a),e.set(a,u),n.setRenderTarget(c),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class $u extends Vu{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}$u.prototype.isOrthographicCamera=!0;class Oc extends $r{constructor(e){super(e),this.type="RawShaderMaterial"}}Oc.prototype.isRawShaderMaterial=!0;const Vl=4,Bs=8,Ji=Math.pow(2,Bs),$L=[.125,.215,.35,.446,.526,.582],qL=Bs-Vl+1+$L.length,rl=20,Ws={[gn]:0,[sa]:1,[$f]:2,[y0]:3,[v0]:4,[x0]:5,[Wf]:6},pv=new $u,{_lodPlanes:sd,_sizeLods:xT,_sigmas:yp}=p9(),bT=new be;let mv=null;const Ea=(1+Math.sqrt(5))/2,sl=1/Ea,wT=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,Ea,sl),new L(0,Ea,-sl),new L(sl,0,Ea),new L(-sl,0,Ea),new L(Ea,sl,0),new L(-Ea,sl,0)];class YL{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=m9(rl),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){mv=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=TT(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=_T(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<sd.length;e++)sd[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(mv),e.scissorTest=!1,vp(e,0,0,e.width,e.height)}_fromTexture(e){mv=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:Gt,minFilter:Gt,generateMipmaps:!1,type:Vr,format:z2,encoding:h9(e)?e.encoding:$f,depthBuffer:!1},i=ST(t);return i.depthBuffer=!e,this._pingPongRenderTarget=ST(t),i}_compileMaterial(e){const t=new Ht(sd[0],e);this._renderer.compile(t,pv)}_sceneToCubeUV(e,t,i,r){const o=new Zt(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.outputEncoding,m=u.toneMapping;u.getClearColor(bT),u.toneMapping=Fs,u.outputEncoding=gn,u.autoClear=!1;const v=new Zr({name:"PMREM.Background",side:jt,depthWrite:!1,depthTest:!1}),y=new Ht(new Wr,v);let x=!1;const g=e.background;g?g.isColor&&(v.color.copy(g),e.background=null,x=!0):(v.color.copy(bT),x=!0);for(let f=0;f<6;f++){const b=f%3;b==0?(o.up.set(0,l[f],0),o.lookAt(c[f],0,0)):b==1?(o.up.set(0,0,l[f]),o.lookAt(0,c[f],0)):(o.up.set(0,l[f],0),o.lookAt(0,0,c[f])),vp(r,b*Ji,f>2?Ji:0,Ji,Ji),u.setRenderTarget(r),x&&u.render(y,o),u.render(e,o)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=m,u.outputEncoding=p,u.autoClear=h,e.background=g}_setEncoding(e,t){this._renderer.capabilities.isWebGL2===!0&&t.format===pn&&t.type===Vr&&t.encoding===sa?e.value=Ws[gn]:e.value=Ws[t.encoding]}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===_o||e.mapping===To;r?this._cubemapShader==null&&(this._cubemapShader=TT()):this._equirectShader==null&&(this._equirectShader=_T());const s=r?this._cubemapShader:this._equirectShader,a=new Ht(sd[0],s),o=s.uniforms;o.envMap.value=e,r||o.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(o.inputEncoding,e),this._setEncoding(o.outputEncoding,t.texture),vp(t,0,0,3*Ji,2*Ji),i.setRenderTarget(t),i.render(a,pv)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<qL;r++){const s=Math.sqrt(yp[r]*yp[r]-yp[r-1]*yp[r-1]),a=wT[(r-1)%wT.length];this._blur(e,r-1,r,s,a)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Ht(sd[r],c),p=c.uniforms,m=xT[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*rl-1),y=s/v,x=isFinite(s)?1+Math.floor(u*y):rl;x>rl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${rl}`);const g=[];let f=0;for(let E=0;E<rl;++E){const _=E/y,C=Math.exp(-_*_/2);g.push(C),E==0?f+=C:E<x&&(f+=2*C)}for(let E=0;E<g.length;E++)g[E]=g[E]/f;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=a==="latitudinal",o&&(p.poleAxis.value=o),p.dTheta.value=v,p.mipInt.value=Bs-i,this._setEncoding(p.inputEncoding,e.texture),this._setEncoding(p.outputEncoding,e.texture);const b=xT[r],w=3*Math.max(0,Ji-2*b),T=(r===0?0:2*Ji)+2*b*(r>Bs-Vl?r-Bs+Vl:0);vp(t,w,T,3*b,2*b),l.setRenderTarget(t),l.render(h,pv)}}function h9(n){return n===void 0||n.type!==Vr?!1:n.encoding===gn||n.encoding===sa||n.encoding===Wf}function p9(){const n=[],e=[],t=[];let i=Bs;for(let r=0;r<qL;r++){const s=Math.pow(2,i);e.push(s);let a=1/s;r>Bs-Vl?a=$L[r-Bs+Vl-1]:r==0&&(a=0),t.push(a);const o=1/(s-1),l=-o/2,c=1+o/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=6,p=6,m=3,v=2,y=1,x=new Float32Array(m*p*h),g=new Float32Array(v*p*h),f=new Float32Array(y*p*h);for(let w=0;w<h;w++){const T=w%3*2/3-1,E=w>2?0:-1,_=[T,E,0,T+2/3,E,0,T+2/3,E+1,0,T,E,0,T+2/3,E+1,0,T,E+1,0];x.set(_,m*p*w),g.set(u,v*p*w);const C=[w,w,w,w,w,w];f.set(C,y*p*w)}const b=new je;b.setAttribute("position",new Qe(x,m)),b.setAttribute("uv",new Qe(g,v)),b.setAttribute("faceIndex",new Qe(f,y)),n.push(b),i>Vl&&i--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function ST(n){const e=new Ui(3*Ji,3*Ji,n);return e.texture.mapping=jc,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function vp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function m9(n){const e=new Float32Array(n),t=new L(0,1,0);return new Oc({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Ws[gn]},outputEncoding:{value:Ws[gn]}},vertexShader:_0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${T0()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Dr,depthTest:!1,depthWrite:!1})}function _T(){const n=new de(1,1);return new Oc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:Ws[gn]},outputEncoding:{value:Ws[gn]}},vertexShader:_0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${T0()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Dr,depthTest:!1,depthWrite:!1})}function TT(){return new Oc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ws[gn]},outputEncoding:{value:Ws[gn]}},vertexShader:_0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${T0()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Dr,depthTest:!1,depthWrite:!1})}function _0(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function T0(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function f9(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const l=o.mapping,c=l===uu||l===hu,u=l===_o||l===To;if(c||u){if(e.has(o))return e.get(o).texture;{const h=o.image;if(c&&h&&h.height>0||u&&h&&r(h)){const p=n.getRenderTarget();t===null&&(t=new YL(n));const m=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,m),n.setRenderTarget(p),o.addEventListener("dispose",s),m.texture}else return null}}}return o}function r(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function g9(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function y9(n,e,t,i){const r={},s=new WeakMap;function a(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",a),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function o(h,p){return r[p.id]===!0||(p.addEventListener("dispose",a),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const y=m[v];for(let x=0,g=y.length;x<g;x++)e.update(y[x],34962)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let y=0;if(m!==null){const f=m.array;y=m.version;for(let b=0,w=f.length;b<w;b+=3){const T=f[b+0],E=f[b+1],_=f[b+2];p.push(T,E,E,_,_,T)}}else{const f=v.array;y=v.version;for(let b=0,w=f.length/3-1;b<w;b+=3){const T=b+0,E=b+1,_=b+2;p.push(T,E,E,_,_,T)}}const x=new(IL(p)>65535?Kf:Yf)(p,1);x.version=y;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function u(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:o,update:l,getWireframeAttribute:u}}function v9(n,e,t,i){const r=i.isWebGL2;let s;function a(p){s=p}let o,l;function c(p){o=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,o,p*l),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let y,x;if(r)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,m,o,p*l,v),t.update(m,s,v)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=h}function x9(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case 4:t.triangles+=o*(s/3);break;case 1:t.lines+=o*(s/2);break;case 3:t.lines+=o*(s-1);break;case 2:t.lines+=o*s;break;case 0:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}class Qf extends Xt{constructor(e=null,t=1,i=1,r=1){super(null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=Gt,this.minFilter=Gt,this.wrapR=un,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Qf.prototype.isDataTexture2DArray=!0;function b9(n,e){return n[0]-e[0]}function w9(n,e){return Math.abs(e[1])-Math.abs(n[1])}function ET(n,e){let t=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?t=127:i instanceof Int16Array?t=32767:i instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(t)}function S9(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,a=new L,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position.length;let y=s.get(u);if(y===void 0||y.count!==v){y!==void 0&&y.texture.dispose();const f=u.morphAttributes.normal!==void 0,b=u.morphAttributes.position,w=u.morphAttributes.normal||[],T=u.attributes.position.count,E=f===!0?2:1;let _=T*E,C=1;_>e.maxTextureSize&&(C=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const A=new Float32Array(_*C*4*v),P=new Qf(A,_,C,v);P.format=pn,P.type=rr;const R=E*4;for(let G=0;G<v;G++){const I=b[G],j=w[G],z=_*C*4*G;for(let U=0;U<I.count;U++){a.fromBufferAttribute(I,U),I.normalized===!0&&ET(a,I);const W=U*R;A[z+W+0]=a.x,A[z+W+1]=a.y,A[z+W+2]=a.z,A[z+W+3]=0,f===!0&&(a.fromBufferAttribute(j,U),j.normalized===!0&&ET(a,j),A[z+W+4]=a.x,A[z+W+5]=a.y,A[z+W+6]=a.z,A[z+W+7]=0)}}y={count:v,texture:P,size:new de(_,C)},s.set(u,y)}let x=0;for(let f=0;f<m.length;f++)x+=m[f];const g=u.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",g),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const v=m===void 0?0:m.length;let y=i[u.id];if(y===void 0||y.length!==v){y=[];for(let w=0;w<v;w++)y[w]=[w,0];i[u.id]=y}for(let w=0;w<v;w++){const T=y[w];T[0]=w,T[1]=m[w]}y.sort(w9);for(let w=0;w<8;w++)w<v&&y[w][1]?(o[w][0]=y[w][0],o[w][1]=y[w][1]):(o[w][0]=Number.MAX_SAFE_INTEGER,o[w][1]=0);o.sort(b9);const x=u.morphAttributes.position,g=u.morphAttributes.normal;let f=0;for(let w=0;w<8;w++){const T=o[w],E=T[0],_=T[1];E!==Number.MAX_SAFE_INTEGER&&_?(x&&u.getAttribute("morphTarget"+w)!==x[E]&&u.setAttribute("morphTarget"+w,x[E]),g&&u.getAttribute("morphNormal"+w)!==g[E]&&u.setAttribute("morphNormal"+w,g[E]),r[w]=_,f+=_):(x&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),g&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),r[w]=0)}const b=u.morphTargetsRelative?1:1-f;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function _9(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,h=e.get(l,u);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}class E0 extends Xt{constructor(e=null,t=1,i=1,r=1){super(null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=Gt,this.minFilter=Gt,this.wrapR=un,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}E0.prototype.isDataTexture3D=!0;const KL=new Xt,T9=new Qf,E9=new E0,XL=new Dc,CT=[],MT=[],kT=new Float32Array(16),AT=new Float32Array(9),PT=new Float32Array(4);function Fc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=CT[r];if(s===void 0&&(s=new Float32Array(r),CT[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Rn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function En(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function JL(n,e){let t=MT[e];t===void 0&&(t=new Int32Array(e),MT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function C9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function M9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Rn(t,e))return;n.uniform2fv(this.addr,e),En(t,e)}}function k9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Rn(t,e))return;n.uniform3fv(this.addr,e),En(t,e)}}function A9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Rn(t,e))return;n.uniform4fv(this.addr,e),En(t,e)}}function P9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Rn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),En(t,e)}else{if(Rn(t,i))return;PT.set(i),n.uniformMatrix2fv(this.addr,!1,PT),En(t,i)}}function R9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Rn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),En(t,e)}else{if(Rn(t,i))return;AT.set(i),n.uniformMatrix3fv(this.addr,!1,AT),En(t,i)}}function L9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Rn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),En(t,e)}else{if(Rn(t,i))return;kT.set(i),n.uniformMatrix4fv(this.addr,!1,kT),En(t,i)}}function N9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function I9(n,e){const t=this.cache;Rn(t,e)||(n.uniform2iv(this.addr,e),En(t,e))}function j9(n,e){const t=this.cache;Rn(t,e)||(n.uniform3iv(this.addr,e),En(t,e))}function D9(n,e){const t=this.cache;Rn(t,e)||(n.uniform4iv(this.addr,e),En(t,e))}function O9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function F9(n,e){const t=this.cache;Rn(t,e)||(n.uniform2uiv(this.addr,e),En(t,e))}function B9(n,e){const t=this.cache;Rn(t,e)||(n.uniform3uiv(this.addr,e),En(t,e))}function z9(n,e){const t=this.cache;Rn(t,e)||(n.uniform4uiv(this.addr,e),En(t,e))}function U9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTexture2D(e||KL,r)}function G9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||E9,r)}function H9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTextureCube(e||XL,r)}function V9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||T9,r)}function W9(n){switch(n){case 5126:return C9;case 35664:return M9;case 35665:return k9;case 35666:return A9;case 35674:return P9;case 35675:return R9;case 35676:return L9;case 5124:case 35670:return N9;case 35667:case 35671:return I9;case 35668:case 35672:return j9;case 35669:case 35673:return D9;case 5125:return O9;case 36294:return F9;case 36295:return B9;case 36296:return z9;case 35678:case 36198:case 36298:case 36306:case 35682:return U9;case 35679:case 36299:case 36307:return G9;case 35680:case 36300:case 36308:case 36293:return H9;case 36289:case 36303:case 36311:case 36292:return V9}}function $9(n,e){n.uniform1fv(this.addr,e)}function q9(n,e){const t=Fc(e,this.size,2);n.uniform2fv(this.addr,t)}function Y9(n,e){const t=Fc(e,this.size,3);n.uniform3fv(this.addr,t)}function K9(n,e){const t=Fc(e,this.size,4);n.uniform4fv(this.addr,t)}function X9(n,e){const t=Fc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function J9(n,e){const t=Fc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Q9(n,e){const t=Fc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Z9(n,e){n.uniform1iv(this.addr,e)}function e7(n,e){n.uniform2iv(this.addr,e)}function t7(n,e){n.uniform3iv(this.addr,e)}function n7(n,e){n.uniform4iv(this.addr,e)}function i7(n,e){n.uniform1uiv(this.addr,e)}function r7(n,e){n.uniform2uiv(this.addr,e)}function s7(n,e){n.uniform3uiv(this.addr,e)}function a7(n,e){n.uniform4uiv(this.addr,e)}function o7(n,e,t){const i=e.length,r=JL(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTexture2D(e[s]||KL,r[s])}function l7(n,e,t){const i=e.length,r=JL(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTextureCube(e[s]||XL,r[s])}function c7(n){switch(n){case 5126:return $9;case 35664:return q9;case 35665:return Y9;case 35666:return K9;case 35674:return X9;case 35675:return J9;case 35676:return Q9;case 5124:case 35670:return Z9;case 35667:case 35671:return e7;case 35668:case 35672:return t7;case 35669:case 35673:return n7;case 5125:return i7;case 36294:return r7;case 36295:return s7;case 36296:return a7;case 35678:case 36198:case 36298:case 36306:case 35682:return o7;case 35680:case 36300:case 36308:case 36293:return l7}}function d7(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=W9(e.type)}function QL(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=c7(e.type)}QL.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),En(e,n)};function ZL(n){this.id=n,this.seq=[],this.map={}}ZL.prototype.setValue=function(n,e,t){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const a=i[r];a.setValue(n,e[a.id],t)}};const fv=/(\w+)(\])?(\[|\.)?/g;function RT(n,e){n.seq.push(e),n.map[e.id]=e}function u7(n,e,t){const i=n.name,r=i.length;for(fv.lastIndex=0;;){const s=fv.exec(i),a=fv.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){RT(t,c===void 0?new d7(o,n,e):new QL(o,n,e));break}else{let h=t.map[o];h===void 0&&(h=new ZL(o),RT(t,h)),t=h}}}function zs(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let i=0;i<t;++i){const r=n.getActiveUniform(e,i),s=n.getUniformLocation(e,r.name);u7(r,s,this)}}zs.prototype.setValue=function(n,e,t,i){const r=this.map[e];r!==void 0&&r.setValue(n,t,i)};zs.prototype.setOptional=function(n,e,t){const i=e[t];i!==void 0&&this.setValue(n,t,i)};zs.upload=function(n,e,t,i){for(let r=0,s=e.length;r!==s;++r){const a=e[r],o=t[a.id];o.needsUpdate!==!1&&a.setValue(n,o.value,i)}};zs.seqWithValue=function(n,e){const t=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in e&&t.push(s)}return t};function LT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let h7=0;function p7(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function eN(n){switch(n){case gn:return["Linear","( value )"];case sa:return["sRGB","( value )"];case $f:return["RGBE","( value )"];case y0:return["RGBM","( value, 7.0 )"];case v0:return["RGBM","( value, 16.0 )"];case x0:return["RGBD","( value, 256.0 )"];case Wf:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case ML:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function NT(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();return i&&r===""?"":t.toUpperCase()+`

`+r+`

`+p7(n.getShaderSource(e))}function ya(n,e){const t=eN(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function m7(n,e){const t=eN(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function f7(n,e){let t;switch(e){case C2:t="Linear";break;case M2:t="Reinhard";break;case k2:t="OptimizedCineon";break;case A2:t="ACESFilmic";break;case P2:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function g7(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(yd).join(`
`)}function y7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function v7(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===35674&&(o=2),s.type===35675&&(o=3),s.type===35676&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function yd(n){return n!==""}function IT(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const x7=/^[ \t]*#include +<([\w\d./]+)>/gm;function _b(n){return n.replace(x7,b7)}function b7(n,e){const t=$e[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return _b(t)}const w7=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,S7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DT(n){return n.replace(S7,tN).replace(w7,_7)}function _7(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),tN(n,e,t,i)}function tN(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function OT(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function T7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===u0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===r2?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ml&&(e="SHADOWMAP_TYPE_VSM"),e}function E7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case _o:case To:e="ENVMAP_TYPE_CUBE";break;case jc:case Hu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function C7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case To:case Hu:e="ENVMAP_MODE_REFRACTION";break}return e}function M7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Gu:e="ENVMAP_BLENDING_MULTIPLY";break;case T2:e="ENVMAP_BLENDING_MIX";break;case E2:e="ENVMAP_BLENDING_ADD";break}return e}function k7(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=T7(t),c=E7(t),u=C7(t),h=M7(t),p=n.gammaFactor>0?n.gammaFactor:1,m=t.isWebGL2?"":g7(t),v=y7(s),y=r.createProgram();let x,g,f=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(yd).join(`
`),x.length>0&&(x+=`
`),g=[m,v].filter(yd).join(`
`),g.length>0&&(g+=`
`)):(x=[OT(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(yd).join(`
`),g=[m,OT(t),"#define SHADER_NAME "+t.shaderName,v,"#define GAMMA_FACTOR "+p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Fs?"#define TONE_MAPPING":"",t.toneMapping!==Fs?$e.tonemapping_pars_fragment:"",t.toneMapping!==Fs?f7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Ka?"#define OPAQUE":"",$e.encodings_pars_fragment,t.map?ya("mapTexelToLinear",t.mapEncoding):"",t.matcap?ya("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?ya("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?ya("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?ya("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?ya("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?ya("lightMapTexelToLinear",t.lightMapEncoding):"",m7("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(yd).join(`
`)),a=_b(a),a=IT(a,t),a=jT(a,t),o=_b(o),o=IT(o,t),o=jT(o,t),a=DT(a),o=DT(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(f=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===wb?"":"out highp vec4 pc_fragColor;",t.glslVersion===wb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=f+x+a,w=f+g+o,T=LT(r,35633,b),E=LT(r,35632,w);if(r.attachShader(y,T),r.attachShader(y,E),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),n.debug.checkShaderErrors){const A=r.getProgramInfoLog(y).trim(),P=r.getShaderInfoLog(T).trim(),R=r.getShaderInfoLog(E).trim();let G=!0,I=!0;if(r.getProgramParameter(y,35714)===!1){G=!1;const j=NT(r,T,"vertex"),z=NT(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+A+`
`+j+`
`+z)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(P===""||R==="")&&(I=!1);I&&(this.diagnostics={runnable:G,programLog:A,vertexShader:{log:P,prefix:x},fragmentShader:{log:R,prefix:g}})}r.deleteShader(T),r.deleteShader(E);let _;this.getUniforms=function(){return _===void 0&&(_=new zs(r,y)),_};let C;return this.getAttributes=function(){return C===void 0&&(C=v7(r,y)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=h7++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=E,this}function A7(n,e,t,i,r,s,a){const o=[],l=r.isWebGL2,c=r.logarithmicDepthBuffer,u=r.floatVertexTextures,h=r.maxVertexUniforms,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},y=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function x(_){const A=_.skeleton.bones;if(u)return 1024;{const R=Math.floor((h-20)/4),G=Math.min(R,A.length);return G<A.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+A.length+" bones. This GPU supports "+G+"."),0):G}}function g(_){let C;return _&&_.isTexture?C=_.encoding:_&&_.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=_.texture.encoding):C=gn,l&&_&&_.isTexture&&_.format===pn&&_.type===Vr&&_.encoding===sa&&(C=gn),C}function f(_,C,A,P,R){const G=P.fog,I=_.isMeshStandardMaterial?P.environment:null,j=(_.isMeshStandardMaterial?t:e).get(_.envMap||I),z=v[_.type],U=R.isSkinnedMesh?x(R):0;_.precision!==null&&(m=r.getMaxPrecision(_.precision),m!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",m,"instead."));let W,V;if(z){const Y=Fi[z];W=Y.vertexShader,V=Y.fragmentShader}else W=_.vertexShader,V=_.fragmentShader;const M=n.getRenderTarget(),q=_.alphaTest>0,X=_.clearcoat>0;return{isWebGL2:l,shaderID:z,shaderName:_.type,vertexShader:W,fragmentShader:V,defines:_.defines,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:m,instancing:R.isInstancedMesh===!0,instancingColor:R.isInstancedMesh===!0&&R.instanceColor!==null,supportsVertexTextures:p,outputEncoding:M!==null?g(M.texture):n.outputEncoding,map:!!_.map,mapEncoding:g(_.map),matcap:!!_.matcap,matcapEncoding:g(_.matcap),envMap:!!j,envMapMode:j&&j.mapping,envMapEncoding:g(j),envMapCubeUV:!!j&&(j.mapping===jc||j.mapping===Hu),lightMap:!!_.lightMap,lightMapEncoding:g(_.lightMap),aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,emissiveMapEncoding:g(_.emissiveMap),bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,objectSpaceNormalMap:_.normalMapType===PL,tangentSpaceNormalMap:_.normalMapType===Co,clearcoat:X,clearcoatMap:X&&!!_.clearcoatMap,clearcoatRoughnessMap:X&&!!_.clearcoatRoughnessMap,clearcoatNormalMap:X&&!!_.clearcoatNormalMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,specularIntensityMap:!!_.specularIntensityMap,specularColorMap:!!_.specularColorMap,specularColorMapEncoding:g(_.specularColorMap),alphaMap:!!_.alphaMap,alphaTest:q,gradientMap:!!_.gradientMap,sheen:_.sheen>0,sheenColorMap:!!_.sheenColorMap,sheenColorMapEncoding:g(_.sheenColorMap),sheenRoughnessMap:!!_.sheenRoughnessMap,transmission:_.transmission>0,transmissionMap:!!_.transmissionMap,thicknessMap:!!_.thicknessMap,combine:_.combine,vertexTangents:!!_.normalMap&&!!R.geometry&&!!R.geometry.attributes.tangent,vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!R.geometry&&!!R.geometry.attributes.color&&R.geometry.attributes.color.itemSize===4,vertexUvs:!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatMap||!!_.clearcoatRoughnessMap||!!_.clearcoatNormalMap||!!_.displacementMap||!!_.transmissionMap||!!_.thicknessMap||!!_.specularIntensityMap||!!_.specularColorMap||!!_.sheenColorMap||_.sheenRoughnessMap,uvsVertexOnly:!(_.map||_.bumpMap||_.normalMap||_.specularMap||_.alphaMap||_.emissiveMap||_.roughnessMap||_.metalnessMap||_.clearcoatNormalMap||_.transmission>0||_.transmissionMap||_.thicknessMap||_.specularIntensityMap||_.specularColorMap||!!_.sheen>0||_.sheenColorMap||_.sheenRoughnessMap)&&!!_.displacementMap,fog:!!G,useFog:_.fog,fogExp2:G&&G.isFogExp2,flatShading:!!_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:c,skinning:R.isSkinnedMesh===!0&&U>0,maxBones:U,useVertexTexture:u,morphTargets:!!R.geometry&&!!R.geometry.morphAttributes.position,morphNormals:!!R.geometry&&!!R.geometry.morphAttributes.normal,morphTargetsCount:R.geometry&&R.geometry.morphAttributes.position?R.geometry.morphAttributes.position.length:0,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,format:_.format,dithering:_.dithering,shadowMapEnabled:n.shadowMap.enabled&&A.length>0,shadowMapType:n.shadowMap.type,toneMapping:_.toneMapped?n.toneMapping:Fs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===co,flipSided:_.side===jt,depthPacking:_.depthPacking!==void 0?_.depthPacking:!1,index0AttributeName:_.index0AttributeName,extensionDerivatives:_.extensions&&_.extensions.derivatives,extensionFragDepth:_.extensions&&_.extensions.fragDepth,extensionDrawBuffers:_.extensions&&_.extensions.drawBuffers,extensionShaderTextureLOD:_.extensions&&_.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:_.customProgramCacheKey()}}function b(_){const C=[];if(_.shaderID?C.push(_.shaderID):(C.push(oT(_.fragmentShader)),C.push(oT(_.vertexShader))),_.defines!==void 0)for(const A in _.defines)C.push(A),C.push(_.defines[A]);if(_.isRawShaderMaterial===!1){for(let A=0;A<y.length;A++)C.push(_[y[A]]);C.push(n.outputEncoding),C.push(n.gammaFactor)}return C.push(_.customProgramCacheKey),C.join()}function w(_){const C=v[_.type];let A;if(C){const P=Fi[C];A=VL.clone(P.uniforms)}else A=_.uniforms;return A}function T(_,C){let A;for(let P=0,R=o.length;P<R;P++){const G=o[P];if(G.cacheKey===C){A=G,++A.usedTimes;break}}return A===void 0&&(A=new k7(n,C,_,s),o.push(A)),A}function E(_){if(--_.usedTimes===0){const C=o.indexOf(_);o[C]=o[o.length-1],o.pop(),_.destroy()}}return{getParameters:f,getProgramCacheKey:b,getUniforms:w,acquireProgram:T,releaseProgram:E,programs:o}}function P7(){let n=new WeakMap;function e(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function t(s){n.delete(s)}function i(s,a,o){n.get(s)[a]=o}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function R7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function FT(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BT(n){const e=[];let t=0;const i=[],r=[],s=[],a={id:-1};function o(){t=0,i.length=0,r.length=0,s.length=0}function l(m,v,y,x,g,f){let b=e[t];const w=n.get(y);return b===void 0?(b={id:m.id,object:m,geometry:v,material:y,program:w.program||a,groupOrder:x,renderOrder:m.renderOrder,z:g,group:f},e[t]=b):(b.id=m.id,b.object=m,b.geometry=v,b.material=y,b.program=w.program||a,b.groupOrder=x,b.renderOrder=m.renderOrder,b.z=g,b.group=f),t++,b}function c(m,v,y,x,g,f){const b=l(m,v,y,x,g,f);y.transmission>0?r.push(b):y.transparent===!0?s.push(b):i.push(b)}function u(m,v,y,x,g,f){const b=l(m,v,y,x,g,f);y.transmission>0?r.unshift(b):y.transparent===!0?s.unshift(b):i.unshift(b)}function h(m,v){i.length>1&&i.sort(m||R7),r.length>1&&r.sort(v||FT),s.length>1&&s.sort(v||FT)}function p(){for(let m=t,v=e.length;m<v;m++){const y=e[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.program=null,y.group=null}}return{opaque:i,transmissive:r,transparent:s,init:o,push:c,unshift:u,finish:p,sort:h}}function L7(n){let e=new WeakMap;function t(r,s){let a;return e.has(r)===!1?(a=new BT(n),e.set(r,[a])):s>=e.get(r).length?(a=new BT(n),e.get(r).push(a)):a=e.get(r)[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}function N7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new L,color:new be};break;case"SpotLight":t={position:new L,direction:new L,color:new be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new L,color:new be,distance:0,decay:0};break;case"HemisphereLight":t={direction:new L,skyColor:new be,groundColor:new be};break;case"RectAreaLight":t={color:new be,position:new L,halfWidth:new L,halfHeight:new L};break}return n[e.id]=t,t}}}function I7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let j7=0;function D7(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function O7(n,e){const t=new N7,i=I7(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new L);const s=new L,a=new Re,o=new Re;function l(u,h){let p=0,m=0,v=0;for(let A=0;A<9;A++)r.probe[A].set(0,0,0);let y=0,x=0,g=0,f=0,b=0,w=0,T=0,E=0;u.sort(D7);const _=h!==!0?Math.PI:1;for(let A=0,P=u.length;A<P;A++){const R=u[A],G=R.color,I=R.intensity,j=R.distance,z=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)p+=G.r*I*_,m+=G.g*I*_,v+=G.b*I*_;else if(R.isLightProbe)for(let U=0;U<9;U++)r.probe[U].addScaledVector(R.sh.coefficients[U],I);else if(R.isDirectionalLight){const U=t.get(R);if(U.color.copy(R.color).multiplyScalar(R.intensity*_),R.castShadow){const W=R.shadow,V=i.get(R);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,r.directionalShadow[y]=V,r.directionalShadowMap[y]=z,r.directionalShadowMatrix[y]=R.shadow.matrix,w++}r.directional[y]=U,y++}else if(R.isSpotLight){const U=t.get(R);if(U.position.setFromMatrixPosition(R.matrixWorld),U.color.copy(G).multiplyScalar(I*_),U.distance=j,U.coneCos=Math.cos(R.angle),U.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),U.decay=R.decay,R.castShadow){const W=R.shadow,V=i.get(R);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,r.spotShadow[g]=V,r.spotShadowMap[g]=z,r.spotShadowMatrix[g]=R.shadow.matrix,E++}r.spot[g]=U,g++}else if(R.isRectAreaLight){const U=t.get(R);U.color.copy(G).multiplyScalar(I),U.halfWidth.set(R.width*.5,0,0),U.halfHeight.set(0,R.height*.5,0),r.rectArea[f]=U,f++}else if(R.isPointLight){const U=t.get(R);if(U.color.copy(R.color).multiplyScalar(R.intensity*_),U.distance=R.distance,U.decay=R.decay,R.castShadow){const W=R.shadow,V=i.get(R);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,V.shadowCameraNear=W.camera.near,V.shadowCameraFar=W.camera.far,r.pointShadow[x]=V,r.pointShadowMap[x]=z,r.pointShadowMatrix[x]=R.shadow.matrix,T++}r.point[x]=U,x++}else if(R.isHemisphereLight){const U=t.get(R);U.skyColor.copy(R.color).multiplyScalar(I*_),U.groundColor.copy(R.groundColor).multiplyScalar(I*_),r.hemi[b]=U,b++}}f>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ve.LTC_FLOAT_1,r.rectAreaLTC2=ve.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ve.LTC_HALF_1,r.rectAreaLTC2=ve.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const C=r.hash;(C.directionalLength!==y||C.pointLength!==x||C.spotLength!==g||C.rectAreaLength!==f||C.hemiLength!==b||C.numDirectionalShadows!==w||C.numPointShadows!==T||C.numSpotShadows!==E)&&(r.directional.length=y,r.spot.length=g,r.rectArea.length=f,r.point.length=x,r.hemi.length=b,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=T,r.spotShadowMatrix.length=E,C.directionalLength=y,C.pointLength=x,C.spotLength=g,C.rectAreaLength=f,C.hemiLength=b,C.numDirectionalShadows=w,C.numPointShadows=T,C.numSpotShadows=E,r.version=j7++)}function c(u,h){let p=0,m=0,v=0,y=0,x=0;const g=h.matrixWorldInverse;for(let f=0,b=u.length;f<b;f++){const w=u[f];if(w.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(w.isSpotLight){const T=r.spot[v];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(w.isRectAreaLight){const T=r.rectArea[y];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(g),o.identity(),a.copy(w.matrixWorld),a.premultiply(g),o.extractRotation(a),T.halfWidth.set(w.width*.5,0,0),T.halfHeight.set(0,w.height*.5,0),T.halfWidth.applyMatrix4(o),T.halfHeight.applyMatrix4(o),y++}else if(w.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(g),m++}else if(w.isHemisphereLight){const T=r.hemi[x];T.direction.setFromMatrixPosition(w.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),x++}}}return{setup:l,setupView:c,state:r}}function zT(n,e){const t=new O7(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function a(h){i.push(h)}function o(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function F7(n,e){let t=new WeakMap;function i(s,a=0){let o;return t.has(s)===!1?(o=new zT(n,e),t.set(s,[o])):a>=t.get(s).length?(o=new zT(n,e),t.get(s).push(o)):o=t.get(s)[a],o}function r(){t=new WeakMap}return{get:i,dispose:r}}class Zf extends rn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=kL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Zf.prototype.isMeshDepthMaterial=!0;class eg extends rn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new L,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}eg.prototype.isMeshDistanceMaterial=!0;const B7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,z7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nN(n,e,t){let i=new Wu;const r=new de,s=new de,a=new ot,o=new Zf({depthPacking:AL}),l=new eg,c={},u=t.maxTextureSize,h={0:jt,1:lo,2:co},p=new $r({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new de},radius:{value:4}},vertexShader:B7,fragmentShader:z7}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new je;v.setAttribute("position",new Qe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Ht(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=u0,this.render=function(w,T,E){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||w.length===0)return;const _=n.getRenderTarget(),C=n.getActiveCubeFace(),A=n.getActiveMipmapLevel(),P=n.state;P.setBlending(Dr),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let R=0,G=w.length;R<G;R++){const I=w[R],j=I.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const z=j.getFrameExtents();if(r.multiply(z),s.copy(j.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/z.x),r.x=s.x*z.x,j.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/z.y),r.y=s.y*z.y,j.mapSize.y=s.y)),j.map===null&&!j.isPointLightShadow&&this.type===Ml){const W={minFilter:Yt,magFilter:Yt,format:pn};j.map=new Ui(r.x,r.y,W),j.map.texture.name=I.name+".shadowMap",j.mapPass=new Ui(r.x,r.y,W),j.camera.updateProjectionMatrix()}if(j.map===null){const W={minFilter:Gt,magFilter:Gt,format:pn};j.map=new Ui(r.x,r.y,W),j.map.texture.name=I.name+".shadowMap",j.camera.updateProjectionMatrix()}n.setRenderTarget(j.map),n.clear();const U=j.getViewportCount();for(let W=0;W<U;W++){const V=j.getViewport(W);a.set(s.x*V.x,s.y*V.y,s.x*V.z,s.y*V.w),P.viewport(a),j.updateMatrices(I,W),i=j.getFrustum(),b(T,E,j.camera,I,this.type)}!j.isPointLightShadow&&this.type===Ml&&g(j,E),j.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(_,C,A)};function g(w,T){const E=e.update(y);p.defines.VSM_SAMPLES!==w.blurSamples&&(p.defines.VSM_SAMPLES=w.blurSamples,m.defines.VSM_SAMPLES=w.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),p.uniforms.shadow_pass.value=w.map.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(T,null,E,p,y,null),m.uniforms.shadow_pass.value=w.mapPass.texture,m.uniforms.resolution.value=w.mapSize,m.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(T,null,E,m,y,null)}function f(w,T,E,_,C,A,P){let R=null;const G=_.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(G!==void 0?R=G:R=_.isPointLight===!0?l:o,n.localClippingEnabled&&E.clipShadows===!0&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0){const I=R.uuid,j=E.uuid;let z=c[I];z===void 0&&(z={},c[I]=z);let U=z[j];U===void 0&&(U=R.clone(),z[j]=U),R=U}return R.visible=E.visible,R.wireframe=E.wireframe,P===Ml?R.side=E.shadowSide!==null?E.shadowSide:E.side:R.side=E.shadowSide!==null?E.shadowSide:h[E.side],R.alphaMap=E.alphaMap,R.alphaTest=E.alphaTest,R.clipShadows=E.clipShadows,R.clippingPlanes=E.clippingPlanes,R.clipIntersection=E.clipIntersection,R.displacementMap=E.displacementMap,R.displacementScale=E.displacementScale,R.displacementBias=E.displacementBias,R.wireframeLinewidth=E.wireframeLinewidth,R.linewidth=E.linewidth,_.isPointLight===!0&&R.isMeshDistanceMaterial===!0&&(R.referencePosition.setFromMatrixPosition(_.matrixWorld),R.nearDistance=C,R.farDistance=A),R}function b(w,T,E,_,C){if(w.visible===!1)return;if(w.layers.test(T.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&C===Ml)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,w.matrixWorld);const R=e.update(w),G=w.material;if(Array.isArray(G)){const I=R.groups;for(let j=0,z=I.length;j<z;j++){const U=I[j],W=G[U.materialIndex];if(W&&W.visible){const V=f(w,R,W,_,E.near,E.far,C);n.renderBufferDirect(E,null,R,V,w,U)}}}else if(G.visible){const I=f(w,R,G,_,E.near,E.far,C);n.renderBufferDirect(E,null,R,I,w,null)}}const P=w.children;for(let R=0,G=P.length;R<G;R++)b(P[R],T,E,_,C)}}function U7(n,e,t){const i=t.isWebGL2;function r(){let $=!1;const xe=new ot;let ue=null;const Ce=new ot(0,0,0,0);return{setMask:function(ke){ue!==ke&&!$&&(n.colorMask(ke,ke,ke,ke),ue=ke)},setLocked:function(ke){$=ke},setClear:function(ke,We,Bt,St,vi){vi===!0&&(ke*=St,We*=St,Bt*=St),xe.set(ke,We,Bt,St),Ce.equals(xe)===!1&&(n.clearColor(ke,We,Bt,St),Ce.copy(xe))},reset:function(){$=!1,ue=null,Ce.set(-1,0,0,0)}}}function s(){let $=!1,xe=null,ue=null,Ce=null;return{setTest:function(ke){ke?H(2929):k(2929)},setMask:function(ke){xe!==ke&&!$&&(n.depthMask(ke),xe=ke)},setFunc:function(ke){if(ue!==ke){if(ke)switch(ke){case y2:n.depthFunc(512);break;case v2:n.depthFunc(519);break;case x2:n.depthFunc(513);break;case Xm:n.depthFunc(515);break;case b2:n.depthFunc(514);break;case w2:n.depthFunc(518);break;case S2:n.depthFunc(516);break;case _2:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ue=ke}},setLocked:function(ke){$=ke},setClear:function(ke){Ce!==ke&&(n.clearDepth(ke),Ce=ke)},reset:function(){$=!1,xe=null,ue=null,Ce=null}}}function a(){let $=!1,xe=null,ue=null,Ce=null,ke=null,We=null,Bt=null,St=null,vi=null;return{setTest:function(dt){$||(dt?H(2960):k(2960))},setMask:function(dt){xe!==dt&&!$&&(n.stencilMask(dt),xe=dt)},setFunc:function(dt,xi,Vn){(ue!==dt||Ce!==xi||ke!==Vn)&&(n.stencilFunc(dt,xi,Vn),ue=dt,Ce=xi,ke=Vn)},setOp:function(dt,xi,Vn){(We!==dt||Bt!==xi||St!==Vn)&&(n.stencilOp(dt,xi,Vn),We=dt,Bt=xi,St=Vn)},setLocked:function(dt){$=dt},setClear:function(dt){vi!==dt&&(n.clearStencil(dt),vi=dt)},reset:function(){$=!1,xe=null,ue=null,Ce=null,ke=null,We=null,Bt=null,St=null,vi=null}}}const o=new r,l=new s,c=new a;let u={},h=null,p={},m=null,v=!1,y=null,x=null,g=null,f=null,b=null,w=null,T=null,E=!1,_=null,C=null,A=null,P=null,R=null;const G=n.getParameter(35661);let I=!1,j=0;const z=n.getParameter(7938);z.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(z)[1]),I=j>=1):z.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),I=j>=2);let U=null,W={};const V=n.getParameter(3088),M=n.getParameter(2978),q=new ot().fromArray(V),X=new ot().fromArray(M);function ne($,xe,ue){const Ce=new Uint8Array(4),ke=n.createTexture();n.bindTexture($,ke),n.texParameteri($,10241,9728),n.texParameteri($,10240,9728);for(let We=0;We<ue;We++)n.texImage2D(xe+We,0,6408,1,1,0,6408,5121,Ce);return ke}const Y={};Y[3553]=ne(3553,3553,1),Y[34067]=ne(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),H(2929),l.setFunc(Xm),te(!1),re(sb),H(2884),ce(Dr);function H($){u[$]!==!0&&(n.enable($),u[$]=!0)}function k($){u[$]!==!1&&(n.disable($),u[$]=!1)}function O($){$!==h&&(n.bindFramebuffer(36160,$),h=$)}function D($,xe){return xe===null&&h!==null&&(xe=h),p[$]!==xe?(n.bindFramebuffer($,xe),p[$]=xe,i&&($===36009&&(p[36160]=xe),$===36160&&(p[36009]=xe)),!0):!1}function Q($){return m!==$?(n.useProgram($),m=$,!0):!1}const ae={[ka]:32774,[a2]:32778,[o2]:32779};if(i)ae[cb]=32775,ae[db]=32776;else{const $=e.get("EXT_blend_minmax");$!==null&&(ae[cb]=$.MIN_EXT,ae[db]=$.MAX_EXT)}const le={[l2]:0,[c2]:1,[d2]:768,[p0]:770,[g2]:776,[m2]:774,[h2]:772,[u2]:769,[m0]:771,[f2]:775,[p2]:773};function ce($,xe,ue,Ce,ke,We,Bt,St){if($===Dr){v===!0&&(k(3042),v=!1);return}if(v===!1&&(H(3042),v=!0),$!==s2){if($!==y||St!==E){if((x!==ka||b!==ka)&&(n.blendEquation(32774),x=ka,b=ka),St)switch($){case Gl:n.blendFuncSeparate(1,771,1,771);break;case ab:n.blendFunc(1,1);break;case ob:n.blendFuncSeparate(0,0,769,771);break;case lb:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Gl:n.blendFuncSeparate(770,771,1,771);break;case ab:n.blendFunc(770,1);break;case ob:n.blendFunc(0,769);break;case lb:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}g=null,f=null,w=null,T=null,y=$,E=St}return}ke=ke||xe,We=We||ue,Bt=Bt||Ce,(xe!==x||ke!==b)&&(n.blendEquationSeparate(ae[xe],ae[ke]),x=xe,b=ke),(ue!==g||Ce!==f||We!==w||Bt!==T)&&(n.blendFuncSeparate(le[ue],le[Ce],le[We],le[Bt]),g=ue,f=Ce,w=We,T=Bt),y=$,E=null}function K($,xe){$.side===co?k(2884):H(2884);let ue=$.side===jt;xe&&(ue=!ue),te(ue),$.blending===Gl&&$.transparent===!1?ce(Dr):ce($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),l.setFunc($.depthFunc),l.setTest($.depthTest),l.setMask($.depthWrite),o.setMask($.colorWrite);const Ce=$.stencilWrite;c.setTest(Ce),Ce&&(c.setMask($.stencilWriteMask),c.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),c.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),ge($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?H(32926):k(32926)}function te($){_!==$&&($?n.frontFace(2304):n.frontFace(2305),_=$)}function re($){$!==n2?(H(2884),$!==C&&($===sb?n.cullFace(1029):$===i2?n.cullFace(1028):n.cullFace(1032))):k(2884),C=$}function we($){$!==A&&(I&&n.lineWidth($),A=$)}function ge($,xe,ue){$?(H(32823),(P!==xe||R!==ue)&&(n.polygonOffset(xe,ue),P=xe,R=ue)):k(32823)}function B($){$?H(3089):k(3089)}function N($){$===void 0&&($=33984+G-1),U!==$&&(n.activeTexture($),U=$)}function Z($,xe){U===null&&N();let ue=W[U];ue===void 0&&(ue={type:void 0,texture:void 0},W[U]=ue),(ue.type!==$||ue.texture!==xe)&&(n.bindTexture($,xe||Y[$]),ue.type=$,ue.texture=xe)}function ie(){const $=W[U];$!==void 0&&$.type!==void 0&&(n.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function me(){try{n.compressedTexImage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Se(){try{n.texImage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Le(){try{n.texImage3D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ne($){q.equals($)===!1&&(n.scissor($.x,$.y,$.z,$.w),q.copy($))}function Be($){X.equals($)===!1&&(n.viewport($.x,$.y,$.z,$.w),X.copy($))}function _e(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},U=null,W={},h=null,p={},m=null,v=!1,y=null,x=null,g=null,f=null,b=null,w=null,T=null,E=!1,_=null,C=null,A=null,P=null,R=null,q.set(0,0,n.canvas.width,n.canvas.height),X.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:H,disable:k,bindFramebuffer:D,bindXRFramebuffer:O,useProgram:Q,setBlending:ce,setMaterial:K,setFlipSided:te,setCullFace:re,setLineWidth:we,setPolygonOffset:ge,setScissorTest:B,activeTexture:N,bindTexture:Z,unbindTexture:ie,compressedTexImage2D:me,texImage2D:Se,texImage3D:Le,scissor:Ne,viewport:Be,reset:_e}}function G7(n,e,t,i,r,s,a){const o=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,p=new WeakMap;let m,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(B,N){return v?new OffscreenCanvas(B,N):qf("canvas")}function x(B,N,Z,ie){let me=1;if((B.width>ie||B.height>ie)&&(me=ie/Math.max(B.width,B.height)),me<1||N===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const Se=N?NL:Math.floor,Le=Se(me*B.width),Ne=Se(me*B.height);m===void 0&&(m=y(Le,Ne));const Be=Z?y(Le,Ne):m;return Be.width=Le,Be.height=Ne,Be.getContext("2d").drawImage(B,0,0,Le,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+Le+"x"+Ne+")."),Be}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function g(B){return Sb(B.width)&&Sb(B.height)}function f(B){return o?!1:B.wrapS!==un||B.wrapT!==un||B.minFilter!==Gt&&B.minFilter!==Yt}function b(B,N){return B.generateMipmaps&&N&&B.minFilter!==Gt&&B.minFilter!==Yt}function w(B,N,Z,ie,me=1){n.generateMipmap(B);const Se=i.get(N);Se.__maxMipLevel=Math.log2(Math.max(Z,ie,me))}function T(B,N,Z,ie){if(o===!1)return N;if(B!==null){if(n[B]!==void 0)return n[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let me=N;return N===6403&&(Z===5126&&(me=33326),Z===5131&&(me=33325),Z===5121&&(me=33321)),N===6407&&(Z===5126&&(me=34837),Z===5131&&(me=34843),Z===5121&&(me=32849)),N===6408&&(Z===5126&&(me=34836),Z===5131&&(me=34842),Z===5121&&(me=ie===sa?35907:32856)),(me===33325||me===33326||me===34842||me===34836)&&e.get("EXT_color_buffer_float"),me}function E(B){return B===Gt||B===Jm||B===Qm?9728:9729}function _(B){const N=B.target;N.removeEventListener("dispose",_),A(N),N.isVideoTexture&&p.delete(N),a.memory.textures--}function C(B){const N=B.target;N.removeEventListener("dispose",C),P(N)}function A(B){const N=i.get(B);N.__webglInit!==void 0&&(n.deleteTexture(N.__webglTexture),i.remove(B))}function P(B){const N=B.texture,Z=i.get(B),ie=i.get(N);if(B){if(ie.__webglTexture!==void 0&&(n.deleteTexture(ie.__webglTexture),a.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let me=0;me<6;me++)n.deleteFramebuffer(Z.__webglFramebuffer[me]),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[me]);else n.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer),Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer);if(B.isWebGLMultipleRenderTargets)for(let me=0,Se=N.length;me<Se;me++){const Le=i.get(N[me]);Le.__webglTexture&&(n.deleteTexture(Le.__webglTexture),a.memory.textures--),i.remove(N[me])}i.remove(N),i.remove(B)}}let R=0;function G(){R=0}function I(){const B=R;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),R+=1,B}function j(B,N){const Z=i.get(B);if(B.isVideoTexture&&K(B),B.version>0&&Z.__version!==B.version){const ie=B.image;if(ie===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ne(Z,B,N);return}}t.activeTexture(33984+N),t.bindTexture(3553,Z.__webglTexture)}function z(B,N){const Z=i.get(B);if(B.version>0&&Z.__version!==B.version){ne(Z,B,N);return}t.activeTexture(33984+N),t.bindTexture(35866,Z.__webglTexture)}function U(B,N){const Z=i.get(B);if(B.version>0&&Z.__version!==B.version){ne(Z,B,N);return}t.activeTexture(33984+N),t.bindTexture(32879,Z.__webglTexture)}function W(B,N){const Z=i.get(B);if(B.version>0&&Z.__version!==B.version){Y(Z,B,N);return}t.activeTexture(33984+N),t.bindTexture(34067,Z.__webglTexture)}const V={[pu]:10497,[un]:33071,[mu]:33648},M={[Gt]:9728,[Jm]:9984,[Qm]:9986,[Yt]:9729,[f0]:9985,[Eo]:9987};function q(B,N,Z){if(Z?(n.texParameteri(B,10242,V[N.wrapS]),n.texParameteri(B,10243,V[N.wrapT]),(B===32879||B===35866)&&n.texParameteri(B,32882,V[N.wrapR]),n.texParameteri(B,10240,M[N.magFilter]),n.texParameteri(B,10241,M[N.minFilter])):(n.texParameteri(B,10242,33071),n.texParameteri(B,10243,33071),(B===32879||B===35866)&&n.texParameteri(B,32882,33071),(N.wrapS!==un||N.wrapT!==un)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(B,10240,E(N.magFilter)),n.texParameteri(B,10241,E(N.minFilter)),N.minFilter!==Gt&&N.minFilter!==Yt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ie=e.get("EXT_texture_filter_anisotropic");if(N.type===rr&&e.has("OES_texture_float_linear")===!1||o===!1&&N.type===Ya&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||i.get(N).__currentAnisotropy)&&(n.texParameterf(B,ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy)}}function X(B,N){B.__webglInit===void 0&&(B.__webglInit=!0,N.addEventListener("dispose",_),B.__webglTexture=n.createTexture(),a.memory.textures++)}function ne(B,N,Z){let ie=3553;N.isDataTexture2DArray&&(ie=35866),N.isDataTexture3D&&(ie=32879),X(B,N),t.activeTexture(33984+Z),t.bindTexture(ie,B.__webglTexture),n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const me=f(N)&&g(N.image)===!1,Se=x(N.image,me,!1,u),Le=g(Se)||o,Ne=s.convert(N.format);let Be=s.convert(N.type),_e=T(N.internalFormat,Ne,Be,N.encoding);q(ie,N,Le);let $;const xe=N.mipmaps;if(N.isDepthTexture)_e=6402,o?N.type===rr?_e=36012:N.type===Pd?_e=33190:N.type===Hl?_e=35056:_e=33189:N.type===rr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Xa&&_e===6402&&N.type!==fu&&N.type!==Pd&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=fu,Be=s.convert(N.type)),N.format===uc&&_e===6402&&(_e=34041,N.type!==Hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=Hl,Be=s.convert(N.type))),t.texImage2D(3553,0,_e,Se.width,Se.height,0,Ne,Be,null);else if(N.isDataTexture)if(xe.length>0&&Le){for(let ue=0,Ce=xe.length;ue<Ce;ue++)$=xe[ue],t.texImage2D(3553,ue,_e,$.width,$.height,0,Ne,Be,$.data);N.generateMipmaps=!1,B.__maxMipLevel=xe.length-1}else t.texImage2D(3553,0,_e,Se.width,Se.height,0,Ne,Be,Se.data),B.__maxMipLevel=0;else if(N.isCompressedTexture){for(let ue=0,Ce=xe.length;ue<Ce;ue++)$=xe[ue],N.format!==pn&&N.format!==Ka?Ne!==null?t.compressedTexImage2D(3553,ue,_e,$.width,$.height,0,$.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,ue,_e,$.width,$.height,0,Ne,Be,$.data);B.__maxMipLevel=xe.length-1}else if(N.isDataTexture2DArray)t.texImage3D(35866,0,_e,Se.width,Se.height,Se.depth,0,Ne,Be,Se.data),B.__maxMipLevel=0;else if(N.isDataTexture3D)t.texImage3D(32879,0,_e,Se.width,Se.height,Se.depth,0,Ne,Be,Se.data),B.__maxMipLevel=0;else if(xe.length>0&&Le){for(let ue=0,Ce=xe.length;ue<Ce;ue++)$=xe[ue],t.texImage2D(3553,ue,_e,Ne,Be,$);N.generateMipmaps=!1,B.__maxMipLevel=xe.length-1}else t.texImage2D(3553,0,_e,Ne,Be,Se),B.__maxMipLevel=0;b(N,Le)&&w(ie,N,Se.width,Se.height),B.__version=N.version,N.onUpdate&&N.onUpdate(N)}function Y(B,N,Z){if(N.image.length!==6)return;X(B,N),t.activeTexture(33984+Z),t.bindTexture(34067,B.__webglTexture),n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const ie=N&&(N.isCompressedTexture||N.image[0].isCompressedTexture),me=N.image[0]&&N.image[0].isDataTexture,Se=[];for(let ue=0;ue<6;ue++)!ie&&!me?Se[ue]=x(N.image[ue],!1,!0,c):Se[ue]=me?N.image[ue].image:N.image[ue];const Le=Se[0],Ne=g(Le)||o,Be=s.convert(N.format),_e=s.convert(N.type),$=T(N.internalFormat,Be,_e,N.encoding);q(34067,N,Ne);let xe;if(ie){for(let ue=0;ue<6;ue++){xe=Se[ue].mipmaps;for(let Ce=0;Ce<xe.length;Ce++){const ke=xe[Ce];N.format!==pn&&N.format!==Ka?Be!==null?t.compressedTexImage2D(34069+ue,Ce,$,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+ue,Ce,$,ke.width,ke.height,0,Be,_e,ke.data)}}B.__maxMipLevel=xe.length-1}else{xe=N.mipmaps;for(let ue=0;ue<6;ue++)if(me){t.texImage2D(34069+ue,0,$,Se[ue].width,Se[ue].height,0,Be,_e,Se[ue].data);for(let Ce=0;Ce<xe.length;Ce++){const We=xe[Ce].image[ue].image;t.texImage2D(34069+ue,Ce+1,$,We.width,We.height,0,Be,_e,We.data)}}else{t.texImage2D(34069+ue,0,$,Be,_e,Se[ue]);for(let Ce=0;Ce<xe.length;Ce++){const ke=xe[Ce];t.texImage2D(34069+ue,Ce+1,$,Be,_e,ke.image[ue])}}B.__maxMipLevel=xe.length}b(N,Ne)&&w(34067,N,Le.width,Le.height),B.__version=N.version,N.onUpdate&&N.onUpdate(N)}function H(B,N,Z,ie,me){const Se=s.convert(Z.format),Le=s.convert(Z.type),Ne=T(Z.internalFormat,Se,Le,Z.encoding);me===32879||me===35866?t.texImage3D(me,0,Ne,N.width,N.height,N.depth,0,Se,Le,null):t.texImage2D(me,0,Ne,N.width,N.height,0,Se,Le,null),t.bindFramebuffer(36160,B),n.framebufferTexture2D(36160,ie,me,i.get(Z).__webglTexture,0),t.bindFramebuffer(36160,null)}function k(B,N,Z){if(n.bindRenderbuffer(36161,B),N.depthBuffer&&!N.stencilBuffer){let ie=33189;if(Z){const me=N.depthTexture;me&&me.isDepthTexture&&(me.type===rr?ie=36012:me.type===Pd&&(ie=33190));const Se=ce(N);n.renderbufferStorageMultisample(36161,Se,ie,N.width,N.height)}else n.renderbufferStorage(36161,ie,N.width,N.height);n.framebufferRenderbuffer(36160,36096,36161,B)}else if(N.depthBuffer&&N.stencilBuffer){if(Z){const ie=ce(N);n.renderbufferStorageMultisample(36161,ie,35056,N.width,N.height)}else n.renderbufferStorage(36161,34041,N.width,N.height);n.framebufferRenderbuffer(36160,33306,36161,B)}else{const ie=N.isWebGLMultipleRenderTargets===!0?N.texture[0]:N.texture,me=s.convert(ie.format),Se=s.convert(ie.type),Le=T(ie.internalFormat,me,Se,ie.encoding);if(Z){const Ne=ce(N);n.renderbufferStorageMultisample(36161,Ne,Le,N.width,N.height)}else n.renderbufferStorage(36161,Le,N.width,N.height)}n.bindRenderbuffer(36161,null)}function O(B,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,B),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),j(N.depthTexture,0);const ie=i.get(N.depthTexture).__webglTexture;if(N.depthTexture.format===Xa)n.framebufferTexture2D(36160,36096,3553,ie,0);else if(N.depthTexture.format===uc)n.framebufferTexture2D(36160,33306,3553,ie,0);else throw new Error("Unknown depthTexture format")}function D(B){const N=i.get(B),Z=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");O(N.__webglFramebuffer,B)}else if(Z){N.__webglDepthbuffer=[];for(let ie=0;ie<6;ie++)t.bindFramebuffer(36160,N.__webglFramebuffer[ie]),N.__webglDepthbuffer[ie]=n.createRenderbuffer(),k(N.__webglDepthbuffer[ie],B,!1)}else t.bindFramebuffer(36160,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),k(N.__webglDepthbuffer,B,!1);t.bindFramebuffer(36160,null)}function Q(B){const N=B.texture,Z=i.get(B),ie=i.get(N);B.addEventListener("dispose",C),B.isWebGLMultipleRenderTargets!==!0&&(ie.__webglTexture=n.createTexture(),ie.__version=N.version,a.memory.textures++);const me=B.isWebGLCubeRenderTarget===!0,Se=B.isWebGLMultipleRenderTargets===!0,Le=B.isWebGLMultisampleRenderTarget===!0,Ne=N.isDataTexture3D||N.isDataTexture2DArray,Be=g(B)||o;if(o&&N.format===Ka&&(N.type===rr||N.type===Ya)&&(N.format=pn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),me){Z.__webglFramebuffer=[];for(let _e=0;_e<6;_e++)Z.__webglFramebuffer[_e]=n.createFramebuffer()}else if(Z.__webglFramebuffer=n.createFramebuffer(),Se)if(r.drawBuffers){const _e=B.texture;for(let $=0,xe=_e.length;$<xe;$++){const ue=i.get(_e[$]);ue.__webglTexture===void 0&&(ue.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Le)if(o){Z.__webglMultisampledFramebuffer=n.createFramebuffer(),Z.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,Z.__webglColorRenderbuffer);const _e=s.convert(N.format),$=s.convert(N.type),xe=T(N.internalFormat,_e,$,N.encoding),ue=ce(B);n.renderbufferStorageMultisample(36161,ue,xe,B.width,B.height),t.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,Z.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),B.depthBuffer&&(Z.__webglDepthRenderbuffer=n.createRenderbuffer(),k(Z.__webglDepthRenderbuffer,B,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(me){t.bindTexture(34067,ie.__webglTexture),q(34067,N,Be);for(let _e=0;_e<6;_e++)H(Z.__webglFramebuffer[_e],B,N,36064,34069+_e);b(N,Be)&&w(34067,N,B.width,B.height),t.unbindTexture()}else if(Se){const _e=B.texture;for(let $=0,xe=_e.length;$<xe;$++){const ue=_e[$],Ce=i.get(ue);t.bindTexture(3553,Ce.__webglTexture),q(3553,ue,Be),H(Z.__webglFramebuffer,B,ue,36064+$,3553),b(ue,Be)&&w(3553,ue,B.width,B.height)}t.unbindTexture()}else{let _e=3553;Ne&&(o?_e=N.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(_e,ie.__webglTexture),q(_e,N,Be),H(Z.__webglFramebuffer,B,N,36064,_e),b(N,Be)&&w(_e,N,B.width,B.height,B.depth),t.unbindTexture()}B.depthBuffer&&D(B)}function ae(B){const N=g(B)||o,Z=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let ie=0,me=Z.length;ie<me;ie++){const Se=Z[ie];if(b(Se,N)){const Le=B.isWebGLCubeRenderTarget?34067:3553,Ne=i.get(Se).__webglTexture;t.bindTexture(Le,Ne),w(Le,Se,B.width,B.height),t.unbindTexture()}}}function le(B){if(B.isWebGLMultisampleRenderTarget)if(o){const N=B.width,Z=B.height;let ie=16384;B.depthBuffer&&(ie|=256),B.stencilBuffer&&(ie|=1024);const me=i.get(B);t.bindFramebuffer(36008,me.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,me.__webglFramebuffer),n.blitFramebuffer(0,0,N,Z,0,0,N,Z,ie,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,me.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function ce(B){return o&&B.isWebGLMultisampleRenderTarget?Math.min(h,B.samples):0}function K(B){const N=a.render.frame;p.get(B)!==N&&(p.set(B,N),B.update())}let te=!1,re=!1;function we(B,N){B&&B.isWebGLRenderTarget&&(te===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),te=!0),B=B.texture),j(B,N)}function ge(B,N){B&&B.isWebGLCubeRenderTarget&&(re===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),re=!0),B=B.texture),W(B,N)}this.allocateTextureUnit=I,this.resetTextureUnits=G,this.setTexture2D=j,this.setTexture2DArray=z,this.setTexture3D=U,this.setTextureCube=W,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=ae,this.updateMultisampleRenderTarget=le,this.safeSetTexture2D=we,this.safeSetTextureCube=ge}function iN(n,e,t){const i=t.isWebGL2;function r(s){let a;if(s===Vr)return 5121;if(s===I2)return 32819;if(s===j2)return 32820;if(s===D2)return 33635;if(s===R2)return 5120;if(s===L2)return 5122;if(s===fu)return 5123;if(s===N2)return 5124;if(s===Pd)return 5125;if(s===rr)return 5126;if(s===Ya)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===O2)return 6406;if(s===Ka)return 6407;if(s===pn)return 6408;if(s===F2)return 6409;if(s===B2)return 6410;if(s===Xa)return 6402;if(s===uc)return 34041;if(s===U2)return 6403;if(s===G2)return 36244;if(s===H2)return 33319;if(s===V2)return 33320;if(s===W2)return 36248;if(s===$2)return 36249;if(s===ub||s===hb||s===pb||s===mb)if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ub)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===hb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===pb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===mb)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===fb||s===gb||s===yb||s===vb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===fb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===gb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===yb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===vb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===q2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===xb||s===bb)&&(a=e.get("WEBGL_compressed_texture_etc"),a!==null)){if(s===xb)return a.COMPRESSED_RGB8_ETC2;if(s===bb)return a.COMPRESSED_RGBA8_ETC2_EAC}if(s===Y2||s===K2||s===X2||s===J2||s===Q2||s===Z2||s===eL||s===tL||s===nL||s===iL||s===rL||s===sL||s===aL||s===oL||s===cL||s===dL||s===uL||s===hL||s===pL||s===mL||s===fL||s===gL||s===yL||s===vL||s===xL||s===bL||s===wL||s===SL)return a=e.get("WEBGL_compressed_texture_astc"),a!==null?s:null;if(s===lL)return a=e.get("EXT_texture_compression_bptc"),a!==null?s:null;if(s===Hl)return i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class C0 extends Zt{constructor(e=[]){super(),this.cameras=e}}C0.prototype.isArrayCamera=!0;class ja extends Ke{constructor(){super(),this.type="Group"}}ja.prototype.isGroup=!0;const H7={type:"move"};class gv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ja,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ja,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ja,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(o!==null&&(r=t.getPose(e.targetRaySpace,i),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(H7))),c&&e.hand){a=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,i);if(c.joints[y.jointName]===void 0){const f=new ja;f.matrixAutoUpdate=!1,f.visible=!1,c.joints[y.jointName]=f,c.add(f)}const g=c.joints[y.jointName];x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=x.radius),g.visible=x!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=u.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}}class V7 extends aa{constructor(e,t){super();const i=this,r=e.state;let s=null,a=1,o=null,l="local-floor",c=null,u=null,h=null,p=null,m=null,v=!1,y=null,x=null,g=null,f=null,b=null,w=null;const T=[],E=new Map,_=new Zt;_.layers.enable(1),_.viewport=new ot;const C=new Zt;C.layers.enable(2),C.viewport=new ot;const A=[_,C],P=new C0;P.layers.enable(1),P.layers.enable(2);let R=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let H=T[Y];return H===void 0&&(H=new gv,T[Y]=H),H.getTargetRaySpace()},this.getControllerGrip=function(Y){let H=T[Y];return H===void 0&&(H=new gv,T[Y]=H),H.getGripSpace()},this.getHand=function(Y){let H=T[Y];return H===void 0&&(H=new gv,T[Y]=H),H.getHandSpace()};function I(Y){const H=E.get(Y.inputSource);H&&H.dispatchEvent({type:Y.type,data:Y.inputSource})}function j(){E.forEach(function(Y,H){Y.disconnect(H)}),E.clear(),R=null,G=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),h&&t.deleteFramebuffer(h),y&&t.deleteFramebuffer(y),x&&t.deleteRenderbuffer(x),g&&t.deleteRenderbuffer(g),h=null,y=null,x=null,g=null,m=null,p=null,u=null,s=null,ne.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){a=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){l=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return s},this.setSession=async function(Y){if(s=Y,s!==null){s.addEventListener("select",I),s.addEventListener("selectstart",I),s.addEventListener("selectend",I),s.addEventListener("squeeze",I),s.addEventListener("squeezestart",I),s.addEventListener("squeezeend",I),s.addEventListener("end",j),s.addEventListener("inputsourceschange",z);const H=t.getContextAttributes();if(H.xrCompatible!==!0&&await t.makeXRCompatible(),s.renderState.layers===void 0){const k={antialias:H.antialias,alpha:H.alpha,depth:H.depth,stencil:H.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(s,t,k),s.updateRenderState({baseLayer:m})}else if(t instanceof WebGLRenderingContext){const k={antialias:!0,alpha:H.alpha,depth:H.depth,stencil:H.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(s,t,k),s.updateRenderState({layers:[m]})}else{v=H.antialias;let k=null;H.depth&&(w=256,H.stencil&&(w|=1024),b=H.stencil?33306:36096,k=H.stencil?35056:33190);const O={colorFormat:H.alpha?32856:32849,depthFormat:k,scaleFactor:a};u=new XRWebGLBinding(s,t),p=u.createProjectionLayer(O),h=t.createFramebuffer(),s.updateRenderState({layers:[p]}),v&&(y=t.createFramebuffer(),x=t.createRenderbuffer(),t.bindRenderbuffer(36161,x),t.renderbufferStorageMultisample(36161,4,32856,p.textureWidth,p.textureHeight),r.bindFramebuffer(36160,y),t.framebufferRenderbuffer(36160,36064,36161,x),t.bindRenderbuffer(36161,null),k!==null&&(g=t.createRenderbuffer(),t.bindRenderbuffer(36161,g),t.renderbufferStorageMultisample(36161,4,k,p.textureWidth,p.textureHeight),t.framebufferRenderbuffer(36160,b,36161,g),t.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}o=await s.requestReferenceSpace(l),ne.setContext(s),ne.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function z(Y){const H=s.inputSources;for(let k=0;k<T.length;k++)E.set(H[k],T[k]);for(let k=0;k<Y.removed.length;k++){const O=Y.removed[k],D=E.get(O);D&&(D.dispatchEvent({type:"disconnected",data:O}),E.delete(O))}for(let k=0;k<Y.added.length;k++){const O=Y.added[k],D=E.get(O);D&&D.dispatchEvent({type:"connected",data:O})}}const U=new L,W=new L;function V(Y,H,k){U.setFromMatrixPosition(H.matrixWorld),W.setFromMatrixPosition(k.matrixWorld);const O=U.distanceTo(W),D=H.projectionMatrix.elements,Q=k.projectionMatrix.elements,ae=D[14]/(D[10]-1),le=D[14]/(D[10]+1),ce=(D[9]+1)/D[5],K=(D[9]-1)/D[5],te=(D[8]-1)/D[0],re=(Q[8]+1)/Q[0],we=ae*te,ge=ae*re,B=O/(-te+re),N=B*-te;H.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(N),Y.translateZ(B),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const Z=ae+B,ie=le+B,me=we-N,Se=ge+(O-N),Le=ce*le/ie*Z,Ne=K*le/ie*Z;Y.projectionMatrix.makePerspective(me,Se,Le,Ne,Z,ie)}function M(Y,H){H===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(H.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(s===null)return;P.near=C.near=_.near=Y.near,P.far=C.far=_.far=Y.far,(R!==P.near||G!==P.far)&&(s.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,G=P.far);const H=Y.parent,k=P.cameras;M(P,H);for(let D=0;D<k.length;D++)M(k[D],H);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),Y.position.copy(P.position),Y.quaternion.copy(P.quaternion),Y.scale.copy(P.scale),Y.matrix.copy(P.matrix),Y.matrixWorld.copy(P.matrixWorld);const O=Y.children;for(let D=0,Q=O.length;D<Q;D++)O[D].updateMatrixWorld(!0);k.length===2?V(P,_,C):P.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(p!==null)return p.fixedFoveation;if(m!==null)return m.fixedFoveation},this.setFoveation=function(Y){p!==null&&(p.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)};let q=null;function X(Y,H){if(c=H.getViewerPose(o),f=H,c!==null){const O=c.views;m!==null&&r.bindXRFramebuffer(m.framebuffer);let D=!1;O.length!==P.cameras.length&&(P.cameras.length=0,D=!0);for(let Q=0;Q<O.length;Q++){const ae=O[Q];let le=null;if(m!==null)le=m.getViewport(ae);else{const K=u.getViewSubImage(p,ae);r.bindXRFramebuffer(h),K.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,b,3553,K.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,K.colorTexture,0),le=K.viewport}const ce=A[Q];ce.matrix.fromArray(ae.transform.matrix),ce.projectionMatrix.fromArray(ae.projectionMatrix),ce.viewport.set(le.x,le.y,le.width,le.height),Q===0&&P.matrix.copy(ce.matrix),D===!0&&P.cameras.push(ce)}v&&(r.bindXRFramebuffer(y),w!==null&&t.clear(w))}const k=s.inputSources;for(let O=0;O<T.length;O++){const D=T[O],Q=k[O];D.update(Q,H,o)}if(q&&q(Y,H),v){const O=p.textureWidth,D=p.textureHeight;r.bindFramebuffer(36008,y),r.bindFramebuffer(36009,h),t.invalidateFramebuffer(36008,[b]),t.invalidateFramebuffer(36009,[b]),t.blitFramebuffer(0,0,O,D,0,0,O,D,16384,9728),t.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,y)}f=null}const ne=new WL;ne.setAnimationLoop(X),this.setAnimationLoop=function(Y){q=Y},this.dispose=function(){}}}function W7(n){function e(g,f){g.fogColor.value.copy(f.color),f.isFog?(g.fogNear.value=f.near,g.fogFar.value=f.far):f.isFogExp2&&(g.fogDensity.value=f.density)}function t(g,f,b,w,T){f.isMeshBasicMaterial?i(g,f):f.isMeshLambertMaterial?(i(g,f),l(g,f)):f.isMeshToonMaterial?(i(g,f),u(g,f)):f.isMeshPhongMaterial?(i(g,f),c(g,f)):f.isMeshStandardMaterial?(i(g,f),f.isMeshPhysicalMaterial?p(g,f,T):h(g,f)):f.isMeshMatcapMaterial?(i(g,f),m(g,f)):f.isMeshDepthMaterial?(i(g,f),v(g,f)):f.isMeshDistanceMaterial?(i(g,f),y(g,f)):f.isMeshNormalMaterial?(i(g,f),x(g,f)):f.isLineBasicMaterial?(r(g,f),f.isLineDashedMaterial&&s(g,f)):f.isPointsMaterial?a(g,f,b,w):f.isSpriteMaterial?o(g,f):f.isShadowMaterial?(g.color.value.copy(f.color),g.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}function i(g,f){g.opacity.value=f.opacity,f.color&&g.diffuse.value.copy(f.color),f.emissive&&g.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity),f.map&&(g.map.value=f.map),f.alphaMap&&(g.alphaMap.value=f.alphaMap),f.specularMap&&(g.specularMap.value=f.specularMap),f.alphaTest>0&&(g.alphaTest.value=f.alphaTest);const b=n.get(f).envMap;if(b){g.envMap.value=b,g.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=f.reflectivity,g.ior.value=f.ior,g.refractionRatio.value=f.refractionRatio;const E=n.get(b).__maxMipLevel;E!==void 0&&(g.maxMipLevel.value=E)}f.lightMap&&(g.lightMap.value=f.lightMap,g.lightMapIntensity.value=f.lightMapIntensity),f.aoMap&&(g.aoMap.value=f.aoMap,g.aoMapIntensity.value=f.aoMapIntensity);let w;f.map?w=f.map:f.specularMap?w=f.specularMap:f.displacementMap?w=f.displacementMap:f.normalMap?w=f.normalMap:f.bumpMap?w=f.bumpMap:f.roughnessMap?w=f.roughnessMap:f.metalnessMap?w=f.metalnessMap:f.alphaMap?w=f.alphaMap:f.emissiveMap?w=f.emissiveMap:f.clearcoatMap?w=f.clearcoatMap:f.clearcoatNormalMap?w=f.clearcoatNormalMap:f.clearcoatRoughnessMap?w=f.clearcoatRoughnessMap:f.specularIntensityMap?w=f.specularIntensityMap:f.specularColorMap?w=f.specularColorMap:f.transmissionMap?w=f.transmissionMap:f.thicknessMap?w=f.thicknessMap:f.sheenColorMap?w=f.sheenColorMap:f.sheenRoughnessMap&&(w=f.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let T;f.aoMap?T=f.aoMap:f.lightMap&&(T=f.lightMap),T!==void 0&&(T.isWebGLRenderTarget&&(T=T.texture),T.matrixAutoUpdate===!0&&T.updateMatrix(),g.uv2Transform.value.copy(T.matrix))}function r(g,f){g.diffuse.value.copy(f.color),g.opacity.value=f.opacity}function s(g,f){g.dashSize.value=f.dashSize,g.totalSize.value=f.dashSize+f.gapSize,g.scale.value=f.scale}function a(g,f,b,w){g.diffuse.value.copy(f.color),g.opacity.value=f.opacity,g.size.value=f.size*b,g.scale.value=w*.5,f.map&&(g.map.value=f.map),f.alphaMap&&(g.alphaMap.value=f.alphaMap),f.alphaTest>0&&(g.alphaTest.value=f.alphaTest);let T;f.map?T=f.map:f.alphaMap&&(T=f.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),g.uvTransform.value.copy(T.matrix))}function o(g,f){g.diffuse.value.copy(f.color),g.opacity.value=f.opacity,g.rotation.value=f.rotation,f.map&&(g.map.value=f.map),f.alphaMap&&(g.alphaMap.value=f.alphaMap),f.alphaTest>0&&(g.alphaTest.value=f.alphaTest);let b;f.map?b=f.map:f.alphaMap&&(b=f.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,f){f.emissiveMap&&(g.emissiveMap.value=f.emissiveMap)}function c(g,f){g.specular.value.copy(f.specular),g.shininess.value=Math.max(f.shininess,1e-4),f.emissiveMap&&(g.emissiveMap.value=f.emissiveMap),f.bumpMap&&(g.bumpMap.value=f.bumpMap,g.bumpScale.value=f.bumpScale,f.side===jt&&(g.bumpScale.value*=-1)),f.normalMap&&(g.normalMap.value=f.normalMap,g.normalScale.value.copy(f.normalScale),f.side===jt&&g.normalScale.value.negate()),f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias)}function u(g,f){f.gradientMap&&(g.gradientMap.value=f.gradientMap),f.emissiveMap&&(g.emissiveMap.value=f.emissiveMap),f.bumpMap&&(g.bumpMap.value=f.bumpMap,g.bumpScale.value=f.bumpScale,f.side===jt&&(g.bumpScale.value*=-1)),f.normalMap&&(g.normalMap.value=f.normalMap,g.normalScale.value.copy(f.normalScale),f.side===jt&&g.normalScale.value.negate()),f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias)}function h(g,f){g.roughness.value=f.roughness,g.metalness.value=f.metalness,f.roughnessMap&&(g.roughnessMap.value=f.roughnessMap),f.metalnessMap&&(g.metalnessMap.value=f.metalnessMap),f.emissiveMap&&(g.emissiveMap.value=f.emissiveMap),f.bumpMap&&(g.bumpMap.value=f.bumpMap,g.bumpScale.value=f.bumpScale,f.side===jt&&(g.bumpScale.value*=-1)),f.normalMap&&(g.normalMap.value=f.normalMap,g.normalScale.value.copy(f.normalScale),f.side===jt&&g.normalScale.value.negate()),f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias),n.get(f).envMap&&(g.envMapIntensity.value=f.envMapIntensity)}function p(g,f,b){h(g,f),g.ior.value=f.ior,f.sheen>0&&(g.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),g.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(g.sheenColorMap.value=f.sheenColorMap),f.sheenRoughnessMap&&(g.sheenRoughnessMap.value=f.sheenRoughnessMap)),f.clearcoat>0&&(g.clearcoat.value=f.clearcoat,g.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(g.clearcoatMap.value=f.clearcoatMap),f.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap),f.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),g.clearcoatNormalMap.value=f.clearcoatNormalMap,f.side===jt&&g.clearcoatNormalScale.value.negate())),f.transmission>0&&(g.transmission.value=f.transmission,g.transmissionSamplerMap.value=b.texture,g.transmissionSamplerSize.value.set(b.width,b.height),f.transmissionMap&&(g.transmissionMap.value=f.transmissionMap),g.thickness.value=f.thickness,f.thicknessMap&&(g.thicknessMap.value=f.thicknessMap),g.attenuationDistance.value=f.attenuationDistance,g.attenuationColor.value.copy(f.attenuationColor)),g.specularIntensity.value=f.specularIntensity,g.specularColor.value.copy(f.specularColor),f.specularIntensityMap&&(g.specularIntensityMap.value=f.specularIntensityMap),f.specularColorMap&&(g.specularColorMap.value=f.specularColorMap)}function m(g,f){f.matcap&&(g.matcap.value=f.matcap),f.bumpMap&&(g.bumpMap.value=f.bumpMap,g.bumpScale.value=f.bumpScale,f.side===jt&&(g.bumpScale.value*=-1)),f.normalMap&&(g.normalMap.value=f.normalMap,g.normalScale.value.copy(f.normalScale),f.side===jt&&g.normalScale.value.negate()),f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias)}function v(g,f){f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias)}function y(g,f){f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias),g.referencePosition.value.copy(f.referencePosition),g.nearDistance.value=f.nearDistance,g.farDistance.value=f.farDistance}function x(g,f){f.bumpMap&&(g.bumpMap.value=f.bumpMap,g.bumpScale.value=f.bumpScale,f.side===jt&&(g.bumpScale.value*=-1)),f.normalMap&&(g.normalMap.value=f.normalMap,g.normalScale.value.copy(f.normalScale),f.side===jt&&g.normalScale.value.negate()),f.displacementMap&&(g.displacementMap.value=f.displacementMap,g.displacementScale.value=f.displacementScale,g.displacementBias.value=f.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function $7(){const n=qf("canvas");return n.style.display="block",n}function ct(n={}){const e=n.canvas!==void 0?n.canvas:$7(),t=n.context!==void 0?n.context:null,i=n.alpha!==void 0?n.alpha:!1,r=n.depth!==void 0?n.depth:!0,s=n.stencil!==void 0?n.stencil:!0,a=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=gn,this.physicallyCorrectLights=!1,this.toneMapping=Fs,this.toneMappingExposure=1;const y=this;let x=!1,g=0,f=0,b=null,w=-1,T=null;const E=new ot,_=new ot;let C=null,A=e.width,P=e.height,R=1,G=null,I=null;const j=new ot(0,0,A,P),z=new ot(0,0,A,P);let U=!1;const W=[],V=new Wu;let M=!1,q=!1,X=null;const ne=new Re,Y=new L,H={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function k(){return b===null?R:1}let O=t;function D(F,J){for(let se=0;se<F.length;se++){const ee=F[se],he=e.getContext(ee,J);if(he!==null)return he}return null}try{const F={alpha:i,depth:r,stencil:s,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",Bt,!1),e.addEventListener("webglcontextrestored",St,!1),O===null){const J=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&J.shift(),O=D(J,F),O===null)throw D(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}O.getShaderPrecisionFormat===void 0&&(O.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let Q,ae,le,ce,K,te,re,we,ge,B,N,Z,ie,me,Se,Le,Ne,Be,_e,$,xe,ue,Ce;function ke(){Q=new g9(O),ae=new c9(O,Q,n),Q.init(ae),ue=new iN(O,Q,ae),le=new U7(O,Q,ae),W[0]=1029,ce=new x9,K=new P7,te=new G7(O,Q,le,K,ae,ue,ce),re=new u9(y),we=new f9(y),ge=new NW(O,ae),Ce=new o9(O,Q,ge,ae),B=new y9(O,ge,ce,Ce),N=new _9(O,B,ge,ce),_e=new S9(O,ae,te),Le=new d9(K),Z=new A7(y,re,we,Q,ae,Ce,Le),ie=new W7(K),me=new L7(K),Se=new F7(Q,ae),Be=new a9(y,re,le,N,o),Ne=new nN(y,N,ae),$=new l9(O,Q,ce,ae),xe=new v9(O,Q,ce,ae),ce.programs=Z.programs,y.capabilities=ae,y.extensions=Q,y.properties=K,y.renderLists=me,y.shadowMap=Ne,y.state=le,y.info=ce}ke();const We=new V7(y,O);this.xr=We,this.getContext=function(){return O},this.getContextAttributes=function(){return O.getContextAttributes()},this.forceContextLoss=function(){const F=Q.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=Q.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(F){F!==void 0&&(R=F,this.setSize(A,P,!1))},this.getSize=function(F){return F.set(A,P)},this.setSize=function(F,J,se){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=F,P=J,e.width=Math.floor(F*R),e.height=Math.floor(J*R),se!==!1&&(e.style.width=F+"px",e.style.height=J+"px"),this.setViewport(0,0,F,J)},this.getDrawingBufferSize=function(F){return F.set(A*R,P*R).floor()},this.setDrawingBufferSize=function(F,J,se){A=F,P=J,R=se,e.width=Math.floor(F*se),e.height=Math.floor(J*se),this.setViewport(0,0,F,J)},this.getCurrentViewport=function(F){return F.copy(E)},this.getViewport=function(F){return F.copy(j)},this.setViewport=function(F,J,se,ee){F.isVector4?j.set(F.x,F.y,F.z,F.w):j.set(F,J,se,ee),le.viewport(E.copy(j).multiplyScalar(R).floor())},this.getScissor=function(F){return F.copy(z)},this.setScissor=function(F,J,se,ee){F.isVector4?z.set(F.x,F.y,F.z,F.w):z.set(F,J,se,ee),le.scissor(_.copy(z).multiplyScalar(R).floor())},this.getScissorTest=function(){return U},this.setScissorTest=function(F){le.setScissorTest(U=F)},this.setOpaqueSort=function(F){G=F},this.setTransparentSort=function(F){I=F},this.getClearColor=function(F){return F.copy(Be.getClearColor())},this.setClearColor=function(){Be.setClearColor.apply(Be,arguments)},this.getClearAlpha=function(){return Be.getClearAlpha()},this.setClearAlpha=function(){Be.setClearAlpha.apply(Be,arguments)},this.clear=function(F,J,se){let ee=0;(F===void 0||F)&&(ee|=16384),(J===void 0||J)&&(ee|=256),(se===void 0||se)&&(ee|=1024),O.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Bt,!1),e.removeEventListener("webglcontextrestored",St,!1),me.dispose(),Se.dispose(),K.dispose(),re.dispose(),we.dispose(),N.dispose(),Ce.dispose(),We.dispose(),We.removeEventListener("sessionstart",Uc),We.removeEventListener("sessionend",eh),X&&(X.dispose(),X=null),bi.stop()};function Bt(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function St(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const F=ce.autoReset,J=Ne.enabled,se=Ne.autoUpdate,ee=Ne.needsUpdate,he=Ne.type;ke(),ce.autoReset=F,Ne.enabled=J,Ne.autoUpdate=se,Ne.needsUpdate=ee,Ne.type=he}function vi(F){const J=F.target;J.removeEventListener("dispose",vi),dt(J)}function dt(F){xi(F),K.remove(F)}function xi(F){const J=K.get(F).programs;J!==void 0&&J.forEach(function(se){Z.releaseProgram(se)})}this.renderBufferDirect=function(F,J,se,ee,he,Ge){J===null&&(J=H);const ze=he.isMesh&&he.matrixWorld.determinant()<0,De=Yi(F,J,se,ee,he);le.setMaterial(ee,ze);let Ye=se.index;const at=se.attributes.position;if(Ye===null){if(at===void 0||at.count===0)return}else if(Ye.count===0)return;let Je=1;ee.wireframe===!0&&(Ye=B.getWireframeAttribute(se),Je=2),Ce.setup(he,ee,De,se,Ye);let nt,Mt=$;Ye!==null&&(nt=ge.get(Ye),Mt=xe,Mt.setIndex(nt));const ca=Ye!==null?Ye.count:at.count,rt=se.drawRange.start*Je,Gc=se.drawRange.count*Je,gt=Ge!==null?Ge.start*Je:0,da=Ge!==null?Ge.count*Je:1/0,ua=Math.max(rt,gt),ha=Math.min(ca,rt+Gc,gt+da)-1,es=Math.max(0,ha-ua+1);if(es!==0){if(he.isMesh)ee.wireframe===!0?(le.setLineWidth(ee.wireframeLinewidth*k()),Mt.setMode(1)):Mt.setMode(4);else if(he.isLine){let kt=ee.linewidth;kt===void 0&&(kt=1),le.setLineWidth(kt*k()),he.isLineSegments?Mt.setMode(1):he.isLineLoop?Mt.setMode(2):Mt.setMode(3)}else he.isPoints?Mt.setMode(0):he.isSprite&&Mt.setMode(4);if(he.isInstancedMesh)Mt.renderInstances(ua,es,he.count);else if(se.isInstancedBufferGeometry){const kt=Math.min(se.instanceCount,se._maxInstanceCount);Mt.renderInstances(ua,es,kt)}else Mt.render(ua,es)}},this.compile=function(F,J){p=Se.get(F),p.init(),v.push(p),F.traverseVisible(function(se){se.isLight&&se.layers.test(J.layers)&&(p.pushLight(se),se.castShadow&&p.pushShadow(se))}),p.setupLights(y.physicallyCorrectLights),F.traverse(function(se){const ee=se.material;if(ee)if(Array.isArray(ee))for(let he=0;he<ee.length;he++){const Ge=ee[he];Cn(Ge,F,se)}else Cn(ee,F,se)}),v.pop(),p=null};let Vn=null;function Zu(F){Vn&&Vn(F)}function Uc(){bi.stop()}function eh(){bi.start()}const bi=new WL;bi.setAnimationLoop(Zu),typeof window<"u"&&bi.setContext(window),this.setAnimationLoop=function(F){Vn=F,We.setAnimationLoop(F),F===null?bi.stop():bi.start()},We.addEventListener("sessionstart",Uc),We.addEventListener("sessionend",eh),this.render=function(F,J){if(J!==void 0&&J.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;F.autoUpdate===!0&&F.updateMatrixWorld(),J.parent===null&&J.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(J),J=We.getCamera()),F.isScene===!0&&F.onBeforeRender(y,F,J,b),p=Se.get(F,v.length),p.init(),v.push(p),ne.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),V.setFromProjectionMatrix(ne),q=this.localClippingEnabled,M=Le.init(this.clippingPlanes,q,J),h=me.get(F,m.length),h.init(),m.push(h),wi(F,J,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(G,I),M===!0&&Le.beginShadows();const se=p.state.shadowsArray;if(Ne.render(se,F,J),M===!0&&Le.endShadows(),this.info.autoReset===!0&&this.info.reset(),Be.render(h,F),p.setupLights(y.physicallyCorrectLights),J.isArrayCamera){const ee=J.cameras;for(let he=0,Ge=ee.length;he<Ge;he++){const ze=ee[he];th(h,F,ze,ze.viewport)}}else th(h,F,J);b!==null&&(te.updateMultisampleRenderTarget(b),te.updateRenderTargetMipmap(b)),F.isScene===!0&&F.onAfterRender(y,F,J),le.buffers.depth.setTest(!0),le.buffers.depth.setMask(!0),le.buffers.color.setMask(!0),le.setPolygonOffset(!1),Ce.resetDefaultState(),w=-1,T=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function wi(F,J,se,ee){if(F.visible===!1)return;if(F.layers.test(J.layers)){if(F.isGroup)se=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(J);else if(F.isLight)p.pushLight(F),F.castShadow&&p.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||V.intersectsSprite(F)){ee&&Y.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ne);const ze=N.update(F),De=F.material;De.visible&&h.push(F,ze,De,se,Y.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==ce.render.frame&&(F.skeleton.update(),F.skeleton.frame=ce.render.frame),!F.frustumCulled||V.intersectsObject(F))){ee&&Y.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ne);const ze=N.update(F),De=F.material;if(Array.isArray(De)){const Ye=ze.groups;for(let at=0,Je=Ye.length;at<Je;at++){const nt=Ye[at],Mt=De[nt.materialIndex];Mt&&Mt.visible&&h.push(F,ze,Mt,se,Y.z,nt)}}else De.visible&&h.push(F,ze,De,se,Y.z,null)}}const Ge=F.children;for(let ze=0,De=Ge.length;ze<De;ze++)wi(Ge[ze],J,se,ee)}function th(F,J,se,ee){const he=F.opaque,Ge=F.transmissive,ze=F.transparent;p.setupLightsView(se),Ge.length>0&&Ue(he,J,se),ee&&le.viewport(E.copy(ee)),he.length>0&&Ze(he,J,se),Ge.length>0&&Ze(Ge,J,se),ze.length>0&&Ze(ze,J,se)}function Ue(F,J,se){if(X===null){const ze=a===!0&&ae.isWebGL2===!0?w0:Ui;X=new ze(1024,1024,{generateMipmaps:!0,type:ue.convert(Ya)!==null?Ya:Vr,minFilter:Eo,magFilter:Gt,wrapS:un,wrapT:un})}const ee=y.getRenderTarget();y.setRenderTarget(X),y.clear();const he=y.toneMapping;y.toneMapping=Fs,Ze(F,J,se),y.toneMapping=he,te.updateMultisampleRenderTarget(X),te.updateRenderTargetMipmap(X),y.setRenderTarget(ee)}function Ze(F,J,se){const ee=J.isScene===!0?J.overrideMaterial:null;for(let he=0,Ge=F.length;he<Ge;he++){const ze=F[he],De=ze.object,Ye=ze.geometry,at=ee===null?ze.material:ee,Je=ze.group;De.layers.test(se.layers)&&ut(De,J,se,Ye,at,Je)}}function ut(F,J,se,ee,he,Ge){F.onBeforeRender(y,J,se,ee,he,Ge),F.modelViewMatrix.multiplyMatrices(se.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),he.onBeforeRender(y,J,se,ee,F,Ge),he.transparent===!0&&he.side===co?(he.side=jt,he.needsUpdate=!0,y.renderBufferDirect(se,J,ee,he,F,Ge),he.side=lo,he.needsUpdate=!0,y.renderBufferDirect(se,J,ee,he,F,Ge),he.side=co):y.renderBufferDirect(se,J,ee,he,F,Ge),F.onAfterRender(y,J,se,ee,he,Ge)}function Cn(F,J,se){J.isScene!==!0&&(J=H);const ee=K.get(F),he=p.state.lights,Ge=p.state.shadowsArray,ze=he.state.version,De=Z.getParameters(F,he.state,Ge,J,se),Ye=Z.getProgramCacheKey(De);let at=ee.programs;ee.environment=F.isMeshStandardMaterial?J.environment:null,ee.fog=J.fog,ee.envMap=(F.isMeshStandardMaterial?we:re).get(F.envMap||ee.environment),at===void 0&&(F.addEventListener("dispose",vi),at=new Map,ee.programs=at);let Je=at.get(Ye);if(Je!==void 0){if(ee.currentProgram===Je&&ee.lightsStateVersion===ze)return jn(F,De),Je}else De.uniforms=Z.getUniforms(F),F.onBuild(se,De,y),F.onBeforeCompile(De,y),Je=Z.acquireProgram(De,Ye),at.set(Ye,Je),ee.uniforms=De.uniforms;const nt=ee.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(nt.clippingPlanes=Le.uniform),jn(F,De),ee.needsLights=Wn(F),ee.lightsStateVersion=ze,ee.needsLights&&(nt.ambientLightColor.value=he.state.ambient,nt.lightProbe.value=he.state.probe,nt.directionalLights.value=he.state.directional,nt.directionalLightShadows.value=he.state.directionalShadow,nt.spotLights.value=he.state.spot,nt.spotLightShadows.value=he.state.spotShadow,nt.rectAreaLights.value=he.state.rectArea,nt.ltc_1.value=he.state.rectAreaLTC1,nt.ltc_2.value=he.state.rectAreaLTC2,nt.pointLights.value=he.state.point,nt.pointLightShadows.value=he.state.pointShadow,nt.hemisphereLights.value=he.state.hemi,nt.directionalShadowMap.value=he.state.directionalShadowMap,nt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,nt.spotShadowMap.value=he.state.spotShadowMap,nt.spotShadowMatrix.value=he.state.spotShadowMatrix,nt.pointShadowMap.value=he.state.pointShadowMap,nt.pointShadowMatrix.value=he.state.pointShadowMatrix);const Mt=Je.getUniforms(),ca=zs.seqWithValue(Mt.seq,nt);return ee.currentProgram=Je,ee.uniformsList=ca,Je}function jn(F,J){const se=K.get(F);se.outputEncoding=J.outputEncoding,se.instancing=J.instancing,se.skinning=J.skinning,se.morphTargets=J.morphTargets,se.morphNormals=J.morphNormals,se.morphTargetsCount=J.morphTargetsCount,se.numClippingPlanes=J.numClippingPlanes,se.numIntersection=J.numClipIntersection,se.vertexAlphas=J.vertexAlphas,se.vertexTangents=J.vertexTangents}function Yi(F,J,se,ee,he){J.isScene!==!0&&(J=H),te.resetTextureUnits();const Ge=J.fog,ze=ee.isMeshStandardMaterial?J.environment:null,De=b===null?y.outputEncoding:b.texture.encoding,Ye=(ee.isMeshStandardMaterial?we:re).get(ee.envMap||ze),at=ee.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,Je=!!ee.normalMap&&!!se.attributes.tangent,nt=!!se.morphAttributes.position,Mt=!!se.morphAttributes.normal,ca=se.morphAttributes.position?se.morphAttributes.position.length:0,rt=K.get(ee),Gc=p.state.lights;if(M===!0&&(q===!0||F!==T)){const Si=F===T&&ee.id===w;Le.setState(ee,F,Si)}let gt=!1;ee.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==Gc.state.version||rt.outputEncoding!==De||he.isInstancedMesh&&rt.instancing===!1||!he.isInstancedMesh&&rt.instancing===!0||he.isSkinnedMesh&&rt.skinning===!1||!he.isSkinnedMesh&&rt.skinning===!0||rt.envMap!==Ye||ee.fog&&rt.fog!==Ge||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==Le.numPlanes||rt.numIntersection!==Le.numIntersection)||rt.vertexAlphas!==at||rt.vertexTangents!==Je||rt.morphTargets!==nt||rt.morphNormals!==Mt||ae.isWebGL2===!0&&rt.morphTargetsCount!==ca)&&(gt=!0):(gt=!0,rt.__version=ee.version);let da=rt.currentProgram;gt===!0&&(da=Cn(ee,J,he));let ua=!1,ha=!1,es=!1;const kt=da.getUniforms(),Hc=rt.uniforms;if(le.useProgram(da.program)&&(ua=!0,ha=!0,es=!0),ee.id!==w&&(w=ee.id,ha=!0),ua||T!==F){if(kt.setValue(O,"projectionMatrix",F.projectionMatrix),ae.logarithmicDepthBuffer&&kt.setValue(O,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),T!==F&&(T=F,ha=!0,es=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const Si=kt.map.cameraPosition;Si!==void 0&&Si.setValue(O,Y.setFromMatrixPosition(F.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&kt.setValue(O,"isOrthographic",F.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||he.isSkinnedMesh)&&kt.setValue(O,"viewMatrix",F.matrixWorldInverse)}if(he.isSkinnedMesh){kt.setOptional(O,he,"bindMatrix"),kt.setOptional(O,he,"bindMatrixInverse");const Si=he.skeleton;Si&&(ae.floatVertexTextures?(Si.boneTexture===null&&Si.computeBoneTexture(),kt.setValue(O,"boneTexture",Si.boneTexture,te),kt.setValue(O,"boneTextureSize",Si.boneTextureSize)):kt.setOptional(O,Si,"boneMatrices"))}return se&&(se.morphAttributes.position!==void 0||se.morphAttributes.normal!==void 0)&&_e.update(he,se,ee,da),(ha||rt.receiveShadow!==he.receiveShadow)&&(rt.receiveShadow=he.receiveShadow,kt.setValue(O,"receiveShadow",he.receiveShadow)),ha&&(kt.setValue(O,"toneMappingExposure",y.toneMappingExposure),rt.needsLights&&xr(Hc,es),Ge&&ee.fog&&ie.refreshFogUniforms(Hc,Ge),ie.refreshMaterialUniforms(Hc,ee,R,P,X),zs.upload(O,rt.uniformsList,Hc,te)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(zs.upload(O,rt.uniformsList,Hc,te),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&kt.setValue(O,"center",he.center),kt.setValue(O,"modelViewMatrix",he.modelViewMatrix),kt.setValue(O,"normalMatrix",he.normalMatrix),kt.setValue(O,"modelMatrix",he.matrixWorld),da}function xr(F,J){F.ambientLightColor.needsUpdate=J,F.lightProbe.needsUpdate=J,F.directionalLights.needsUpdate=J,F.directionalLightShadows.needsUpdate=J,F.pointLights.needsUpdate=J,F.pointLightShadows.needsUpdate=J,F.spotLights.needsUpdate=J,F.spotLightShadows.needsUpdate=J,F.rectAreaLights.needsUpdate=J,F.hemisphereLights.needsUpdate=J}function Wn(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return f},this.getRenderTarget=function(){return b},this.setRenderTarget=function(F,J=0,se=0){b=F,g=J,f=se,F&&K.get(F).__webglFramebuffer===void 0&&te.setupRenderTarget(F);let ee=null,he=!1,Ge=!1;if(F){const De=F.texture;(De.isDataTexture3D||De.isDataTexture2DArray)&&(Ge=!0);const Ye=K.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(ee=Ye[J],he=!0):F.isWebGLMultisampleRenderTarget?ee=K.get(F).__webglMultisampledFramebuffer:ee=Ye,E.copy(F.viewport),_.copy(F.scissor),C=F.scissorTest}else E.copy(j).multiplyScalar(R).floor(),_.copy(z).multiplyScalar(R).floor(),C=U;if(le.bindFramebuffer(36160,ee)&&ae.drawBuffers){let De=!1;if(F)if(F.isWebGLMultipleRenderTargets){const Ye=F.texture;if(W.length!==Ye.length||W[0]!==36064){for(let at=0,Je=Ye.length;at<Je;at++)W[at]=36064+at;W.length=Ye.length,De=!0}}else(W.length!==1||W[0]!==36064)&&(W[0]=36064,W.length=1,De=!0);else(W.length!==1||W[0]!==1029)&&(W[0]=1029,W.length=1,De=!0);De&&(ae.isWebGL2?O.drawBuffers(W):Q.get("WEBGL_draw_buffers").drawBuffersWEBGL(W))}if(le.viewport(E),le.scissor(_),le.setScissorTest(C),he){const De=K.get(F.texture);O.framebufferTexture2D(36160,36064,34069+J,De.__webglTexture,se)}else if(Ge){const De=K.get(F.texture),Ye=J||0;O.framebufferTextureLayer(36160,36064,De.__webglTexture,se||0,Ye)}w=-1},this.readRenderTargetPixels=function(F,J,se,ee,he,Ge,ze){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let De=K.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&ze!==void 0&&(De=De[ze]),De){le.bindFramebuffer(36160,De);try{const Ye=F.texture,at=Ye.format,Je=Ye.type;if(at!==pn&&ue.convert(at)!==O.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nt=Je===Ya&&(Q.has("EXT_color_buffer_half_float")||ae.isWebGL2&&Q.has("EXT_color_buffer_float"));if(Je!==Vr&&ue.convert(Je)!==O.getParameter(35738)&&!(Je===rr&&(ae.isWebGL2||Q.has("OES_texture_float")||Q.has("WEBGL_color_buffer_float")))&&!nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}O.checkFramebufferStatus(36160)===36053?J>=0&&J<=F.width-ee&&se>=0&&se<=F.height-he&&O.readPixels(J,se,ee,he,ue.convert(at),ue.convert(Je),Ge):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ye=b!==null?K.get(b).__webglFramebuffer:null;le.bindFramebuffer(36160,Ye)}}},this.copyFramebufferToTexture=function(F,J,se=0){const ee=Math.pow(2,-se),he=Math.floor(J.image.width*ee),Ge=Math.floor(J.image.height*ee);let ze=ue.convert(J.format);ae.isWebGL2&&(ze===6407&&(ze=32849),ze===6408&&(ze=32856)),te.setTexture2D(J,0),O.copyTexImage2D(3553,se,ze,F.x,F.y,he,Ge,0),le.unbindTexture()},this.copyTextureToTexture=function(F,J,se,ee=0){const he=J.image.width,Ge=J.image.height,ze=ue.convert(se.format),De=ue.convert(se.type);te.setTexture2D(se,0),O.pixelStorei(37440,se.flipY),O.pixelStorei(37441,se.premultiplyAlpha),O.pixelStorei(3317,se.unpackAlignment),J.isDataTexture?O.texSubImage2D(3553,ee,F.x,F.y,he,Ge,ze,De,J.image.data):J.isCompressedTexture?O.compressedTexSubImage2D(3553,ee,F.x,F.y,J.mipmaps[0].width,J.mipmaps[0].height,ze,J.mipmaps[0].data):O.texSubImage2D(3553,ee,F.x,F.y,ze,De,J.image),ee===0&&se.generateMipmaps&&O.generateMipmap(3553),le.unbindTexture()},this.copyTextureToTexture3D=function(F,J,se,ee,he=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ge=F.max.x-F.min.x+1,ze=F.max.y-F.min.y+1,De=F.max.z-F.min.z+1,Ye=ue.convert(ee.format),at=ue.convert(ee.type);let Je;if(ee.isDataTexture3D)te.setTexture3D(ee,0),Je=32879;else if(ee.isDataTexture2DArray)te.setTexture2DArray(ee,0),Je=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}O.pixelStorei(37440,ee.flipY),O.pixelStorei(37441,ee.premultiplyAlpha),O.pixelStorei(3317,ee.unpackAlignment);const nt=O.getParameter(3314),Mt=O.getParameter(32878),ca=O.getParameter(3316),rt=O.getParameter(3315),Gc=O.getParameter(32877),gt=se.isCompressedTexture?se.mipmaps[0]:se.image;O.pixelStorei(3314,gt.width),O.pixelStorei(32878,gt.height),O.pixelStorei(3316,F.min.x),O.pixelStorei(3315,F.min.y),O.pixelStorei(32877,F.min.z),se.isDataTexture||se.isDataTexture3D?O.texSubImage3D(Je,he,J.x,J.y,J.z,Ge,ze,De,Ye,at,gt.data):se.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),O.compressedTexSubImage3D(Je,he,J.x,J.y,J.z,Ge,ze,De,Ye,gt.data)):O.texSubImage3D(Je,he,J.x,J.y,J.z,Ge,ze,De,Ye,at,gt),O.pixelStorei(3314,nt),O.pixelStorei(32878,Mt),O.pixelStorei(3316,ca),O.pixelStorei(3315,rt),O.pixelStorei(32877,Gc),he===0&&ee.generateMipmaps&&O.generateMipmap(Je),le.unbindTexture()},this.initTexture=function(F){te.setTexture2D(F,0),le.unbindTexture()},this.resetState=function(){g=0,f=0,b=null,le.reset(),Ce.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}ct.prototype.isWebGLRenderer=!0;class rN extends ct{}rN.prototype.isWebGL1Renderer=!0;class qu{constructor(e,t=25e-5){this.name="",this.color=new be(e),this.density=t}clone(){return new qu(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}qu.prototype.isFogExp2=!0;class Yu{constructor(e,t=1,i=1e3){this.name="",this.color=new be(e),this.near=t,this.far=i}clone(){return new Yu(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Yu.prototype.isFog=!0;class tg extends Ke{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}tg.prototype.isScene=!0;class Ao{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=hc,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ni()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ni()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ni()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Ao.prototype.isInterleavedBuffer=!0;const Nt=new L;class $s{constructor(e,t,i,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Nt.x=this.getX(t),Nt.y=this.getY(t),Nt.z=this.getZ(t),Nt.applyMatrix4(e),this.setXYZ(t,Nt.x,Nt.y,Nt.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Nt.x=this.getX(t),Nt.y=this.getY(t),Nt.z=this.getZ(t),Nt.applyNormalMatrix(e),this.setXYZ(t,Nt.x,Nt.y,Nt.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Nt.x=this.getX(t),Nt.y=this.getY(t),Nt.z=this.getZ(t),Nt.transformDirection(e),this.setXYZ(t,Nt.x,Nt.y,Nt.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Qe(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $s(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}$s.prototype.isInterleavedBufferAttribute=!0;class ng extends rn{constructor(e){super(),this.type="SpriteMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}ng.prototype.isSpriteMaterial=!0;let al;const ad=new L,ol=new L,ll=new L,cl=new de,od=new de,sN=new Re,xp=new L,ld=new L,bp=new L,UT=new de,yv=new de,GT=new de;class ig extends Ke{constructor(e){if(super(),this.type="Sprite",al===void 0){al=new je;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Ao(t,5);al.setIndex([0,1,2,0,2,3]),al.setAttribute("position",new $s(i,3,0,!1)),al.setAttribute("uv",new $s(i,2,3,!1))}this.geometry=al,this.material=e!==void 0?e:new ng,this.center=new de(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ol.setFromMatrixScale(this.matrixWorld),sN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ll.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ol.multiplyScalar(-ll.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;wp(xp.set(-.5,-.5,0),ll,a,ol,r,s),wp(ld.set(.5,-.5,0),ll,a,ol,r,s),wp(bp.set(.5,.5,0),ll,a,ol,r,s),UT.set(0,0),yv.set(1,0),GT.set(1,1);let o=e.ray.intersectTriangle(xp,ld,bp,!1,ad);if(o===null&&(wp(ld.set(-.5,.5,0),ll,a,ol,r,s),yv.set(0,1),o=e.ray.intersectTriangle(xp,bp,ld,!1,ad),o===null))return;const l=e.ray.origin.distanceTo(ad);l<e.near||l>e.far||t.push({distance:l,point:ad.clone(),uv:Ot.getUV(ad,xp,ld,bp,UT,yv,GT,new de),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}ig.prototype.isSprite=!0;function wp(n,e,t,i,r,s){cl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(od.x=s*cl.x-r*cl.y,od.y=r*cl.x+s*cl.y):od.copy(cl),n.copy(e),n.x+=od.x,n.y+=od.y,n.applyMatrix4(sN)}const Sp=new L,HT=new L;class aN extends Ke{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Sp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Sp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Sp.setFromMatrixPosition(e.matrixWorld),HT.setFromMatrixPosition(this.matrixWorld);const i=Sp.distanceTo(HT)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s&&i>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}const VT=new L,WT=new ot,$T=new ot,q7=new L,qT=new Re;class rg extends Ht{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Re,this.bindMatrixInverse=new Re}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ot,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;WT.fromBufferAttribute(r.attributes.skinIndex,e),$T.fromBufferAttribute(r.attributes.skinWeight,e),VT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=$T.getComponent(s);if(a!==0){const o=WT.getComponent(s);qT.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(q7.copy(VT).applyMatrix4(qT),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}rg.prototype.isSkinnedMesh=!0;class sg extends Ke{constructor(){super(),this.type="Bone"}}sg.prototype.isBone=!0;class Qa extends Xt{constructor(e=null,t=1,i=1,r,s,a,o,l,c=Gt,u=Gt,h,p){super(null,a,o,l,c,u,r,s,h,p),this.image={data:e,width:t,height:i},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Qa.prototype.isDataTexture=!0;const YT=new Re,Y7=new Re;class ag{constructor(e=[],t=[]){this.uuid=ni(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Re)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Re;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Y7;YT.multiplyMatrices(o,t[s]),YT.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ag(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=LL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Qa(t,e,e,pn,rr);return this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new sg),this.bones.push(a),this.boneInverses.push(new Re().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class ho extends Qe{constructor(e,t,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,i),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}ho.prototype.isInstancedBufferAttribute=!0;const KT=new Re,XT=new Re,_p=[],cd=new Ht;class M0 extends Ht{constructor(e,t,i){super(e,t),this.instanceMatrix=new ho(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(cd.geometry=this.geometry,cd.material=this.material,cd.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,KT),XT.multiplyMatrices(i,KT),cd.matrixWorld=XT,cd.raycast(e,_p);for(let a=0,o=_p.length;a<o;a++){const l=_p[a];l.instanceId=s,l.object=this,t.push(l)}_p.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ho(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}M0.prototype.isInstancedMesh=!0;class sn extends rn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new be(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}sn.prototype.isLineBasicMaterial=!0;const JT=new L,QT=new L,ZT=new Re,vv=new la,Tp=new oa;class qr extends Ke{constructor(e=new je,t=new sn){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)JT.fromBufferAttribute(t,r-1),QT.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=JT.distanceTo(QT);e.setAttribute("lineDistance",new Me(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Tp.copy(i.boundingSphere),Tp.applyMatrix4(r),Tp.radius+=s,e.ray.intersectsSphere(Tp)===!1)return;ZT.copy(r).invert(),vv.copy(e.ray).applyMatrix4(ZT);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new L,u=new L,h=new L,p=new L,m=this.isLineSegments?2:1;if(i.isBufferGeometry){const v=i.index,x=i.attributes.position;if(v!==null){const g=Math.max(0,a.start),f=Math.min(v.count,a.start+a.count);for(let b=g,w=f-1;b<w;b+=m){const T=v.getX(b),E=v.getX(b+1);if(c.fromBufferAttribute(x,T),u.fromBufferAttribute(x,E),vv.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,a.start),f=Math.min(x.count,a.start+a.count);for(let b=g,w=f-1;b<w;b+=m){if(c.fromBufferAttribute(x,b),u.fromBufferAttribute(x,b+1),vv.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}qr.prototype.isLine=!0;const eE=new L,tE=new L;class Hn extends qr{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)eE.fromBufferAttribute(t,r),tE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+eE.distanceTo(tE);e.setAttribute("lineDistance",new Me(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Hn.prototype.isLineSegments=!0;class k0 extends qr{constructor(e,t){super(e,t),this.type="LineLoop"}}k0.prototype.isLineLoop=!0;class Po extends rn{constructor(e){super(),this.type="PointsMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Po.prototype.isPointsMaterial=!0;const nE=new Re,Tb=new la,Ep=new oa,Cp=new L;class Ku extends Ke{constructor(e=new je,t=new Po){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ep.copy(i.boundingSphere),Ep.applyMatrix4(r),Ep.radius+=s,e.ray.intersectsSphere(Ep)===!1)return;nE.copy(r).invert(),Tb.copy(e.ray).applyMatrix4(nE);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o;if(i.isBufferGeometry){const c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);for(let v=p,y=m;v<y;v++){const x=c.getX(v);Cp.fromBufferAttribute(h,x),iE(Cp,x,l,r,e,t,this)}}else{const p=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let v=p,y=m;v<y;v++)Cp.fromBufferAttribute(h,v),iE(Cp,v,l,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Ku.prototype.isPoints=!0;function iE(n,e,t,i,r,s,a){const o=Tb.distanceSqToPoint(n);if(o<t){const l=new L;Tb.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class oN extends Xt{constructor(e,t,i,r,s,a,o,l,c){super(e,t,i,r,s,a,o,l,c),this.format=o!==void 0?o:Ka,this.minFilter=a!==void 0?a:Yt,this.magFilter=s!==void 0?s:Yt,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}oN.prototype.isVideoTexture=!0;class A0 extends Xt{constructor(e,t,i,r,s,a,o,l,c,u,h,p){super(null,a,o,l,c,u,r,s,h,p),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}A0.prototype.isCompressedTexture=!0;class lN extends Xt{constructor(e,t,i,r,s,a,o,l,c){super(e,t,i,r,s,a,o,l,c),this.needsUpdate=!0}}lN.prototype.isCanvasTexture=!0;class cN extends Xt{constructor(e,t,i,r,s,a,o,l,c,u){if(u=u!==void 0?u:Xa,u!==Xa&&u!==uc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Xa&&(i=fu),i===void 0&&u===uc&&(i=Hl),super(null,r,s,a,o,l,u,i,c),this.image={width:e,height:t},this.magFilter=o!==void 0?o:Gt,this.minFilter=l!==void 0?l:Gt,this.flipY=!1,this.generateMipmaps=!1}}cN.prototype.isDepthTexture=!0;class fc extends je{constructor(e=1,t=8,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new L,u=new de;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[p]/e+1)/2,u.y=(a[p+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Me(a,3)),this.setAttribute("normal",new Me(o,3)),this.setAttribute("uv",new Me(l,2))}static fromJSON(e){return new fc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class qs extends je{constructor(e=1,t=1,i=1,r=8,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],h=[],p=[],m=[];let v=0;const y=[],x=i/2;let g=0;f(),a===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Me(h,3)),this.setAttribute("normal",new Me(p,3)),this.setAttribute("uv",new Me(m,2));function f(){const w=new L,T=new L;let E=0;const _=(t-e)/i;for(let C=0;C<=s;C++){const A=[],P=C/s,R=P*(t-e)+e;for(let G=0;G<=r;G++){const I=G/r,j=I*l+o,z=Math.sin(j),U=Math.cos(j);T.x=R*z,T.y=-P*i+x,T.z=R*U,h.push(T.x,T.y,T.z),w.set(z,_,U).normalize(),p.push(w.x,w.y,w.z),m.push(I,1-P),A.push(v++)}y.push(A)}for(let C=0;C<r;C++)for(let A=0;A<s;A++){const P=y[A][C],R=y[A+1][C],G=y[A+1][C+1],I=y[A][C+1];u.push(P,R,I),u.push(R,G,I),E+=6}c.addGroup(g,E,0),g+=E}function b(w){const T=v,E=new de,_=new L;let C=0;const A=w===!0?e:t,P=w===!0?1:-1;for(let G=1;G<=r;G++)h.push(0,x*P,0),p.push(0,P,0),m.push(.5,.5),v++;const R=v;for(let G=0;G<=r;G++){const j=G/r*l+o,z=Math.cos(j),U=Math.sin(j);_.x=A*U,_.y=x*P,_.z=A*z,h.push(_.x,_.y,_.z),p.push(0,P,0),E.x=z*.5+.5,E.y=U*.5*P+.5,m.push(E.x,E.y),v++}for(let G=0;G<r;G++){const I=T+G,j=R+G;w===!0?u.push(j,j+1,I):u.push(j+1,j,I),C+=3}c.addGroup(g,C,w===!0?1:2),g+=C}}static fromJSON(e){return new qs(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gc extends qs{constructor(e=1,t=1,i=8,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new gc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pr extends je{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),c(i),u(),this.setAttribute("position",new Me(s,3)),this.setAttribute("normal",new Me(s.slice(),3)),this.setAttribute("uv",new Me(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(f){const b=new L,w=new L,T=new L;for(let E=0;E<t.length;E+=3)m(t[E+0],b),m(t[E+1],w),m(t[E+2],T),l(b,w,T,f)}function l(f,b,w,T){const E=T+1,_=[];for(let C=0;C<=E;C++){_[C]=[];const A=f.clone().lerp(w,C/E),P=b.clone().lerp(w,C/E),R=E-C;for(let G=0;G<=R;G++)G===0&&C===E?_[C][G]=A:_[C][G]=A.clone().lerp(P,G/R)}for(let C=0;C<E;C++)for(let A=0;A<2*(E-C)-1;A++){const P=Math.floor(A/2);A%2===0?(p(_[C][P+1]),p(_[C+1][P]),p(_[C][P])):(p(_[C][P+1]),p(_[C+1][P+1]),p(_[C+1][P]))}}function c(f){const b=new L;for(let w=0;w<s.length;w+=3)b.x=s[w+0],b.y=s[w+1],b.z=s[w+2],b.normalize().multiplyScalar(f),s[w+0]=b.x,s[w+1]=b.y,s[w+2]=b.z}function u(){const f=new L;for(let b=0;b<s.length;b+=3){f.x=s[b+0],f.y=s[b+1],f.z=s[b+2];const w=x(f)/2/Math.PI+.5,T=g(f)/Math.PI+.5;a.push(w,1-T)}v(),h()}function h(){for(let f=0;f<a.length;f+=6){const b=a[f+0],w=a[f+2],T=a[f+4],E=Math.max(b,w,T),_=Math.min(b,w,T);E>.9&&_<.1&&(b<.2&&(a[f+0]+=1),w<.2&&(a[f+2]+=1),T<.2&&(a[f+4]+=1))}}function p(f){s.push(f.x,f.y,f.z)}function m(f,b){const w=f*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function v(){const f=new L,b=new L,w=new L,T=new L,E=new de,_=new de,C=new de;for(let A=0,P=0;A<s.length;A+=9,P+=6){f.set(s[A+0],s[A+1],s[A+2]),b.set(s[A+3],s[A+4],s[A+5]),w.set(s[A+6],s[A+7],s[A+8]),E.set(a[P+0],a[P+1]),_.set(a[P+2],a[P+3]),C.set(a[P+4],a[P+5]),T.copy(f).add(b).add(w).divideScalar(3);const R=x(T);y(E,P+0,f,R),y(_,P+2,b,R),y(C,P+4,w,R)}}function y(f,b,w,T){T<0&&f.x===1&&(a[b]=f.x-1),w.x===0&&w.z===0&&(a[b]=T/2/Math.PI+.5)}function x(f){return Math.atan2(f.z,-f.x)}function g(f){return Math.atan2(-f.y,Math.sqrt(f.x*f.x+f.z*f.z))}}static fromJSON(e){return new pr(e.vertices,e.indices,e.radius,e.details)}}class yc extends pr{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yc(e.radius,e.detail)}}const Mp=new L,kp=new L,xv=new L,Ap=new Ot;class P0 extends je{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ja*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){a?(c[0]=a.getX(v),c[1]=a.getX(v+1),c[2]=a.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:x,c:g}=Ap;if(y.fromBufferAttribute(o,c[0]),x.fromBufferAttribute(o,c[1]),g.fromBufferAttribute(o,c[2]),Ap.getNormal(xv),h[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let f=0;f<3;f++){const b=(f+1)%3,w=h[f],T=h[b],E=Ap[u[f]],_=Ap[u[b]],C=`${w}_${T}`,A=`${T}_${w}`;A in p&&p[A]?(xv.dot(p[A].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(_.x,_.y,_.z)),p[A]=null):C in p||(p[C]={index0:c[f],index1:c[b],normal:xv.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];Mp.fromBufferAttribute(o,y),kp.fromBufferAttribute(o,x),m.push(Mp.x,Mp.y,Mp.z),m.push(kp.x,kp.y,kp.z)}this.setAttribute("position",new Me(m,3))}}}class ri{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-a,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const u=i[r],p=i[r+1]-u,m=(a-u)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new de:new L);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new L,r=[],s=[],a=[],o=new L,l=new Re;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new L)}s[0]=new L,a[0]=new L;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),o.crossVectors(r[m-1],r[m]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(dn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(o,v))}a[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(dn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Xu extends ri{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t){const i=t||new de,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*h+this.aX,c=p*h+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Xu.prototype.isEllipseCurve=!0;class R0 extends Xu{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.type="ArcCurve"}}R0.prototype.isArcCurve=!0;function L0(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){r(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,h){let p=(a-s)/c-(o-s)/(c+u)+(o-a)/u,m=(o-a)/u-(l-a)/(u+h)+(l-o)/h;p*=u,m*=u,r(a,o,p,m)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const Pp=new L,bv=new L0,wv=new L0,Sv=new L0;class N0 extends ri{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new L){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=r[(o-1)%s]:(Pp.subVectors(r[0],r[1]).add(r[0]),c=Pp);const h=r[o%s],p=r[(o+1)%s];if(this.closed||o+2<s?u=r[(o+2)%s]:(Pp.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Pp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(u),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),bv.initNonuniformCatmullRom(c.x,h.x,p.x,u.x,v,y,x),wv.initNonuniformCatmullRom(c.y,h.y,p.y,u.y,v,y,x),Sv.initNonuniformCatmullRom(c.z,h.z,p.z,u.z,v,y,x)}else this.curveType==="catmullrom"&&(bv.initCatmullRom(c.x,h.x,p.x,u.x,this.tension),wv.initCatmullRom(c.y,h.y,p.y,u.y,this.tension),Sv.initCatmullRom(c.z,h.z,p.z,u.z,this.tension));return i.set(bv.calc(l),wv.calc(l),Sv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new L().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}N0.prototype.isCatmullRomCurve3=!0;function rE(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function K7(n,e){const t=1-n;return t*t*e}function X7(n,e){return 2*(1-n)*n*e}function J7(n,e){return n*n*e}function Ld(n,e,t,i){return K7(n,e)+X7(n,t)+J7(n,i)}function Q7(n,e){const t=1-n;return t*t*t*e}function Z7(n,e){const t=1-n;return 3*t*t*n*e}function eq(n,e){return 3*(1-n)*n*n*e}function tq(n,e){return n*n*n*e}function Nd(n,e,t,i,r){return Q7(n,e)+Z7(n,t)+eq(n,i)+tq(n,r)}class og extends ri{constructor(e=new de,t=new de,i=new de,r=new de){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new de){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Nd(e,r.x,s.x,a.x,o.x),Nd(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}og.prototype.isCubicBezierCurve=!0;class I0 extends ri{constructor(e=new L,t=new L,i=new L,r=new L){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new L){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Nd(e,r.x,s.x,a.x,o.x),Nd(e,r.y,s.y,a.y,o.y),Nd(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}I0.prototype.isCubicBezierCurve3=!0;class Ju extends ri{constructor(e=new de,t=new de){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new de){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new de;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ju.prototype.isLineCurve=!0;class dN extends ri{constructor(e=new L,t=new L){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new L){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lg extends ri{constructor(e=new de,t=new de,i=new de){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new de){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Ld(e,r.x,s.x,a.x),Ld(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}lg.prototype.isQuadraticBezierCurve=!0;class cg extends ri{constructor(e=new L,t=new L,i=new L){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new L){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Ld(e,r.x,s.x,a.x),Ld(e,r.y,s.y,a.y),Ld(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}cg.prototype.isQuadraticBezierCurve3=!0;class dg extends ri{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new de){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],c=r[a],u=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(rE(o,l.x,c.x,u.x,h.x),rE(o,l.y,c.y,u.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new de().fromArray(r))}return this}}dg.prototype.isSplineCurve=!0;var j0=Object.freeze({__proto__:null,ArcCurve:R0,CatmullRomCurve3:N0,CubicBezierCurve:og,CubicBezierCurve3:I0,EllipseCurve:Xu,LineCurve:Ju,LineCurve3:dN,QuadraticBezierCurve:lg,QuadraticBezierCurve3:cg,SplineCurve:dg});class uN extends ri{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ju(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a&&a.isEllipseCurve?e*2:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new j0[r.type]().fromJSON(r))}return this}}class bu extends uN{constructor(e){super(),this.type="Path",this.currentPoint=new de,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Ju(this.currentPoint.clone(),new de(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new lg(this.currentPoint.clone(),new de(e,t),new de(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new og(this.currentPoint.clone(),new de(e,t),new de(i,r),new de(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new dg(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const c=new Xu(e,t,i,r,s,a,o,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class dr extends bu{constructor(e){super(e),this.uuid=ni(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new bu().fromJSON(r))}return this}}const nq={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=hN(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,h,p,m;if(i&&(s=oq(n,e,s,t)),n.length>80*t){o=c=n[0],l=u=n[1];for(let v=t;v<r;v+=t)h=n[v],p=n[v+1],h<o&&(o=h),p<l&&(l=p),h>c&&(c=h),p>u&&(u=p);m=Math.max(c-o,u-l),m=m!==0?1/m:0}return wu(s,a,t,o,l,m),a}};function hN(n,e,t,i,r){let s,a;if(r===vq(n,e,t,i)>0)for(s=e;s<t;s+=i)a=sE(s,n[s],n[s+1],a);else for(s=t-i;s>=e;s-=i)a=sE(s,n[s],n[s+1],a);return a&&ug(a,a.next)&&(_u(a),a=a.next),a}function Ys(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(ug(t,t.next)||Tt(t.prev,t,t.next)===0)){if(_u(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function wu(n,e,t,i,r,s,a){if(!n)return;!a&&s&&hq(n,i,r,s);let o=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?rq(n,i,r,s):iq(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),_u(n),n=c.next,o=c.next;continue}if(n=c,n===o){a?a===1?(n=sq(Ys(n),e,t),wu(n,e,t,i,r,s,2)):a===2&&aq(n,e,t,i,r,s):wu(Ys(n),e,t,i,r,s,1);break}}}function iq(n){const e=n.prev,t=n,i=n.next;if(Tt(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(Al(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Tt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function rq(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Tt(r,s,a)>=0)return!1;const o=r.x<s.x?r.x<a.x?r.x:a.x:s.x<a.x?s.x:a.x,l=r.y<s.y?r.y<a.y?r.y:a.y:s.y<a.y?s.y:a.y,c=r.x>s.x?r.x>a.x?r.x:a.x:s.x>a.x?s.x:a.x,u=r.y>s.y?r.y>a.y?r.y:a.y:s.y>a.y?s.y:a.y,h=Eb(o,l,e,t,i),p=Eb(c,u,e,t,i);let m=n.prevZ,v=n.nextZ;for(;m&&m.z>=h&&v&&v.z<=p;){if(m!==n.prev&&m!==n.next&&Al(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&Tt(m.prev,m,m.next)>=0||(m=m.prevZ,v!==n.prev&&v!==n.next&&Al(r.x,r.y,s.x,s.y,a.x,a.y,v.x,v.y)&&Tt(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;m&&m.z>=h;){if(m!==n.prev&&m!==n.next&&Al(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&Tt(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;v&&v.z<=p;){if(v!==n.prev&&v!==n.next&&Al(r.x,r.y,s.x,s.y,a.x,a.y,v.x,v.y)&&Tt(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function sq(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!ug(r,s)&&pN(r,i,i.next,s)&&Su(r,s)&&Su(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),_u(i),_u(i.next),i=n=s),i=i.next}while(i!==n);return Ys(i)}function aq(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&fq(a,o)){let l=mN(a,o);a=Ys(a,a.next),l=Ys(l,l.next),wu(a,e,t,i,r,s),wu(l,e,t,i,r,s);return}o=o.next}a=a.next}while(a!==n)}function oq(n,e,t,i){const r=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,c=hN(n,o,l,i,!1),c===c.next&&(c.steiner=!0),r.push(mq(c));for(r.sort(lq),s=0;s<r.length;s++)cq(r[s],t),t=Ys(t,t.next);return t}function lq(n,e){return n.x-e.x}function cq(n,e){if(e=dq(n,e),e){const t=mN(e,n);Ys(e,e.next),Ys(t,t.next)}}function dq(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const p=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=i&&p>s){if(s=p,p===i){if(r===t.y)return t;if(r===t.next.y)return t.next}a=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!a)return null;if(i===s)return a;const o=a,l=a.x,c=a.y;let u=1/0,h;t=a;do i>=t.x&&t.x>=l&&i!==t.x&&Al(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)&&(h=Math.abs(r-t.y)/(i-t.x),Su(t,n)&&(h<u||h===u&&(t.x>a.x||t.x===a.x&&uq(a,t)))&&(a=t,u=h)),t=t.next;while(t!==o);return a}function uq(n,e){return Tt(n.prev,n,e.prev)<0&&Tt(e.next,n,n.next)<0}function hq(n,e,t,i){let r=n;do r.z===null&&(r.z=Eb(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,pq(r)}function pq(n){let e,t,i,r,s,a,o,l,c=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,i=t,o=0,e=0;e<c&&(o++,i=i.nextZ,!!i);e++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,o--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(a>1);return n}function Eb(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function mq(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Al(n,e,t,i,r,s,a,o){return(r-a)*(e-o)-(n-a)*(s-o)>=0&&(n-a)*(i-o)-(t-a)*(e-o)>=0&&(t-a)*(s-o)-(r-a)*(i-o)>=0}function fq(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!gq(n,e)&&(Su(n,e)&&Su(e,n)&&yq(n,e)&&(Tt(n.prev,n,e.prev)||Tt(n,e.prev,e))||ug(n,e)&&Tt(n.prev,n,n.next)>0&&Tt(e.prev,e,e.next)>0)}function Tt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function ug(n,e){return n.x===e.x&&n.y===e.y}function pN(n,e,t,i){const r=Lp(Tt(n,e,t)),s=Lp(Tt(n,e,i)),a=Lp(Tt(t,i,n)),o=Lp(Tt(t,i,e));return!!(r!==s&&a!==o||r===0&&Rp(n,t,e)||s===0&&Rp(n,i,e)||a===0&&Rp(t,n,i)||o===0&&Rp(t,e,i))}function Rp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Lp(n){return n>0?1:n<0?-1:0}function gq(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&pN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Su(n,e){return Tt(n.prev,n,n.next)<0?Tt(n,e,n.next)>=0&&Tt(n,n.prev,e)>=0:Tt(n,e,n.prev)<0||Tt(n,n.next,e)<0}function yq(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function mN(n,e){const t=new Cb(n.i,n.x,n.y),i=new Cb(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function sE(n,e,t,i){const r=new Cb(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function _u(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Cb(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vq(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class ur{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ur.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];aE(e),oE(i,e);let a=e.length;t.forEach(aE);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,oE(i,t[l]);const o=nq.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function aE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function oE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class mr extends je{constructor(e=new dr([new de(.5,.5),new de(-.5,.5),new de(-.5,-.5),new de(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Me(r,3)),this.setAttribute("uv",new Me(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1;let h=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,f=t.UVGenerator!==void 0?t.UVGenerator:xq;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=t.amount);let b,w=!1,T,E,_,C;g&&(b=g.getSpacedPoints(u),w=!0,p=!1,T=g.computeFrenetFrames(u,!1),E=new L,_=new L,C=new L),p||(x=0,m=0,v=0,y=0);const A=o.extractPoints(c);let P=A.shape;const R=A.holes;if(!ur.isClockWise(P)){P=P.reverse();for(let K=0,te=R.length;K<te;K++){const re=R[K];ur.isClockWise(re)&&(R[K]=re.reverse())}}const I=ur.triangulateShape(P,R),j=P;for(let K=0,te=R.length;K<te;K++){const re=R[K];P=P.concat(re)}function z(K,te,re){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().multiplyScalar(re).add(K)}const U=P.length,W=I.length;function V(K,te,re){let we,ge,B;const N=K.x-te.x,Z=K.y-te.y,ie=re.x-K.x,me=re.y-K.y,Se=N*N+Z*Z,Le=N*me-Z*ie;if(Math.abs(Le)>Number.EPSILON){const Ne=Math.sqrt(Se),Be=Math.sqrt(ie*ie+me*me),_e=te.x-Z/Ne,$=te.y+N/Ne,xe=re.x-me/Be,ue=re.y+ie/Be,Ce=((xe-_e)*me-(ue-$)*ie)/(N*me-Z*ie);we=_e+N*Ce-K.x,ge=$+Z*Ce-K.y;const ke=we*we+ge*ge;if(ke<=2)return new de(we,ge);B=Math.sqrt(ke/2)}else{let Ne=!1;N>Number.EPSILON?ie>Number.EPSILON&&(Ne=!0):N<-Number.EPSILON?ie<-Number.EPSILON&&(Ne=!0):Math.sign(Z)===Math.sign(me)&&(Ne=!0),Ne?(we=-Z,ge=N,B=Math.sqrt(Se)):(we=N,ge=Z,B=Math.sqrt(Se/2))}return new de(we/B,ge/B)}const M=[];for(let K=0,te=j.length,re=te-1,we=K+1;K<te;K++,re++,we++)re===te&&(re=0),we===te&&(we=0),M[K]=V(j[K],j[re],j[we]);const q=[];let X,ne=M.concat();for(let K=0,te=R.length;K<te;K++){const re=R[K];X=[];for(let we=0,ge=re.length,B=ge-1,N=we+1;we<ge;we++,B++,N++)B===ge&&(B=0),N===ge&&(N=0),X[we]=V(re[we],re[B],re[N]);q.push(X),ne=ne.concat(X)}for(let K=0;K<x;K++){const te=K/x,re=m*Math.cos(te*Math.PI/2),we=v*Math.sin(te*Math.PI/2)+y;for(let ge=0,B=j.length;ge<B;ge++){const N=z(j[ge],M[ge],we);D(N.x,N.y,-re)}for(let ge=0,B=R.length;ge<B;ge++){const N=R[ge];X=q[ge];for(let Z=0,ie=N.length;Z<ie;Z++){const me=z(N[Z],X[Z],we);D(me.x,me.y,-re)}}}const Y=v+y;for(let K=0;K<U;K++){const te=p?z(P[K],ne[K],Y):P[K];w?(_.copy(T.normals[0]).multiplyScalar(te.x),E.copy(T.binormals[0]).multiplyScalar(te.y),C.copy(b[0]).add(_).add(E),D(C.x,C.y,C.z)):D(te.x,te.y,0)}for(let K=1;K<=u;K++)for(let te=0;te<U;te++){const re=p?z(P[te],ne[te],Y):P[te];w?(_.copy(T.normals[K]).multiplyScalar(re.x),E.copy(T.binormals[K]).multiplyScalar(re.y),C.copy(b[K]).add(_).add(E),D(C.x,C.y,C.z)):D(re.x,re.y,h/u*K)}for(let K=x-1;K>=0;K--){const te=K/x,re=m*Math.cos(te*Math.PI/2),we=v*Math.sin(te*Math.PI/2)+y;for(let ge=0,B=j.length;ge<B;ge++){const N=z(j[ge],M[ge],we);D(N.x,N.y,h+re)}for(let ge=0,B=R.length;ge<B;ge++){const N=R[ge];X=q[ge];for(let Z=0,ie=N.length;Z<ie;Z++){const me=z(N[Z],X[Z],we);w?D(me.x,me.y+b[u-1].y,b[u-1].x+re):D(me.x,me.y,h+re)}}}H(),k();function H(){const K=r.length/3;if(p){let te=0,re=U*te;for(let we=0;we<W;we++){const ge=I[we];Q(ge[2]+re,ge[1]+re,ge[0]+re)}te=u+x*2,re=U*te;for(let we=0;we<W;we++){const ge=I[we];Q(ge[0]+re,ge[1]+re,ge[2]+re)}}else{for(let te=0;te<W;te++){const re=I[te];Q(re[2],re[1],re[0])}for(let te=0;te<W;te++){const re=I[te];Q(re[0]+U*u,re[1]+U*u,re[2]+U*u)}}i.addGroup(K,r.length/3-K,0)}function k(){const K=r.length/3;let te=0;O(j,te),te+=j.length;for(let re=0,we=R.length;re<we;re++){const ge=R[re];O(ge,te),te+=ge.length}i.addGroup(K,r.length/3-K,1)}function O(K,te){let re=K.length;for(;--re>=0;){const we=re;let ge=re-1;ge<0&&(ge=K.length-1);for(let B=0,N=u+x*2;B<N;B++){const Z=U*B,ie=U*(B+1),me=te+we+Z,Se=te+ge+Z,Le=te+ge+ie,Ne=te+we+ie;ae(me,Se,Le,Ne)}}}function D(K,te,re){l.push(K),l.push(te),l.push(re)}function Q(K,te,re){le(K),le(te),le(re);const we=r.length/3,ge=f.generateTopUV(i,r,we-3,we-2,we-1);ce(ge[0]),ce(ge[1]),ce(ge[2])}function ae(K,te,re,we){le(K),le(te),le(we),le(te),le(re),le(we);const ge=r.length/3,B=f.generateSideWallUV(i,r,ge-6,ge-3,ge-2,ge-1);ce(B[0]),ce(B[1]),ce(B[3]),ce(B[1]),ce(B[2]),ce(B[3])}function le(K){r.push(l[K*3+0]),r.push(l[K*3+1]),r.push(l[K*3+2])}function ce(K){s.push(K.x),s.push(K.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return bq(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new j0[r.type]().fromJSON(r)),new mr(i,e.options)}}const xq={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new de(s,a),new de(o,l),new de(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],y=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new de(a,1-l),new de(c,1-h),new de(p,1-v),new de(y,1-g)]:[new de(o,1-l),new de(u,1-h),new de(m,1-v),new de(x,1-g)]}};function bq(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class vc extends pr{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vc(e.radius,e.detail)}}class xc extends je{constructor(e=[new de(0,.5),new de(.5,0),new de(0,-.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=dn(r,0,Math.PI*2);const s=[],a=[],o=[],l=1/t,c=new L,u=new de;for(let h=0;h<=t;h++){const p=i+h*l*r,m=Math.sin(p),v=Math.cos(p);for(let y=0;y<=e.length-1;y++)c.x=e[y].x*m,c.y=e[y].y,c.z=e[y].x*v,a.push(c.x,c.y,c.z),u.x=h/t,u.y=y/(e.length-1),o.push(u.x,u.y)}for(let h=0;h<t;h++)for(let p=0;p<e.length-1;p++){const m=p+h*e.length,v=m,y=m+e.length,x=m+e.length+1,g=m+1;s.push(v,y,g),s.push(y,x,g)}if(this.setIndex(s),this.setAttribute("position",new Me(a,3)),this.setAttribute("uv",new Me(o,2)),this.computeVertexNormals(),r===Math.PI*2){const h=this.attributes.normal.array,p=new L,m=new L,v=new L,y=t*e.length*3;for(let x=0,g=0;x<e.length;x++,g+=3)p.x=h[g+0],p.y=h[g+1],p.z=h[g+2],m.x=h[y+g+0],m.y=h[y+g+1],m.z=h[y+g+2],v.addVectors(p,m).normalize(),h[g+0]=h[y+g+0]=v.x,h[g+1]=h[y+g+1]=v.y,h[g+2]=h[y+g+2]=v.z}}static fromJSON(e){return new xc(e.points,e.segments,e.phiStart,e.phiLength)}}class po extends pr{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new po(e.radius,e.detail)}}class bc extends je{constructor(e=.5,t=1,i=8,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],u=[];let h=e;const p=(t-e)/r,m=new L,v=new de;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const g=s+x/i*a;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}h+=p}for(let y=0;y<r;y++){const x=y*(i+1);for(let g=0;g<i;g++){const f=g+x,b=f,w=f+i+1,T=f+i+2,E=f+1;o.push(b,w,E),o.push(w,T,E)}}this.setIndex(o),this.setAttribute("position",new Me(l,3)),this.setAttribute("normal",new Me(c,3)),this.setAttribute("uv",new Me(u,2))}static fromJSON(e){return new bc(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class mo extends je{constructor(e=new dr([new de(0,.5),new de(-.5,-.5),new de(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Me(r,3)),this.setAttribute("normal",new Me(s,3)),this.setAttribute("uv",new Me(a,2));function c(u){const h=r.length/3,p=u.extractPoints(t);let m=p.shape;const v=p.holes;ur.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const f=v[x];ur.isClockWise(f)===!0&&(v[x]=f.reverse())}const y=ur.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const f=v[x];m=m.concat(f)}for(let x=0,g=m.length;x<g;x++){const f=m[x];r.push(f.x,f.y,0),s.push(0,0,1),a.push(f.x,f.y)}for(let x=0,g=y.length;x<g;x++){const f=y[x],b=f[0]+h,w=f[1]+h,T=f[2]+h;i.push(b,w,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return wq(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new mo(i,e.curveSegments)}}function wq(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class fo extends je{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const u=[],h=new L,p=new L,m=[],v=[],y=[],x=[];for(let g=0;g<=i;g++){const f=[],b=g/i;let w=0;g==0&&a==0?w=.5/t:g==i&&l==Math.PI&&(w=-.5/t);for(let T=0;T<=t;T++){const E=T/t;h.x=-e*Math.cos(r+E*s)*Math.sin(a+b*o),h.y=e*Math.cos(a+b*o),h.z=e*Math.sin(r+E*s)*Math.sin(a+b*o),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),x.push(E+w,1-b),f.push(c++)}u.push(f)}for(let g=0;g<i;g++)for(let f=0;f<t;f++){const b=u[g][f+1],w=u[g][f],T=u[g+1][f],E=u[g+1][f+1];(g!==0||a>0)&&m.push(b,w,E),(g!==i-1||l<Math.PI)&&m.push(w,T,E)}this.setIndex(m),this.setAttribute("position",new Me(v,3)),this.setAttribute("normal",new Me(y,3)),this.setAttribute("uv",new Me(x,2))}static fromJSON(e){return new fo(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class wc extends pr{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wc(e.radius,e.detail)}}class Sc extends je{constructor(e=1,t=.4,i=8,r=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],c=[],u=new L,h=new L,p=new L;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const y=v/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(y),h.y=(e+t*Math.cos(x))*Math.sin(y),h.z=t*Math.sin(x),o.push(h.x,h.y,h.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(h,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const y=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,f=(r+1)*m+v;a.push(y,x,f),a.push(x,g,f)}this.setIndex(a),this.setAttribute("position",new Me(o,3)),this.setAttribute("normal",new Me(l,3)),this.setAttribute("uv",new Me(c,2))}static fromJSON(e){return new Sc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _c extends je{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],u=[],h=new L,p=new L,m=new L,v=new L,y=new L,x=new L,g=new L;for(let b=0;b<=i;++b){const w=b/i*s*Math.PI*2;f(w,s,a,e,m),f(w+.01,s,a,e,v),x.subVectors(v,m),g.addVectors(v,m),y.crossVectors(x,g),g.crossVectors(y,x),y.normalize(),g.normalize();for(let T=0;T<=r;++T){const E=T/r*Math.PI*2,_=-t*Math.cos(E),C=t*Math.sin(E);h.x=m.x+(_*g.x+C*y.x),h.y=m.y+(_*g.y+C*y.y),h.z=m.z+(_*g.z+C*y.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),u.push(b/i),u.push(T/r)}}for(let b=1;b<=i;b++)for(let w=1;w<=r;w++){const T=(r+1)*(b-1)+(w-1),E=(r+1)*b+(w-1),_=(r+1)*b+w,C=(r+1)*(b-1)+w;o.push(T,E,C),o.push(E,_,C)}this.setIndex(o),this.setAttribute("position",new Me(l,3)),this.setAttribute("normal",new Me(c,3)),this.setAttribute("uv",new Me(u,2));function f(b,w,T,E,_){const C=Math.cos(b),A=Math.sin(b),P=T/w*b,R=Math.cos(P);_.x=E*(2+R)*.5*C,_.y=E*(2+R)*A*.5,_.z=E*Math.sin(P)*.5}}static fromJSON(e){return new _c(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Tc extends je{constructor(e=new cg(new L(-1,-1,0),new L(-1,1,0),new L(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new L,l=new L,c=new de;let u=new L;const h=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Me(h,3)),this.setAttribute("normal",new Me(p,3)),this.setAttribute("uv",new Me(m,2));function y(){for(let b=0;b<t;b++)x(b);x(s===!1?t:0),f(),g()}function x(b){u=e.getPointAt(b/t,u);const w=a.normals[b],T=a.binormals[b];for(let E=0;E<=r;E++){const _=E/r*Math.PI*2,C=Math.sin(_),A=-Math.cos(_);l.x=A*w.x+C*T.x,l.y=A*w.y+C*T.y,l.z=A*w.z+C*T.z,l.normalize(),p.push(l.x,l.y,l.z),o.x=u.x+i*l.x,o.y=u.y+i*l.y,o.z=u.z+i*l.z,h.push(o.x,o.y,o.z)}}function g(){for(let b=1;b<=t;b++)for(let w=1;w<=r;w++){const T=(r+1)*(b-1)+(w-1),E=(r+1)*b+(w-1),_=(r+1)*b+w,C=(r+1)*(b-1)+w;v.push(T,E,C),v.push(E,_,C)}}function f(){for(let b=0;b<=t;b++)for(let w=0;w<=r;w++)c.x=b/t,c.y=w/r,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Tc(new j0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class D0 extends je{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new L,s=new L;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,y=p+m;v<y;v+=3)for(let x=0;x<3;x++){const g=o.getX(v+x),f=o.getX(v+(x+1)%3);r.fromBufferAttribute(a,g),s.fromBufferAttribute(a,f),lE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,h=3*o+(c+1)%3;r.fromBufferAttribute(a,u),s.fromBufferAttribute(a,h),lE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Me(t,3))}}}function lE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i,r),!0)}var cE=Object.freeze({__proto__:null,BoxGeometry:Wr,BoxBufferGeometry:Wr,CircleGeometry:fc,CircleBufferGeometry:fc,ConeGeometry:gc,ConeBufferGeometry:gc,CylinderGeometry:qs,CylinderBufferGeometry:qs,DodecahedronGeometry:yc,DodecahedronBufferGeometry:yc,EdgesGeometry:P0,ExtrudeGeometry:mr,ExtrudeBufferGeometry:mr,IcosahedronGeometry:vc,IcosahedronBufferGeometry:vc,LatheGeometry:xc,LatheBufferGeometry:xc,OctahedronGeometry:po,OctahedronBufferGeometry:po,PlaneGeometry:uo,PlaneBufferGeometry:uo,PolyhedronGeometry:pr,PolyhedronBufferGeometry:pr,RingGeometry:bc,RingBufferGeometry:bc,ShapeGeometry:mo,ShapeBufferGeometry:mo,SphereGeometry:fo,SphereBufferGeometry:fo,TetrahedronGeometry:wc,TetrahedronBufferGeometry:wc,TorusGeometry:Sc,TorusBufferGeometry:Sc,TorusKnotGeometry:_c,TorusKnotBufferGeometry:_c,TubeGeometry:Tc,TubeBufferGeometry:Tc,WireframeGeometry:D0});class O0 extends rn{constructor(e){super(),this.type="ShadowMaterial",this.color=new be(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}O0.prototype.isShadowMaterial=!0;class hg extends rn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Co,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}hg.prototype.isMeshStandardMaterial=!0;class F0 extends hg{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new de(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new be(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}F0.prototype.isMeshPhysicalMaterial=!0;class B0 extends rn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new be(16777215),this.specular=new be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Co,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}B0.prototype.isMeshPhongMaterial=!0;class z0 extends rn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Co,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}z0.prototype.isMeshToonMaterial=!0;class U0 extends rn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Co,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}U0.prototype.isMeshNormalMaterial=!0;class G0 extends rn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}G0.prototype.isMeshLambertMaterial=!0;class H0 extends rn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Co,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}H0.prototype.isMeshMatcapMaterial=!0;class V0 extends sn{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}V0.prototype.isLineDashedMaterial=!0;var Sq=Object.freeze({__proto__:null,ShadowMaterial:O0,SpriteMaterial:ng,RawShaderMaterial:Oc,ShaderMaterial:$r,PointsMaterial:Po,MeshPhysicalMaterial:F0,MeshStandardMaterial:hg,MeshPhongMaterial:B0,MeshToonMaterial:z0,MeshNormalMaterial:U0,MeshLambertMaterial:G0,MeshDepthMaterial:Zf,MeshDistanceMaterial:eg,MeshBasicMaterial:Zr,MeshMatcapMaterial:H0,LineDashedMaterial:V0,LineBasicMaterial:sn,Material:rn});const xt={arraySlice:function(n,e,t){return xt.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i},sortedArray:function(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r},flattenJSON:function(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)},subclip:function(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){h.push(c.times[m]);for(let y=0;y<u;++y)p.push(c.values[m*u+y])}}h.length!==0&&(c.times=xt.convertArray(h,c.times.constructor),c.values=xt.convertArray(p,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=o.times.length-1;let y;if(s<=o.times[0]){const g=u,f=h-u;y=xt.arraySlice(o.values,g,f)}else if(s>=o.times[v]){const g=v*h+u,f=g+h-u;y=xt.arraySlice(o.values,g,f)}else{const g=o.createInterpolant(),f=u,b=h-u;g.evaluate(s),y=xt.arraySlice(g.resultBuffer,f,b)}l==="quaternion"&&new mn().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let g=0;g<x;++g){const f=g*m+p;if(l==="quaternion")mn.multiplyQuaternionsFlat(c.values,f,y,0,c.values,f);else{const b=m-p*2;for(let w=0;w<b;++w)c.values[f+w]-=y[w]}}}return n.blendMode=g0,n}};class Yr{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Yr.prototype.beforeStart_=Yr.prototype.copySampleValue_;Yr.prototype.afterEnd_=Yr.prototype.copySampleValue_;class fN extends Yr{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Na,endingEnd:Na}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Ia:s=e,o=2*t-i;break;case vu:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ia:a=e,l=2*i-t;break;case vu:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),y=v*v,x=y*v,g=-p*x+2*p*y-p*v,f=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,b=(-1-m)*x+(1.5+m)*y+.5*v,w=m*x-m*y;for(let T=0;T!==o;++T)s[T]=g*a[u+T]+f*a[c+T]+b*a[l+T]+w*a[h+T];return s}}class W0 extends Yr{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-t)/(r-t),h=1-u;for(let p=0;p!==o;++p)s[p]=a[c+p]*h+a[l+p]*u;return s}}class gN extends Yr{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class qi{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xt.convertArray(t,this.TimeBufferType),this.values=xt.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:xt.convertArray(e.times,Array),values:xt.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new gN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new W0(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new fN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case gu:t=this.InterpolantFactoryMethodDiscrete;break;case yu:t=this.InterpolantFactoryMethodLinear;break;case sm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return gu;case this.InterpolantFactoryMethodLinear:return yu;case this.InterpolantFactoryMethodSmooth:return sm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=xt.arraySlice(i,s,a),this.values=xt.arraySlice(this.values,s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&xt.isTypedArray(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=xt.arraySlice(this.times),t=xt.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===sm,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(r)l=!0;else{const h=o*i,p=h-i,m=h+i;for(let v=0;v!==i;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const h=o*i,p=a*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=xt.arraySlice(e,0,a),this.values=xt.arraySlice(t,0,a*i)):(this.times=e,this.values=t),this}clone(){const e=xt.arraySlice(this.times,0),t=xt.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}qi.prototype.TimeBufferType=Float32Array;qi.prototype.ValueBufferType=Float32Array;qi.prototype.DefaultInterpolation=yu;class Ro extends qi{}Ro.prototype.ValueTypeName="bool";Ro.prototype.ValueBufferType=Array;Ro.prototype.DefaultInterpolation=gu;Ro.prototype.InterpolantFactoryMethodLinear=void 0;Ro.prototype.InterpolantFactoryMethodSmooth=void 0;class $0 extends qi{}$0.prototype.ValueTypeName="color";class Tu extends qi{}Tu.prototype.ValueTypeName="number";class yN extends Yr{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let c=e*o;for(let u=c+o;c!==u;c+=4)mn.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Bc extends qi{InterpolantFactoryMethodLinear(e){return new yN(this.times,this.values,this.getValueSize(),e)}}Bc.prototype.ValueTypeName="quaternion";Bc.prototype.DefaultInterpolation=yu;Bc.prototype.InterpolantFactoryMethodSmooth=void 0;class Lo extends qi{}Lo.prototype.ValueTypeName="string";Lo.prototype.ValueBufferType=Array;Lo.prototype.DefaultInterpolation=gu;Lo.prototype.InterpolantFactoryMethodLinear=void 0;Lo.prototype.InterpolantFactoryMethodSmooth=void 0;class Eu extends qi{}Eu.prototype.ValueTypeName="vector";class Cu{constructor(e,t=-1,i,r=Vf){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ni(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Tq(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(qi.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=xt.getKeyframeOrder(l);l=xt.sortedArray(l,1,u),c=xt.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new Tu(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,v,y){if(m.length!==0){const x=[],g=[];xt.flattenJSON(m,x,g,v),x.length!==0&&y.push(new h(p,x,g))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const x=[],g=[];for(let f=0;f!==p[v].morphTargets.length;++f){const b=p[v];x.push(b.time),g.push(b.morphTarget===y?1:0)}r.push(new Tu(".morphTargetInfluence["+y+"]",x,g))}l=m.length*(a||1)}else{const m=".bones["+t[h].name+"]";i(Eu,m+".position",p,"pos",r),i(Bc,m+".quaternion",p,"rot",r),i(Eu,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function _q(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tu;case"vector":case"vector2":case"vector3":case"vector4":return Eu;case"color":return $0;case"quaternion":return Bc;case"bool":case"boolean":return Ro;case"string":return Lo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Tq(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=_q(n.type);if(n.times===void 0){const t=[],i=[];xt.flattenJSON(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const go={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class q0{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){o++,s===!1&&r.onStart!==void 0&&r.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,r.onProgress!==void 0&&r.onProgress(u,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const vN=new q0;class In{constructor(e){this.manager=e!==void 0?e:vN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Cr={};class fr extends In{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=go.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Cr[e]!==void 0){Cr[e].push({onLoad:t,onProgress:i,onError:r});return}Cr[e]=[],Cr[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(a).then(o=>{if(o.status===200||o.status===0){o.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=Cr[e],c=o.body.getReader(),u=o.headers.get("Content-Length"),h=u?parseInt(u):0,p=h!==0;let m=0;return new ReadableStream({start(v){y();function y(){c.read().then(({done:x,value:g})=>{if(x)v.close();else{m+=g.byteLength;const f=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let b=0,w=l.length;b<w;b++){const T=l[b];T.onProgress&&T.onProgress(f)}v.enqueue(g),y()}})}}})}else throw Error(`fetch for "${o.url}" responded with ${o.status}: ${o.statusText}`)}).then(o=>{const l=new Response(o);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(o=>{go.add(e,o);const l=Cr[e];delete Cr[e];for(let c=0,u=l.length;c<u;c++){const h=l[c];h.onLoad&&h.onLoad(o)}this.manager.itemEnd(e)}).catch(o=>{const l=Cr[e];delete Cr[e];for(let c=0,u=l.length;c<u;c++){const h=l[c];h.onError&&h.onError(o)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Eq extends In{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new fr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Cu.parse(e[i]);t.push(r)}return t}}class Cq extends In{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new A0,l=new fr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(p){const m=s.parse(p,!0);a[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(o.minFilter=Yt),o.image=a,o.format=m.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)u(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)a[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),a[v].format=p.format,a[v].width=p.width,a[v].height=p.height}o.image=a}else o.image.width=p.width,o.image.height=p.height,o.mipmaps=p.mipmaps;p.mipmapCount===1&&(o.minFilter=Yt),o.format=p.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class Mu extends In{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=go.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=qf("img");function l(){u(),go.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class xN extends In{constructor(e){super(e)}load(e,t,i,r){const s=new Dc,a=new Mu(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class bN extends In{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Qa,o=new fr(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:un,a.wrapT=c.wrapT!==void 0?c.wrapT:un,a.magFilter=c.magFilter!==void 0?c.magFilter:Yt,a.minFilter=c.minFilter!==void 0?c.minFilter:Yt,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Eo),c.mipmapCount===1&&(a.minFilter=Yt),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c))},i,r),a}}class wN extends In{constructor(e){super(e)}load(e,t,i,r){const s=new Xt,a=new Mu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Wi extends Ke{constructor(e,t=1){super(),this.type="Light",this.color=new be(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Wi.prototype.isLight=!0;class Y0 extends Wi{constructor(e,t,i){super(e,i),this.type="HemisphereLight",this.position.copy(Ke.DefaultUp),this.updateMatrix(),this.groundColor=new be(t)}copy(e){return Wi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Y0.prototype.isHemisphereLight=!0;const dE=new Re,uE=new L,hE=new L;class K0{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new de(512,512),this.map=null,this.mapPass=null,this.matrix=new Re,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wu,this._frameExtents=new de(1,1),this._viewportCount=1,this._viewports=[new ot(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;uE.setFromMatrixPosition(e.matrixWorld),t.position.copy(uE),hE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(hE),t.updateMatrixWorld(),dE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SN extends K0{constructor(){super(new Zt(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,i=xu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}SN.prototype.isSpotLightShadow=!0;class X0 extends Wi{constructor(e,t,i=0,r=Math.PI/3,s=0,a=1){super(e,t),this.type="SpotLight",this.position.copy(Ke.DefaultUp),this.updateMatrix(),this.target=new Ke,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.shadow=new SN}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}X0.prototype.isSpotLight=!0;const pE=new Re,dd=new L,_v=new L;class _N extends K0{constructor(){super(new Zt(90,1,.5,500)),this._frameExtents=new de(4,2),this._viewportCount=6,this._viewports=[new ot(2,1,1,1),new ot(0,1,1,1),new ot(3,1,1,1),new ot(1,1,1,1),new ot(3,0,1,1),new ot(1,0,1,1)],this._cubeDirections=[new L(1,0,0),new L(-1,0,0),new L(0,0,1),new L(0,0,-1),new L(0,1,0),new L(0,-1,0)],this._cubeUps=[new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,0,1),new L(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),dd.setFromMatrixPosition(e.matrixWorld),i.position.copy(dd),_v.copy(i.position),_v.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(_v),i.updateMatrixWorld(),r.makeTranslation(-dd.x,-dd.y,-dd.z),pE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pE)}}_N.prototype.isPointLightShadow=!0;class J0 extends Wi{constructor(e,t,i=0,r=1){super(e,t),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new _N}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}J0.prototype.isPointLight=!0;class TN extends K0{constructor(){super(new $u(-5,5,5,-5,.5,500))}}TN.prototype.isDirectionalLightShadow=!0;class Q0 extends Wi{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Ke.DefaultUp),this.updateMatrix(),this.target=new Ke,this.shadow=new TN}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Q0.prototype.isDirectionalLight=!0;class Z0 extends Wi{constructor(e,t){super(e,t),this.type="AmbientLight"}}Z0.prototype.isAmbientLight=!0;class eS extends Wi{constructor(e,t,i=10,r=10){super(e,t),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}eS.prototype.isRectAreaLight=!0;class tS{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new L)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}tS.prototype.isSphericalHarmonics3=!0;class Qu extends Wi{constructor(e=new tS,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Qu.prototype.isLightProbe=!0;class EN extends In{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new fr(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=new Sq[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.format!==void 0&&(r.format=e.format),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new be().setHex(a.value);break;case"v2":r.uniforms[s].value=new de().fromArray(a.value);break;case"v3":r.uniforms[s].value=new L().fromArray(a.value);break;case"v4":r.uniforms[s].value=new ot().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Kt().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Re().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new de().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new de().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}}class Zm{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class nS extends je{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}nS.prototype.isInstancedBufferGeometry=!0;class CN extends In{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new fr(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),f=kl(x.type,g),b=new Ao(f,x.stride);return b.uuid=x.uuid,t[v]=b,b}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const a=e.isInstancedBufferGeometry?new nS:new je,o=e.data.index;if(o!==void 0){const m=kl(o.type,o.array);a.setIndex(new Qe(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);y=new $s(x,v.itemSize,v.offset,v.normalized)}else{const x=kl(v.type,v.array),g=v.isInstancedBufferAttribute?ho:Qe;y=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),a.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let x=0,g=v.length;x<g;x++){const f=v[x];let b;if(f.isInterleavedBufferAttribute){const w=r(e.data,f.data);b=new $s(w,f.itemSize,f.offset,f.normalized)}else{const w=kl(f.type,f.array);b=new Qe(w,f.itemSize,f.normalized)}f.name!==void 0&&(b.name=f.name),y.push(b)}a.morphAttributes[m]=y}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const y=h[m];a.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new L;p.center!==void 0&&m.fromArray(p.center),a.boundingSphere=new oa(m,p.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Mq extends In{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?Zm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new fr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Zm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new fr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let h=!1;for(const p in a)if(a[p]instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new dr().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new ag().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new CN;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in cE?o=cE[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),o.isBufferGeometry===!0&&l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new EN;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const h=l.materials[u];i[h.uuid]===void 0&&(i[h.uuid]=s.parse(h)),c.push(i[h.uuid])}r[l.uuid]=c}else i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Cu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(u)}else return l.data?{data:kl(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new q0(t);s=new Mu(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){r[h.uuid]=[];for(let m=0,v=p.length;m<v;m++){const y=p[m],x=o(y);x!==null&&(x instanceof HTMLImageElement?r[h.uuid].push(x):r[h.uuid].push(new Qa(x.data,x.width,x.height)))}}else{const m=o(h.url);m!==null&&(r[h.uuid]=m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:kl(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Mu(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(let u=0,h=c.length;u<h;u++){const p=c[u],m=await s(p);m!==null&&(m instanceof HTMLImageElement?i[l.uuid].push(m):i[l.uuid].push(new Qa(m.data,m.width,m.height)))}}else{const u=await s(l.url);u!==null&&(i[l.uuid]=u)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let l;const c=t[o.image];Array.isArray(c)?(l=new Dc(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new Qa(c.data,c.width,c.height):l=new Xt(c),c&&(l.needsUpdate=!0)),l.uuid=o.uuid,o.name!==void 0&&(l.name=o.name),o.mapping!==void 0&&(l.mapping=i(o.mapping,kq)),o.offset!==void 0&&l.offset.fromArray(o.offset),o.repeat!==void 0&&l.repeat.fromArray(o.repeat),o.center!==void 0&&l.center.fromArray(o.center),o.rotation!==void 0&&(l.rotation=o.rotation),o.wrap!==void 0&&(l.wrapS=i(o.wrap[0],mE),l.wrapT=i(o.wrap[1],mE)),o.format!==void 0&&(l.format=o.format),o.type!==void 0&&(l.type=o.type),o.encoding!==void 0&&(l.encoding=o.encoding),o.minFilter!==void 0&&(l.minFilter=i(o.minFilter,fE)),o.magFilter!==void 0&&(l.magFilter=i(o.magFilter,fE)),o.anisotropy!==void 0&&(l.anisotropy=o.anisotropy),o.flipY!==void 0&&(l.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(l.unpackAlignment=o.unpackAlignment),o.userData!==void 0&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,i,r,s){let a;function o(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let u,h;switch(e.type){case"Scene":a=new tg,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new be(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Yu(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new qu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Zt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new $u(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Z0(e.color,e.intensity);break;case"DirectionalLight":a=new Q0(e.color,e.intensity);break;case"PointLight":a=new J0(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new eS(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new X0(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Y0(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Qu().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),h=l(e.material),a=new rg(u,h),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),h=l(e.material),a=new Ht(u,h);break;case"InstancedMesh":u=o(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;a=new M0(u,h,p),a.instanceMatrix=new ho(new Float32Array(m.array),16),v!==void 0&&(a.instanceColor=new ho(new Float32Array(v.array),v.itemSize));break;case"LOD":a=new aN;break;case"Line":a=new qr(o(e.geometry),l(e.material));break;case"LineLoop":a=new k0(o(e.geometry),l(e.material));break;case"LineSegments":a=new Hn(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Ku(o(e.geometry),l(e.material));break;case"Sprite":a=new ig(l(e.material));break;case"Group":a=new ja;break;case"Bone":a=new sg;break;default:a=new Ke}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)a.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=a.getObjectByProperty("uuid",v.object);y!==void 0&&a.addLevel(y,v.distance)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const kq={UVMapping:Hf,CubeReflectionMapping:_o,CubeRefractionMapping:To,EquirectangularReflectionMapping:uu,EquirectangularRefractionMapping:hu,CubeUVReflectionMapping:jc,CubeUVRefractionMapping:Hu},mE={RepeatWrapping:pu,ClampToEdgeWrapping:un,MirroredRepeatWrapping:mu},fE={NearestFilter:Gt,NearestMipmapNearestFilter:Jm,NearestMipmapLinearFilter:Qm,LinearFilter:Yt,LinearMipmapNearestFilter:f0,LinearMipmapLinearFilter:Eo};class MN extends In{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=go.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){go.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}MN.prototype.isImageBitmapLoader=!0;let Np;const iS={getContext:function(){return Np===void 0&&(Np=new(window.AudioContext||window.webkitAudioContext)),Np},setContext:function(n){Np=n}};class kN extends In{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new fr(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{const l=o.slice(0);iS.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class AN extends Qu{constructor(e,t,i=1){super(void 0,i);const r=new be().set(e),s=new be().set(t),a=new L(r.r,r.g,r.b),o=new L(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(l),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(c)}}AN.prototype.isHemisphereLightProbe=!0;class PN extends Qu{constructor(e,t=1){super(void 0,t);const i=new be().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}PN.prototype.isAmbientLightProbe=!0;const gE=new Re,yE=new Re;class Aq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Zt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Zt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),s=t.eyeSep/2,a=s*t.near/t.focus,o=t.near*Math.tan(Ja*t.fov*.5)/t.zoom;let l,c;yE.elements[12]=-s,gE.elements[12]=s,l=-o*t.aspect+a,c=o*t.aspect+a,r.elements[0]=2*t.near/(c-l),r.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(r),l=-o*t.aspect-a,c=o*t.aspect-a,r.elements[0]=2*t.near/(c-l),r.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gE)}}class RN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=vE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=vE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function vE(){return(typeof performance>"u"?Date:performance).now()}const va=new L,xE=new mn,Pq=new L,xa=new L;class Rq extends Ke{constructor(){super(),this.type="AudioListener",this.context=iS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new RN}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(va,xE,Pq),xa.set(0,0,-1).applyQuaternion(xE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(va.x,r),t.positionY.linearRampToValueAtTime(va.y,r),t.positionZ.linearRampToValueAtTime(va.z,r),t.forwardX.linearRampToValueAtTime(xa.x,r),t.forwardY.linearRampToValueAtTime(xa.y,r),t.forwardZ.linearRampToValueAtTime(xa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(va.x,va.y,va.z),t.setOrientation(xa.x,xa.y,xa.z,i.x,i.y,i.z)}}class rS extends Ke{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ba=new L,bE=new mn,Lq=new L,wa=new L;class Nq extends rS{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ba,bE,Lq),wa.set(0,0,1).applyQuaternion(bE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ba.x,i),t.positionY.linearRampToValueAtTime(ba.y,i),t.positionZ.linearRampToValueAtTime(ba.z,i),t.orientationX.linearRampToValueAtTime(wa.x,i),t.orientationY.linearRampToValueAtTime(wa.y,i),t.orientationZ.linearRampToValueAtTime(wa.z,i)}else t.setPosition(ba.x,ba.y,ba.z),t.setOrientation(wa.x,wa.y,wa.z)}}class LN{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class NN{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){mn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;mn.multiplyQuaternionsFlat(e,a,e,t,e,i),mn.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const sS="\\[\\]\\.:\\/",Iq=new RegExp("["+sS+"]","g"),aS="[^"+sS+"]",jq="[^"+sS.replace("\\.","")+"]",Dq=/((?:WC+[\/:])*)/.source.replace("WC",aS),Oq=/(WCOD+)?/.source.replace("WCOD",jq),Fq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",aS),Bq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",aS),zq=new RegExp("^"+Dq+Oq+Fq+Bq+"$"),Uq=["material","materials","bones"];class Gq{constructor(e,t,i){const r=i||et.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class et{constructor(e,t,i){this.path=t,this.parsedPath=i||et.parseTrackName(t),this.node=et.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new et.Composite(e,t,i):new et(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Iq,"")}static parseTrackName(e){const t=zq.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Uq.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=et.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}et.Composite=Gq;et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};et.prototype.GetterByBindingType=[et.prototype._getValue_direct,et.prototype._getValue_array,et.prototype._getValue_arrayElement,et.prototype._getValue_toArray];et.prototype.SetterByBindingTypeAndVersioning=[[et.prototype._setValue_direct,et.prototype._setValue_direct_setNeedsUpdate,et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[et.prototype._setValue_array,et.prototype._setValue_array_setNeedsUpdate,et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[et.prototype._setValue_arrayElement,et.prototype._setValue_arrayElement_setNeedsUpdate,et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[et.prototype._setValue_fromArray,et.prototype._setValue_fromArray_setNeedsUpdate,et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class IN{constructor(){this.uuid=ni(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,x=a;y!==x;++y)s[y].push(new et(p,i[y],r[y]))}else if(v<c){o=e[v];const y=--c,x=e[y];t[x.uuid]=v,e[v]=x,t[m]=y,e[y]=p;for(let g=0,f=a;g!==f;++g){const b=s[g],w=b[y];let T=b[v];b[v]=w,T===void 0&&(T=new et(p,i[g],r[g])),b[y]=T}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,p=e[h];t[p.uuid]=u,e[u]=p,t[c]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const y=i[m],x=y[h],g=y[u];y[u]=x,y[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const p=--s,m=e[p],v=--a,y=e[v];t[m.uuid]=h,e[h]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let x=0,g=r;x!==g;++x){const f=i[x],b=f[p],w=f[v];f[h]=b,f[p]=w,f.pop()}}else{const p=--a,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,y=r;v!==y;++v){const x=i[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(h);for(let p=u,m=l.length;p!==m;++p){const v=l[p];h[p]=new et(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}IN.prototype.isAnimationObjectGroup=!0;class Hq{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Na,endingEnd:Na};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=TL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;if(l<0||i===0)return;this._startTime=null,t=i*l}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case g0:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case Vf:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===EL;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===_L){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ia,r.endingEnd=Ia):(e?r.endingStart=this.zeroSlopeAtStart?Ia:Na:r.endingStart=vu,t?r.endingEnd=this.zeroSlopeAtEnd?Ia:Na:r.endingEnd=vu)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}class jN extends aa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=u[m];if(v!==void 0)a[h]=v;else{if(v=a[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new NN(et.create(i,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[h]=v}o[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=o.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new W0(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?Cu.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=Vf),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new Hq(this,a,t,i);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Cu.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}jN.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class pg{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new pg(this.value.clone===void 0?this.value:this.value.clone())}}class DN extends Ao{constructor(e,t,i=1){super(e,t),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}DN.prototype.isInstancedInterleavedBuffer=!0;class ON{constructor(e,t,i,r,s){this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}ON.prototype.isGLBufferAttribute=!0;class Vq{constructor(e,t,i=0,r=1/0){this.ray=new la(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new S0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return Mb(e,this,i,t),i.sort(wE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Mb(e[r],this,i,t);return i.sort(wE),i}}function wE(n,e){return n.distance-e.distance}function Mb(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,a=r.length;s<a;s++)Mb(r[s],e,t,!0)}}class Wq{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(dn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $q{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const SE=new de;class zc{constructor(e=new de(1/0,1/0),t=new de(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=SE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return SE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}zc.prototype.isBox2=!0;const _E=new L,Ip=new L;class FN{constructor(e=new L,t=new L){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){_E.subVectors(e,this.start),Ip.subVectors(this.end,this.start);const i=Ip.dot(Ip);let s=Ip.dot(_E)/i;return t&&(s=dn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const TE=new L;class qq extends Ke{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const i=new je,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Me(r,3));const s=new sn({fog:!1,toneMapped:!1});this.cone=new Hn(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),TE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(TE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const us=new L,jp=new Re,Tv=new Re;class BN extends Hn{constructor(e){const t=zN(e),i=new je,r=[],s=[],a=new be(0,0,1),o=new be(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Me(r,3)),i.setAttribute("color",new Me(s,3));const l=new sn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Tv.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(jp.multiplyMatrices(Tv,o.matrixWorld),us.setFromMatrixPosition(jp),r.setXYZ(a,us.x,us.y,us.z),jp.multiplyMatrices(Tv,o.parent.matrixWorld),us.setFromMatrixPosition(jp),r.setXYZ(a+1,us.x,us.y,us.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function zN(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,zN(n.children[t]));return e}class Yq extends Ht{constructor(e,t,i){const r=new fo(t,4,2),s=new Zr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Kq=new L,EE=new be,CE=new be;class Xq extends Ke{constructor(e,t,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new po(t);r.rotateY(Math.PI*.5),this.material=new Zr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Qe(a,3)),this.add(new Ht(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");EE.copy(this.light.color),CE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?EE:CE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(Kq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class UN extends Hn{constructor(e=10,t=10,i=4473924,r=8947848){i=new be(i),r=new be(r);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let p=0,m=0,v=-o;p<=t;p++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const y=p===s?i:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new je;u.setAttribute("position",new Me(l,3)),u.setAttribute("color",new Me(c,3));const h=new sn({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}}class Jq extends Hn{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new be(s),a=new be(a);const o=[],l=[];for(let h=0;h<=t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;o.push(0,0,0),o.push(m,0,v);const y=h&1?s:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<=i;h++){const p=h&1?s:a,m=e-e/i*h;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m;o.push(x,0,g),l.push(p.r,p.g,p.b),y=(v+1)/r*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m,o.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new je;c.setAttribute("position",new Me(o,3)),c.setAttribute("color",new Me(l,3));const u=new sn({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}}const ME=new L,Dp=new L,kE=new L;class Qq extends Ke{constructor(e,t,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,t===void 0&&(t=1);let r=new je;r.setAttribute("position",new Me([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new sn({fog:!1,toneMapped:!1});this.lightPlane=new qr(r,s),this.add(this.lightPlane),r=new je,r.setAttribute("position",new Me([0,0,0,0,0,1],3)),this.targetLine=new qr(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ME.setFromMatrixPosition(this.light.matrixWorld),Dp.setFromMatrixPosition(this.light.target.matrixWorld),kE.subVectors(Dp,ME),this.lightPlane.lookAt(Dp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dp),this.targetLine.scale.z=kE.length()}}const Op=new L,At=new Vu;class Zq extends Hn{constructor(e){const t=new je,i=new sn({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={},o=new be(16755200),l=new be(16711680),c=new be(43775),u=new be(16777215),h=new be(3355443);p("n1","n2",o),p("n2","n4",o),p("n4","n3",o),p("n3","n1",o),p("f1","f2",o),p("f2","f4",o),p("f4","f3",o),p("f3","f1",o),p("n1","f1",o),p("n2","f2",o),p("n3","f3",o),p("n4","f4",o),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",u),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h);function p(v,y,x){m(v,x),m(y,x)}function m(v,y){r.push(0,0,0),s.push(y.r,y.g,y.b),a[v]===void 0&&(a[v]=[]),a[v].push(r.length/3-1)}t.setAttribute("position",new Me(r,3)),t.setAttribute("color",new Me(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;At.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),It("c",t,e,At,0,0,-1),It("t",t,e,At,0,0,1),It("n1",t,e,At,-i,-r,-1),It("n2",t,e,At,i,-r,-1),It("n3",t,e,At,-i,r,-1),It("n4",t,e,At,i,r,-1),It("f1",t,e,At,-i,-r,1),It("f2",t,e,At,i,-r,1),It("f3",t,e,At,-i,r,1),It("f4",t,e,At,i,r,1),It("u1",t,e,At,i*.7,r*1.1,-1),It("u2",t,e,At,-i*.7,r*1.1,-1),It("u3",t,e,At,0,r*2,-1),It("cf1",t,e,At,-i,0,1),It("cf2",t,e,At,i,0,1),It("cf3",t,e,At,0,-r,1),It("cf4",t,e,At,0,r,1),It("cn1",t,e,At,-i,0,-1),It("cn2",t,e,At,i,0,-1),It("cn3",t,e,At,0,-r,-1),It("cn4",t,e,At,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function It(n,e,t,i,r,s,a){Op.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],Op.x,Op.y,Op.z)}}const Fp=new oi;class GN extends Hn{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new je;s.setIndex(new Qe(i,1)),s.setAttribute("position",new Qe(r,3)),super(s,new sn({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Fp.setFromObject(this.object),Fp.isEmpty())return;const t=Fp.min,i=Fp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Hn.prototype.copy.call(this,e),this.object=e.object,this}}class eY extends Hn{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new je;s.setIndex(new Qe(i,1)),s.setAttribute("position",new Me(r,3)),super(s,new sn({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class tY extends qr{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new je;a.setAttribute("position",new Me(s,3)),a.computeBoundingSphere(),super(a,new sn({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new je;l.setAttribute("position",new Me(o,3)),l.computeBoundingSphere(),this.add(new Ht(l,new Zr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?jt:lo,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const AE=new L;let Bp,Ev;class nY extends Ke{constructor(e=new L(0,0,1),t=new L(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",Bp===void 0&&(Bp=new je,Bp.setAttribute("position",new Me([0,0,0,0,1,0],3)),Ev=new qs(0,.5,1,5,1),Ev.translate(0,-.5,0)),this.position.copy(t),this.line=new qr(Bp,new sn({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ht(Ev,new Zr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{AE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(AE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class HN extends Hn{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new je;r.setAttribute("position",new Me(t,3)),r.setAttribute("color",new Me(i,3));const s=new sn({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new be,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iY{constructor(){this.type="ShapePath",this.color=new be,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new bu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function i(f){const b=[];for(let w=0,T=f.length;w<T;w++){const E=f[w],_=new dr;_.curves=E.curves,b.push(_)}return b}function r(f,b){const w=b.length;let T=!1;for(let E=w-1,_=0;_<w;E=_++){let C=b[E],A=b[_],P=A.x-C.x,R=A.y-C.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(C=b[_],P=-P,A=b[E],R=-R),f.y<C.y||f.y>A.y)continue;if(f.y===C.y){if(f.x===C.x)return!0}else{const G=R*(f.x-C.x)-P*(f.y-C.y);if(G===0)return!0;if(G<0)continue;T=!T}}else{if(f.y!==C.y)continue;if(A.x<=f.x&&f.x<=C.x||C.x<=f.x&&f.x<=A.x)return!0}}return T}const s=ur.isClockWise,a=this.subPaths;if(a.length===0)return[];if(t===!0)return i(a);let o,l,c;const u=[];if(a.length===1)return l=a[0],c=new dr,c.curves=l.curves,u.push(c),u;let h=!s(a[0].getPoints());h=e?!h:h;const p=[],m=[];let v=[],y=0,x;m[y]=void 0,v[y]=[];for(let f=0,b=a.length;f<b;f++)l=a[f],x=l.getPoints(),o=s(x),o=e?!o:o,o?(!h&&m[y]&&y++,m[y]={s:new dr,p:x},m[y].s.curves=l.curves,h&&y++,v[y]=[]):v[y].push({h:l,p:x[0]});if(!m[0])return i(a);if(m.length>1){let f=!1;const b=[];for(let w=0,T=m.length;w<T;w++)p[w]=[];for(let w=0,T=m.length;w<T;w++){const E=v[w];for(let _=0;_<E.length;_++){const C=E[_];let A=!0;for(let P=0;P<m.length;P++)r(C.p,m[P].p)&&(w!==P&&b.push({froms:w,tos:P,hole:_}),A?(A=!1,p[P].push(C)):f=!0);A&&p[w].push(C)}}b.length>0&&(f||(v=p))}let g;for(let f=0,b=m.length;f<b;f++){c=m[f].s,u.push(c),g=v[f];for(let w=0,T=g.length;w<T;w++)c.holes.push(g[w].h)}return u}}const VN=new Float32Array(1),rY=new Int32Array(VN.buffer);class sY{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),VN[0]=e;const t=rY[0];let i=t>>16&32768,r=t>>12&2047;const s=t>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&t&8388607,i):s<113?(r|=2048,i|=(r>>114-s)+(r>>113-s&1),i):(i|=s-112<<10|r>>1,i+=r&1,i)}}const aY=0,oY=1,lY=0,cY=1,dY=2;function uY(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function hY(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function pY(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ku(n,e)}function mY(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ig(n)}function fY(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ku(n,e)}function gY(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Po(n)}function yY(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Po(n)}function vY(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Po(n)}function xY(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new L(n,e,t)}function bY(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Qe(n,e).setUsage(pc)}function wY(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new OL(n,e)}function SY(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new FL(n,e)}function _Y(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new BL(n,e)}function TY(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new zL(n,e)}function EY(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Yf(n,e)}function CY(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new UL(n,e)}function MY(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Kf(n,e)}function kY(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Me(n,e)}function AY(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new HL(n,e)}ri.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(ri.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};bu.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function PY(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new HN(n)}function RY(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new GN(n,e)}function LY(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Hn(new P0(n.geometry),new sn({color:e!==void 0?e:16777215}))}UN.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};BN.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function NY(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Hn(new D0(n.geometry),new sn({color:e!==void 0?e:16777215}))}In.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Zm.extractUrlBase(n)};In.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function IY(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new fr(n)}function jY(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new bN(n)}zc.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};zc.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};zc.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};zc.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};oi.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};oi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};oi.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};oi.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};oi.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};oa.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Wu.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};FN.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Kt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Kt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Kt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Kt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Kt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Kt.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Re.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Re.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Re.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new L().setFromMatrixColumn(this,3)};Re.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Re.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Re.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Re.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Re.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Re.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Re.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Re.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Re.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Re.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Re.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Re.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Re.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Re.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Re.prototype.makeFrustum=function(n,e,t,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,i,t,r,s)};Re.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};tr.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};mn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};mn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};la.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};la.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};la.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Ot.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Ot.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Ot.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Ot.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Ot.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Ot.barycoordFromPoint=function(n,e,t,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ot.getBarycoord(n,e,t,i,r)};Ot.normal=function(n,e,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ot.getNormal(n,e,t,i)};dr.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};dr.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new mr(this,n)};dr.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new mo(this,n)};de.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};de.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};de.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};L.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};L.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};L.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};L.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};L.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};L.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};L.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};L.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};L.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ot.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ot.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ke.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Ke.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Ke.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Ke.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Ke.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Ke.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Ht.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Ht.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),CL},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});rg.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Zt.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(Wi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Qe.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===pc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(pc)}}});Qe.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?pc:hc),this};Qe.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Qe.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};je.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};je.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Qe(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};je.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};je.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};je.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};je.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};je.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(je.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Ao.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?pc:hc),this};Ao.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};mr.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};mr.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};mr.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};tg.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};pg.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(rn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new be}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===h0}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties($r.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});ct.prototype.clearTarget=function(n,e,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,i)};ct.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};ct.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};ct.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};ct.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};ct.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};ct.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};ct.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};ct.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};ct.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};ct.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};ct.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};ct.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};ct.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};ct.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};ct.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};ct.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};ct.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};ct.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};ct.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};ct.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};ct.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};ct.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};ct.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};ct.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(ct.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?sa:gn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(nN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function DY(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Jf(n,t)}Object.defineProperties(Ui.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});rS.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new kN().load(n,function(i){e.setBuffer(i)}),this};LN.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Xf.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Xf.prototype.clear=function(n,e,t,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,i)};Mo.crossOrigin=void 0;Mo.loadTexture=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new wN;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};Mo.loadTextureCube=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new xN;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};Mo.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Mo.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function OY(){console.error("THREE.CanvasRenderer has been removed")}function FY(){console.error("THREE.JSONLoader has been removed.")}const BY={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function zY(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function UY(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new je}function GY(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new je}function HY(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function VY(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function WY(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:d0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=d0);const $Y=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:A2,AddEquation:ka,AddOperation:E2,AdditiveAnimationBlendMode:g0,AdditiveBlending:ab,AlphaFormat:O2,AlwaysDepth:v2,AlwaysStencilFunc:RL,AmbientLight:Z0,AmbientLightProbe:PN,AnimationClip:Cu,AnimationLoader:Eq,AnimationMixer:jN,AnimationObjectGroup:IN,AnimationUtils:xt,ArcCurve:R0,ArrayCamera:C0,ArrowHelper:nY,Audio:rS,AudioAnalyser:LN,AudioContext:iS,AudioListener:Rq,AudioLoader:kN,AxesHelper:HN,AxisHelper:PY,BackSide:jt,BasicDepthPacking:kL,BasicShadowMap:M6,BinaryTextureLoader:jY,Bone:sg,BooleanKeyframeTrack:Ro,BoundingBoxHelper:RY,Box2:zc,Box3:oi,Box3Helper:eY,BoxBufferGeometry:Wr,BoxGeometry:Wr,BoxHelper:GN,BufferAttribute:Qe,BufferGeometry:je,BufferGeometryLoader:CN,ByteType:R2,Cache:go,Camera:Vu,CameraHelper:Zq,CanvasRenderer:OY,CanvasTexture:lN,CatmullRomCurve3:N0,CineonToneMapping:k2,CircleBufferGeometry:fc,CircleGeometry:fc,ClampToEdgeWrapping:un,Clock:RN,Color:be,ColorKeyframeTrack:$0,CompressedTexture:A0,CompressedTextureLoader:Cq,ConeBufferGeometry:gc,ConeGeometry:gc,CubeCamera:Xf,CubeReflectionMapping:_o,CubeRefractionMapping:To,CubeTexture:Dc,CubeTextureLoader:xN,CubeUVReflectionMapping:jc,CubeUVRefractionMapping:Hu,CubicBezierCurve:og,CubicBezierCurve3:I0,CubicInterpolant:fN,CullFaceBack:sb,CullFaceFront:i2,CullFaceFrontBack:C6,CullFaceNone:n2,Curve:ri,CurvePath:uN,CustomBlending:s2,CustomToneMapping:P2,CylinderBufferGeometry:qs,CylinderGeometry:qs,Cylindrical:$q,DataTexture:Qa,DataTexture2DArray:Qf,DataTexture3D:E0,DataTextureLoader:bN,DataUtils:sY,DecrementStencilOp:F6,DecrementWrapStencilOp:z6,DefaultLoadingManager:vN,DepthFormat:Xa,DepthStencilFormat:uc,DepthTexture:cN,DirectionalLight:Q0,DirectionalLightHelper:Qq,DiscreteInterpolant:gN,DodecahedronBufferGeometry:yc,DodecahedronGeometry:yc,DoubleSide:co,DstAlphaFactor:h2,DstColorFactor:m2,DynamicBufferAttribute:bY,DynamicCopyUsage:eW,DynamicDrawUsage:pc,DynamicReadUsage:J6,EdgesGeometry:P0,EdgesHelper:LY,EllipseCurve:Xu,EqualDepth:b2,EqualStencilFunc:V6,EquirectangularReflectionMapping:uu,EquirectangularRefractionMapping:hu,Euler:ko,EventDispatcher:aa,ExtrudeBufferGeometry:mr,ExtrudeGeometry:mr,FaceColors:cY,FileLoader:fr,FlatShading:h0,Float16BufferAttribute:GL,Float32Attribute:kY,Float32BufferAttribute:Me,Float64Attribute:AY,Float64BufferAttribute:HL,FloatType:rr,Fog:Yu,FogExp2:qu,Font:VY,FontLoader:HY,FrontSide:lo,Frustum:Wu,GLBufferAttribute:ON,GLSL1:nW,GLSL3:wb,GammaEncoding:Wf,GreaterDepth:S2,GreaterEqualDepth:w2,GreaterEqualStencilFunc:Y6,GreaterStencilFunc:$6,GridHelper:UN,Group:ja,HalfFloatType:Ya,HemisphereLight:Y0,HemisphereLightHelper:Xq,HemisphereLightProbe:AN,IcosahedronBufferGeometry:vc,IcosahedronGeometry:vc,ImageBitmapLoader:MN,ImageLoader:Mu,ImageUtils:Mo,ImmediateRenderObject:WY,IncrementStencilOp:O6,IncrementWrapStencilOp:B6,InstancedBufferAttribute:ho,InstancedBufferGeometry:nS,InstancedInterleavedBuffer:DN,InstancedMesh:M0,Int16Attribute:TY,Int16BufferAttribute:zL,Int32Attribute:CY,Int32BufferAttribute:UL,Int8Attribute:wY,Int8BufferAttribute:OL,IntType:N2,InterleavedBuffer:Ao,InterleavedBufferAttribute:$s,Interpolant:Yr,InterpolateDiscrete:gu,InterpolateLinear:yu,InterpolateSmooth:sm,InvertStencilOp:U6,JSONLoader:FY,KeepStencilOp:am,KeyframeTrack:qi,LOD:aN,LatheBufferGeometry:xc,LatheGeometry:xc,Layers:S0,LensFlare:zY,LessDepth:x2,LessEqualDepth:Xm,LessEqualStencilFunc:W6,LessStencilFunc:H6,Light:Wi,LightProbe:Qu,Line:qr,Line3:FN,LineBasicMaterial:sn,LineCurve:Ju,LineCurve3:dN,LineDashedMaterial:V0,LineLoop:k0,LinePieces:oY,LineSegments:Hn,LineStrip:aY,LinearEncoding:gn,LinearFilter:Yt,LinearInterpolant:W0,LinearMipMapLinearFilter:L6,LinearMipMapNearestFilter:R6,LinearMipmapLinearFilter:Eo,LinearMipmapNearestFilter:f0,LinearToneMapping:C2,Loader:In,LoaderUtils:Zm,LoadingManager:q0,LogLuvEncoding:ML,LoopOnce:_L,LoopPingPong:EL,LoopRepeat:TL,LuminanceAlphaFormat:B2,LuminanceFormat:F2,MOUSE:T6,Material:rn,MaterialLoader:EN,Math:aT,MathUtils:aT,Matrix3:Kt,Matrix4:Re,MaxEquation:db,Mesh:Ht,MeshBasicMaterial:Zr,MeshDepthMaterial:Zf,MeshDistanceMaterial:eg,MeshFaceMaterial:uY,MeshLambertMaterial:G0,MeshMatcapMaterial:H0,MeshNormalMaterial:U0,MeshPhongMaterial:B0,MeshPhysicalMaterial:F0,MeshStandardMaterial:hg,MeshToonMaterial:z0,MinEquation:cb,MirroredRepeatWrapping:mu,MixOperation:T2,MultiMaterial:hY,MultiplyBlending:lb,MultiplyOperation:Gu,NearestFilter:Gt,NearestMipMapLinearFilter:P6,NearestMipMapNearestFilter:A6,NearestMipmapLinearFilter:Qm,NearestMipmapNearestFilter:Jm,NeverDepth:y2,NeverStencilFunc:G6,NoBlending:Dr,NoColors:lY,NoToneMapping:Fs,NormalAnimationBlendMode:Vf,NormalBlending:Gl,NotEqualDepth:_2,NotEqualStencilFunc:q6,NumberKeyframeTrack:Tu,Object3D:Ke,ObjectLoader:Mq,ObjectSpaceNormalMap:PL,OctahedronBufferGeometry:po,OctahedronGeometry:po,OneFactor:c2,OneMinusDstAlphaFactor:p2,OneMinusDstColorFactor:f2,OneMinusSrcAlphaFactor:m0,OneMinusSrcColorFactor:u2,OrthographicCamera:$u,PCFShadowMap:u0,PCFSoftShadowMap:r2,PMREMGenerator:YL,ParametricGeometry:UY,Particle:mY,ParticleBasicMaterial:yY,ParticleSystem:fY,ParticleSystemMaterial:vY,Path:bu,PerspectiveCamera:Zt,Plane:tr,PlaneBufferGeometry:uo,PlaneGeometry:uo,PlaneHelper:tY,PointCloud:pY,PointCloudMaterial:gY,PointLight:J0,PointLightHelper:Yq,Points:Ku,PointsMaterial:Po,PolarGridHelper:Jq,PolyhedronBufferGeometry:pr,PolyhedronGeometry:pr,PositionalAudio:Nq,PropertyBinding:et,PropertyMixer:NN,QuadraticBezierCurve:lg,QuadraticBezierCurve3:cg,Quaternion:mn,QuaternionKeyframeTrack:Bc,QuaternionLinearInterpolant:yN,REVISION:d0,RGBADepthPacking:AL,RGBAFormat:pn,RGBAIntegerFormat:$2,RGBA_ASTC_10x10_Format:sL,RGBA_ASTC_10x5_Format:nL,RGBA_ASTC_10x6_Format:iL,RGBA_ASTC_10x8_Format:rL,RGBA_ASTC_12x10_Format:aL,RGBA_ASTC_12x12_Format:oL,RGBA_ASTC_4x4_Format:Y2,RGBA_ASTC_5x4_Format:K2,RGBA_ASTC_5x5_Format:X2,RGBA_ASTC_6x5_Format:J2,RGBA_ASTC_6x6_Format:Q2,RGBA_ASTC_8x5_Format:Z2,RGBA_ASTC_8x6_Format:eL,RGBA_ASTC_8x8_Format:tL,RGBA_BPTC_Format:lL,RGBA_ETC2_EAC_Format:bb,RGBA_PVRTC_2BPPV1_Format:vb,RGBA_PVRTC_4BPPV1_Format:yb,RGBA_S3TC_DXT1_Format:hb,RGBA_S3TC_DXT3_Format:pb,RGBA_S3TC_DXT5_Format:mb,RGBDEncoding:x0,RGBEEncoding:$f,RGBEFormat:z2,RGBFormat:Ka,RGBIntegerFormat:W2,RGBM16Encoding:v0,RGBM7Encoding:y0,RGB_ETC1_Format:q2,RGB_ETC2_Format:xb,RGB_PVRTC_2BPPV1_Format:gb,RGB_PVRTC_4BPPV1_Format:fb,RGB_S3TC_DXT1_Format:ub,RGFormat:H2,RGIntegerFormat:V2,RawShaderMaterial:Oc,Ray:la,Raycaster:Vq,RectAreaLight:eS,RedFormat:U2,RedIntegerFormat:G2,ReinhardToneMapping:M2,RepeatWrapping:pu,ReplaceStencilOp:D6,ReverseSubtractEquation:o2,RingBufferGeometry:bc,RingGeometry:bc,SRGB8_ALPHA8_ASTC_10x10_Format:bL,SRGB8_ALPHA8_ASTC_10x5_Format:yL,SRGB8_ALPHA8_ASTC_10x6_Format:vL,SRGB8_ALPHA8_ASTC_10x8_Format:xL,SRGB8_ALPHA8_ASTC_12x10_Format:wL,SRGB8_ALPHA8_ASTC_12x12_Format:SL,SRGB8_ALPHA8_ASTC_4x4_Format:cL,SRGB8_ALPHA8_ASTC_5x4_Format:dL,SRGB8_ALPHA8_ASTC_5x5_Format:uL,SRGB8_ALPHA8_ASTC_6x5_Format:hL,SRGB8_ALPHA8_ASTC_6x6_Format:pL,SRGB8_ALPHA8_ASTC_8x5_Format:mL,SRGB8_ALPHA8_ASTC_8x6_Format:fL,SRGB8_ALPHA8_ASTC_8x8_Format:gL,Scene:tg,SceneUtils:BY,ShaderChunk:$e,ShaderLib:Fi,ShaderMaterial:$r,ShadowMaterial:O0,Shape:dr,ShapeBufferGeometry:mo,ShapeGeometry:mo,ShapePath:iY,ShapeUtils:ur,ShortType:L2,Skeleton:ag,SkeletonHelper:BN,SkinnedMesh:rg,SmoothShading:k6,Sphere:oa,SphereBufferGeometry:fo,SphereGeometry:fo,Spherical:Wq,SphericalHarmonics3:tS,SplineCurve:dg,SpotLight:X0,SpotLightHelper:qq,Sprite:ig,SpriteMaterial:ng,SrcAlphaFactor:p0,SrcAlphaSaturateFactor:g2,SrcColorFactor:d2,StaticCopyUsage:Z6,StaticDrawUsage:hc,StaticReadUsage:X6,StereoCamera:Aq,StreamCopyUsage:tW,StreamDrawUsage:K6,StreamReadUsage:Q6,StringKeyframeTrack:Lo,SubtractEquation:a2,SubtractiveBlending:ob,TOUCH:E6,TangentSpaceNormalMap:Co,TetrahedronBufferGeometry:wc,TetrahedronGeometry:wc,TextGeometry:GY,Texture:Xt,TextureLoader:wN,TorusBufferGeometry:Sc,TorusGeometry:Sc,TorusKnotBufferGeometry:_c,TorusKnotGeometry:_c,Triangle:Ot,TriangleFanDrawMode:I6,TriangleStripDrawMode:N6,TrianglesDrawMode:CL,TubeBufferGeometry:Tc,TubeGeometry:Tc,UVMapping:Hf,Uint16Attribute:EY,Uint16BufferAttribute:Yf,Uint32Attribute:MY,Uint32BufferAttribute:Kf,Uint8Attribute:SY,Uint8BufferAttribute:FL,Uint8ClampedAttribute:_Y,Uint8ClampedBufferAttribute:BL,Uniform:pg,UniformsLib:ve,UniformsUtils:VL,UnsignedByteType:Vr,UnsignedInt248Type:Hl,UnsignedIntType:Pd,UnsignedShort4444Type:I2,UnsignedShort5551Type:j2,UnsignedShort565Type:D2,UnsignedShortType:fu,VSMShadowMap:Ml,Vector2:de,Vector3:L,Vector4:ot,VectorKeyframeTrack:Eu,Vertex:xY,VertexColors:dY,VideoTexture:oN,WebGL1Renderer:rN,WebGLCubeRenderTarget:Jf,WebGLMultipleRenderTargets:jL,WebGLMultisampleRenderTarget:w0,WebGLRenderTarget:Ui,WebGLRenderTargetCube:DY,WebGLRenderer:ct,WebGLUtils:iN,WireframeGeometry:D0,WireframeHelper:NY,WrapAroundEnding:vu,XHRLoader:IY,ZeroCurvatureEnding:Na,ZeroFactor:l2,ZeroSlopeEnding:Ia,ZeroStencilOp:j6,sRGBEncoding:sa},Symbol.toStringTag,{value:"Module"})),WN=()=>{const n=S.useRef(null),e=S.useRef(null),{theme:t}=lP();return S.useEffect(()=>{let i=null;return(async()=>{e.current&&(e.current.destroy(),e.current=null);try{const s=(await Yw(async()=>{const{default:o}=await import("./vanta.waves.min-BYwMnxA6.js").then(l=>l.v);return{default:o}},[])).default;if(!n.current)return;const a=t==="dark";i=s({el:n.current,THREE:$Y,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:a?0:6320523}),e.current=i}catch(s){console.error("Vanta init error:",s)}})(),()=>{i&&i.destroy()}},[t]),d.jsx("div",{ref:n,className:"fixed inset-0 z-0"})},qY=Object.freeze(Object.defineProperty({__proto__:null,default:WN},Symbol.toStringTag,{value:"Module"})),YY=()=>{const[n,e]=S.useState(!0),[t,i]=S.useState(""),[r,s]=S.useState(""),[a,o]=S.useState(""),[l,c]=S.useState(!1),[u,h]=S.useState(!1),[p,m]=S.useState(!1),{signIn:v,signUp:y}=yn(),x=Rf(),g=async f=>{if(f.preventDefault(),!t.trim()||!r.trim()){pe.error("Email  Password ");return}if(r.length<6){pe.error("Password    ");return}h(!0);try{if(n){const{error:b}=await v(t,r);if(b)b.message.includes("Invalid login credentials")?pe.error("Email  Password "):b.message.includes("Email not confirmed")?pe.error("Email  confirm  Inbox "):pe.error(b.message);else{pe.success("Login ! ");try{const w=new SpeechSynthesisUtterance("Welcome To The Dynamic Idea Maker App, Prompt Generator");w.lang="en-US",w.rate=.9,w.pitch=1.4;const T=()=>{const E=speechSynthesis.getVoices(),_=E.find(C=>/female|samantha|zira|karen|moira|tessa|fiona|victoria/i.test(C.name))||E.find(C=>C.lang.startsWith("en")&&C.name.toLowerCase().includes("google"));_&&(w.voice=_),speechSynthesis.speak(w)};speechSynthesis.getVoices().length>0?T():speechSynthesis.onvoiceschanged=T,w.onend=()=>{try{const E=new AudioContext,_=E.currentTime;[{freq:523.25,start:0,dur:.3},{freq:659.25,start:.25,dur:.3},{freq:783.99,start:.5,dur:.3},{freq:1046.5,start:.75,dur:.5},{freq:783.99,start:1.1,dur:.2},{freq:1046.5,start:1.3,dur:.6}].forEach(({freq:A,start:P,dur:R})=>{const G=E.createOscillator(),I=E.createGain();G.type="sine",G.frequency.value=A,I.gain.setValueAtTime(0,_+P),I.gain.linearRampToValueAtTime(.18,_+P+.05),I.gain.exponentialRampToValueAtTime(.001,_+P+R),G.connect(I),I.connect(E.destination),G.start(_+P),G.stop(_+P+R)})}catch{}}}catch{}x("/")}}else{const{error:b}=await y(t,r,a);b?b.message.includes("already registered")?pe.error(" Email  "):pe.error(b.message):pe.success("! Email confirm  ")}}catch{pe.error("")}finally{h(!1)}};return d.jsxs("div",{className:"min-h-screen relative flex items-center justify-center px-4 overflow-hidden",children:[d.jsx(WN,{}),d.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8 flex flex-col items-center",children:[d.jsx(cP,{}),d.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Advanced AI Generation Suite"})]}),d.jsxs("div",{className:"rounded-2xl p-7 bg-background/40 backdrop-blur-xl border border-white/10 shadow-2xl shadow-black/20",children:[d.jsx("h2",{className:"text-lg font-semibold text-foreground mb-6 text-center",children:n?"Welcome Back":"Create Account"}),d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[!n&&d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Display Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-xl pl-10 pr-4 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:"email",value:t,onChange:f=>i(f.target.value),placeholder:"you@example.com",className:"w-full bg-secondary/50 border border-border rounded-xl pl-10 pr-4 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:l?"text":"password",value:r,onChange:f=>s(f.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-xl pl-10 pr-10 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]})]}),d.jsxs("button",{type:"submit",disabled:u,className:"w-full py-3.5 btn-gradient text-primary-foreground rounded-xl font-semibold text-sm disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u?d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary-foreground border-t-transparent animate-spin"}):null,n?"Sign In":"Create Account"]}),n&&d.jsx("button",{type:"button",onClick:()=>m(!0),className:"w-full text-xs text-muted-foreground hover:text-primary transition-colors text-right",children:"Password ?"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>e(!n),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:n?d.jsxs(d.Fragment,{children:["? ",d.jsx("span",{className:"text-gradient font-medium",children:"Sign Up"})]}):d.jsxs(d.Fragment,{children:["? ",d.jsx("span",{className:"text-gradient font-medium",children:"Sign In"})]})})})]})]}),p&&d.jsx(_6,{onClose:()=>m(!1)})]})},KY=()=>{const[n,e]=S.useState(""),[t,i]=S.useState(""),[r,s]=S.useState(!1),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(!1),p=Rf();S.useEffect(()=>{const{data:{subscription:v}}=Ee.auth.onAuthStateChange(y=>{y==="PASSWORD_RECOVERY"&&h(!0)});return Ee.auth.getSession().then(({data:{session:y}})=>{y&&h(!0)}),()=>v.unsubscribe()},[]);const m=async v=>{if(v.preventDefault(),n.length<6){pe.error("Password    ");return}if(n!==t){pe.error("Password  ");return}c(!0);try{const{error:y}=await Ee.auth.updateUser({password:n});y?pe.error(y.message):(pe.success("Password ! "),p("/"))}catch{pe.error("")}finally{c(!1)}};return u?d.jsxs("div",{className:"min-h-screen bg-background bg-grid relative flex items-center justify-center px-4",children:[d.jsx("div",{className:"fixed top-0 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-[120px] pointer-events-none"}),d.jsx("div",{className:"fixed bottom-0 right-1/4 w-96 h-96 bg-accent/5 rounded-full blur-[120px] pointer-events-none"}),d.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:d.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 glow-border flex items-center justify-center",children:d.jsx(Ur,{className:"w-6 h-6 text-primary"})})}),d.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["AI ",d.jsx("span",{className:"text-gradient",children:"Prompt Book"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Password  "})]}),d.jsxs("div",{className:"glass glow-border rounded-2xl p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-foreground mb-6 text-center",children:"Password "}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Password "}),d.jsxs("div",{className:"relative",children:[d.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:r?"text":"password",value:n,onChange:v=>e(v.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-10 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:"Password "}),d.jsxs("div",{className:"relative",children:[d.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:a?"text":"password",value:t,onChange:v=>i(v.target.value),placeholder:"",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-10 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?d.jsx(Va,{className:"w-4 h-4"}):d.jsx(Wa,{className:"w-4 h-4"})})]})]}),d.jsxs("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary text-primary-foreground rounded-xl font-semibold text-sm hover:opacity-90 transition-all disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2 glow-primary",children:[l&&d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary-foreground border-t-transparent animate-spin"}),"Password "]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("button",{onClick:()=>p("/auth"),className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center gap-1.5 mx-auto",children:[d.jsx(Sx,{className:"w-3.5 h-3.5"}),"Login  "]})})]})]})]}):d.jsxs("div",{className:"min-h-screen bg-background bg-grid relative flex items-center justify-center px-4",children:[d.jsx("div",{className:"fixed top-0 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-[120px] pointer-events-none"}),d.jsx("div",{className:"fixed bottom-0 right-1/4 w-96 h-96 bg-accent/5 rounded-full blur-[120px] pointer-events-none"}),d.jsx("div",{className:"relative z-10 w-full max-w-md text-center",children:d.jsxs("div",{className:"glass glow-border rounded-2xl p-8",children:[d.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Password reset link  ..."}),d.jsxs("button",{onClick:()=>p("/auth"),className:"mt-4 text-sm text-primary hover:underline flex items-center gap-1.5 mx-auto",children:[d.jsx(Sx,{className:"w-3.5 h-3.5"}),"Login  "]})]})})]})},XY=()=>{const{isAdmin:n,loading:e,session:t}=yn(),i=Rf(),[r,s]=S.useState("dashboard"),[a,o]=S.useState([]),[l,c]=S.useState([]),[u,h]=S.useState(""),[p,m]=S.useState(!0),[v,y]=S.useState(null),[x,g]=S.useState(null),[f,b]=S.useState(!1),[w,T]=S.useState(!1),[E,_]=S.useState(""),[C,A]=S.useState("permanent"),[P,R]=S.useState(""),[G,I]=S.useState({totalUsers:0,totalAdmins:0,totalPrompts:0,totalImages:0,totalAdPosters:0,totalImagePrompts:0,todayUsage:0,weekUsage:0,bannedUsers:0});S.useEffect(()=>{!e&&!n&&(i("/"),pe.error("Admin access only"))},[e,n]),S.useEffect(()=>{n&&z()},[n]);const j=async(O,D,Q={})=>{const le=await fetch("https://gheshavzlxhzgxumzedd.supabase.co/functions/v1/admin-actions",{method:"POST",headers:{Authorization:`Bearer ${t==null?void 0:t.access_token}`,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdoZXNoYXZ6bHhoemd4dW16ZWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwOTgyMzIsImV4cCI6MjA4NjY3NDIzMn0.GO7p0TrLG6oZUZqhScFPTBcv27WhsHSvZbVwqBJz4MY"},body:JSON.stringify({action:O,userId:D,...Q})}),ce=await le.json();if(!le.ok)throw new Error(ce.error||"Action failed");return ce},z=async()=>{m(!0);try{const{data:O}=await Ee.from("profiles").select("user_id, display_name, created_at, is_banned, banned_until, ban_reason, access_expires_at"),{data:D}=await Ee.from("user_roles").select("user_id, role"),{data:Q}=await Ee.from("usage_logs").select("action_type, topic, category, created_at, user_id").order("created_at",{ascending:!1});let ae={};try{ae=(await j("get_users_detail","")).users||{}}catch(ie){console.warn("Could not fetch user emails:",ie)}const le={};(Q||[]).forEach(ie=>{le[ie.user_id]=(le[ie.user_id]||0)+1});const ce=(O||[]).map(ie=>{var me,Se,Le;return{user_id:ie.user_id,display_name:ie.display_name,email:((me=ae[ie.user_id])==null?void 0:me.email)||"",created_at:ie.created_at,role:((Se=D==null?void 0:D.find(Ne=>Ne.user_id===ie.user_id))==null?void 0:Se.role)||"user",usage_count:le[ie.user_id]||0,is_banned:ie.is_banned||!1,banned_until:ie.banned_until,ban_reason:ie.ban_reason,access_expires_at:ie.access_expires_at,last_sign_in:((Le=ae[ie.user_id])==null?void 0:Le.last_sign_in)||null}});o(ce);const K={};(O||[]).forEach(ie=>{K[ie.user_id]=ie.display_name||"Unknown"});const te=(Q||[]).map(ie=>({...ie,user_name:K[ie.user_id]||"Unknown"}));c(te);const re=new Date,we=new Date(re.getFullYear(),re.getMonth(),re.getDate()),ge=new Date(we.getTime()-7*24*60*60*1e3),B={};let N=0,Z=0;(Q||[]).forEach(ie=>{B[ie.action_type]=(B[ie.action_type]||0)+1;const me=new Date(ie.created_at);me>=we&&N++,me>=ge&&Z++}),I({totalUsers:ce.length,totalAdmins:ce.filter(ie=>ie.role==="admin").length,totalPrompts:B.prompt||0,totalImages:B.image||0,totalAdPosters:B.ad_poster||0,totalImagePrompts:B["image-prompt"]||0,todayUsage:N,weekUsage:Z,bannedUsers:ce.filter(ie=>ie.is_banned).length})}catch(O){console.error("Error fetching admin data:",O),pe.error("Data fetch error")}finally{m(!1)}},U=async(O,D)=>{try{D==="admin"?(await Ee.from("user_roles").update({role:"user"}).eq("user_id",O).eq("role","admin"),pe.success("Admin role removed")):(await Ee.from("user_roles").upsert({user_id:O,role:"admin"}),pe.success("Admin role granted")),z()}catch{pe.error("Error updating role")}},W=async()=>{if(x){y("ban");try{let O=null;if(C!=="permanent"){const D=new Date,Q=parseInt(C);O=new Date(D.getTime()+Q*24*60*60*1e3).toISOString()}await j("ban_user",x.user_id,{reason:E,bannedUntil:O}),pe.success(`${x.display_name||"User"}  ban `),b(!1),_(""),A("permanent"),z()}catch(O){pe.error(O instanceof Error?O.message:"Ban failed")}finally{y(null)}}},V=async O=>{y(O);try{await j("unban_user",O),pe.success("User unban "),z()}catch(D){pe.error(D instanceof Error?D.message:"Unban failed")}finally{y(null)}},M=async(O,D)=>{y(O+"-reset");try{const Q=await j("reset_password",O);pe.success(Q.message||`${D}  password reset link `)}catch(Q){pe.error(Q instanceof Error?Q.message:"Reset failed")}finally{y(null)}},q=async()=>{if(x){y("expiry");try{await j("set_access_expiry",x.user_id,{expiresAt:P?new Date(P).toISOString():null}),pe.success(P?"Access expiry ":"Access expiry "),T(!1),R(""),z()}catch(O){pe.error(O instanceof Error?O.message:"Failed")}finally{y(null)}}},X=a.filter(O=>(O.display_name||"").toLowerCase().includes(u.toLowerCase())||(O.email||"").toLowerCase().includes(u.toLowerCase())),ne=G.totalPrompts+G.totalImages+G.totalAdPosters+G.totalImagePrompts;if(e)return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin"})});if(!n)return null;const Y=[{id:"dashboard",label:"Dashboard",icon:yD},{id:"users",label:"Users",icon:M_},{id:"analytics",label:"Analytics",icon:E_},{id:"activity",label:"Activity Log",icon:Tx}],H=O=>O.access_expires_at?new Date(O.access_expires_at)<new Date:!1,k=O=>O.is_banned?O.banned_until&&new Date(O.banned_until)>new Date?{label:"Temp Banned",color:"bg-orange-500/15 text-orange-400 border-orange-500/20"}:O.banned_until&&new Date(O.banned_until)<=new Date?{label:"Active",color:"bg-emerald-500/15 text-emerald-400 border-emerald-500/20"}:{label:"Banned",color:"bg-destructive/15 text-destructive border-destructive/20"}:H(O)?{label:"Expired",color:"bg-orange-500/15 text-orange-400 border-orange-500/20"}:{label:"Active",color:"bg-emerald-500/15 text-emerald-400 border-emerald-500/20"};return d.jsxs("div",{className:"min-h-screen bg-background bg-grid relative",children:[d.jsx("div",{className:"fixed top-0 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-[120px] pointer-events-none"}),d.jsx("div",{className:"fixed bottom-0 right-1/4 w-96 h-96 bg-primary/5 rounded-full blur-[120px] pointer-events-none"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("header",{className:"w-full py-4 px-4 md:px-6 border-b border-border/50",children:d.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>i("/"),className:"text-muted-foreground hover:text-foreground transition-colors",children:d.jsx(Sx,{className:"w-5 h-5"})}),d.jsx("div",{className:"w-9 h-9 rounded-lg bg-accent/10 glow-border flex items-center justify-center",children:d.jsx(Rw,{className:"w-5 h-5 text-accent"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Admin Dashboard"}),d.jsx("p",{className:"text-[10px] text-muted-foreground",children:"System Management & User Control"})]})]}),d.jsxs("button",{onClick:z,disabled:p,className:"flex items-center gap-1.5 px-3 py-1.5 bg-primary/10 text-primary border border-primary/30 rounded-lg text-xs font-medium hover:bg-primary/20 transition-all",children:[d.jsx(Nk,{className:`w-3.5 h-3.5 ${p?"animate-spin":""}`}),"Refresh"]})]})}),d.jsxs("main",{className:"max-w-6xl mx-auto px-4 md:px-6 py-6",children:[d.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide mb-6",children:d.jsx("div",{className:"flex gap-1 p-1 bg-secondary/30 rounded-xl border border-border/50 min-w-max",children:Y.map(O=>d.jsxs("button",{onClick:()=>s(O.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-medium transition-all whitespace-nowrap ${r===O.id?"bg-accent text-accent-foreground":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"}`,children:[d.jsx(O.icon,{className:"w-3.5 h-3.5"}),O.label]},O.id))})}),p?d.jsx("div",{className:"flex justify-center py-16",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading data..."})]})}):d.jsxs(d.Fragment,{children:[r==="dashboard"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[d.jsx(Mr,{icon:M_,label:"Total Users",value:G.totalUsers,color:"primary"}),d.jsx(Mr,{icon:zD,label:"Admins",value:G.totalAdmins,color:"accent"}),d.jsx(Mr,{icon:Vg,label:"Banned",value:G.bannedUsers,color:"destructive"}),d.jsx(Mr,{icon:Jd,label:"Today",value:G.todayUsage,color:"primary"}),d.jsx(Mr,{icon:FD,label:"This Week",value:G.weekUsage,color:"accent"})]}),d.jsxs("div",{className:"glass glow-border rounded-xl p-6",children:[d.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(E_,{className:"w-4 h-4 text-primary"}),"Generation Overview"]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsx(zp,{label:"Text Prompts",value:G.totalPrompts,total:ne,icon:""}),d.jsx(zp,{label:"Image Prompts",value:G.totalImagePrompts,total:ne,icon:""}),d.jsx(zp,{label:"Images",value:G.totalImages,total:ne,icon:""}),d.jsx(zp,{label:"Ad Posters",value:G.totalAdPosters,total:ne,icon:""})]})]}),d.jsxs("div",{className:"glass glow-border rounded-xl p-6",children:[d.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(Tx,{className:"w-4 h-4 text-accent"}),"Recent Activity"]}),d.jsxs("div",{className:"space-y-2",children:[l.slice(0,8).map((O,D)=>d.jsx(PE,{log:O},D)),l.length===0&&d.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})]})]}),r==="users"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Aw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx("input",{type:"text",value:u,onChange:O=>h(O.target.value),placeholder:"Search by name or email...",className:"w-full bg-secondary/50 border border-border rounded-lg pl-10 pr-4 py-2.5 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 transition-all"})]}),d.jsxs("div",{className:"glass glow-border rounded-xl overflow-hidden",children:[d.jsx("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:d.jsxs("h2",{className:"text-sm font-semibold text-foreground",children:["Users (",X.length,")"]})}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-border/50",children:[d.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-muted-foreground",children:"User"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-muted-foreground",children:"Status"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-muted-foreground hidden md:table-cell",children:"Role"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-muted-foreground hidden md:table-cell",children:"Usage"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-muted-foreground hidden lg:table-cell",children:"Access Expiry"}),d.jsx("th",{className:"text-right px-4 py-3 text-xs font-medium text-muted-foreground",children:"Actions"})]})}),d.jsx("tbody",{children:X.map(O=>{const D=k(O);return d.jsxs("tr",{className:"border-b border-border/30 hover:bg-secondary/20 transition-colors",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary",children:(O.display_name||"U")[0].toUpperCase()}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm text-foreground font-medium block",children:O.display_name||"Unknown"}),d.jsx("span",{className:"text-[10px] text-muted-foreground",children:O.email})]})]})}),d.jsxs("td",{className:"px-4 py-3",children:[d.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${D.color}`,children:D.label}),O.ban_reason&&O.is_banned&&d.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 max-w-[120px] truncate",title:O.ban_reason,children:O.ban_reason})]}),d.jsx("td",{className:"px-4 py-3 hidden md:table-cell",children:d.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${O.role==="admin"?"bg-accent/20 text-accent border border-accent/30":"bg-secondary/50 text-muted-foreground border border-border/50"}`,children:O.role})}),d.jsxs("td",{className:"px-4 py-3 hidden md:table-cell",children:[d.jsx("span",{className:"text-sm text-foreground",children:O.usage_count}),d.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"gens"})]}),d.jsx("td",{className:"px-4 py-3 text-xs text-muted-foreground hidden lg:table-cell",children:O.access_expires_at?d.jsx("span",{className:H(O)?"text-destructive":"text-foreground",children:new Date(O.access_expires_at).toLocaleDateString()}):d.jsx("span",{className:"text-muted-foreground/50",children:""})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-end gap-1.5 flex-wrap",children:[O.is_banned?d.jsxs("button",{onClick:()=>V(O.user_id),disabled:v===O.user_id,className:"px-2.5 py-1.5 rounded-lg text-[10px] font-medium bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 hover:bg-emerald-500/20 transition-all disabled:opacity-50",title:"Unban user",children:[d.jsx(_x,{className:"w-3 h-3 inline mr-1"}),"Allow"]}):d.jsxs("button",{onClick:()=>{g(O),b(!0)},className:"px-2.5 py-1.5 rounded-lg text-[10px] font-medium bg-destructive/10 text-destructive border border-destructive/20 hover:bg-destructive/20 transition-all",title:"Ban user",children:[d.jsx(Vg,{className:"w-3 h-3 inline mr-1"}),"Stop"]}),d.jsxs("button",{onClick:()=>M(O.user_id,O.display_name||"User"),disabled:v===O.user_id+"-reset",className:"px-2.5 py-1.5 rounded-lg text-[10px] font-medium bg-primary/10 text-primary border border-primary/20 hover:bg-primary/20 transition-all disabled:opacity-50",title:"Reset password",children:[d.jsx(MD,{className:"w-3 h-3 inline mr-1"}),"Reset PW"]}),d.jsxs("button",{onClick:()=>{g(O),R(O.access_expires_at?O.access_expires_at.split("T")[0]:""),T(!0)},className:"px-2.5 py-1.5 rounded-lg text-[10px] font-medium bg-secondary/50 text-foreground border border-border/50 hover:bg-secondary transition-all",title:"Set access expiry",children:[d.jsx(T_,{className:"w-3 h-3 inline mr-1"}),"Expiry"]}),d.jsx("button",{onClick:()=>U(O.user_id,O.role),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-medium transition-all border ${O.role==="admin"?"bg-destructive/10 text-destructive border-destructive/30 hover:bg-destructive/20":"bg-accent/10 text-accent border-accent/30 hover:bg-accent/20"}`,children:O.role==="admin"?"Remove Admin":"Make Admin"})]})})]},O.user_id)})})]}),X.length===0&&d.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No users found"})]})]})]}),r==="analytics"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsx(Mr,{icon:LD,label:"Text Prompts",value:G.totalPrompts,color:"primary"}),d.jsx(Mr,{icon:Ex,label:"Image Prompts",value:G.totalImagePrompts,color:"accent"}),d.jsx(Mr,{icon:Ex,label:"Images",value:G.totalImages,color:"primary"}),d.jsx(Mr,{icon:Jd,label:"Ad Posters",value:G.totalAdPosters,color:"accent"})]}),d.jsxs("div",{className:"glass glow-border rounded-xl p-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-6",children:"Usage Distribution"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Up,{label:" Text Prompts",value:G.totalPrompts,max:ne,colorClass:"bg-primary"}),d.jsx(Up,{label:" Image Prompts",value:G.totalImagePrompts,max:ne,colorClass:"bg-accent"}),d.jsx(Up,{label:" Images",value:G.totalImages,max:ne,colorClass:"bg-primary"}),d.jsx(Up,{label:" Ad Posters",value:G.totalAdPosters,max:ne,colorClass:"bg-accent"})]})]}),d.jsxs("div",{className:"glass glow-border rounded-xl p-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:"Top Users by Usage"}),d.jsxs("div",{className:"space-y-3",children:[[...a].sort((O,D)=>D.usage_count-O.usage_count).slice(0,10).map((O,D)=>{var Q;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:["#",D+1]}),d.jsx("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary",children:(O.display_name||"U")[0].toUpperCase()}),d.jsx("span",{className:"text-sm text-foreground flex-1",children:O.display_name||"Unknown"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-20 h-1.5 bg-secondary/50 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${Math.min(O.usage_count/(((Q=a[0])==null?void 0:Q.usage_count)||1)*100,100)}%`}})}),d.jsx("span",{className:"text-xs font-medium text-primary w-8 text-right",children:O.usage_count})]})]},O.user_id)}),a.length===0&&d.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No data yet"})]})]})]}),r==="activity"&&d.jsxs("div",{className:"glass glow-border rounded-xl p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("h3",{className:"text-sm font-semibold text-foreground",children:["Activity Log (",l.length,")"]})}),d.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-1",children:[l.map((O,D)=>d.jsx(PE,{log:O,showUser:!0},D)),l.length===0&&d.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No activity yet"})]})]})]})]})]}),f&&x&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"glass glow-border rounded-2xl p-6 w-full max-w-md space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center",children:d.jsx(Vg,{className:"w-5 h-5 text-destructive"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-base font-bold text-foreground",children:"User  Stop "}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.display_name," (",x.email,")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-foreground block mb-1.5",children:""}),d.jsx("input",{type:"text",value:E,onChange:O=>_(O.target.value),placeholder:"Ban reason...",className:"w-full bg-secondary/50 border border-border rounded-lg px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-destructive/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-foreground block mb-1.5",children:"Duration"}),d.jsxs("select",{value:C,onChange:O=>A(O.target.value),className:"w-full bg-secondary/50 border border-border rounded-lg px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-destructive/30",children:[d.jsx("option",{value:"permanent",children:"Permanent"}),d.jsx("option",{value:"1",children:"1 Day"}),d.jsx("option",{value:"3",children:"3 Days"}),d.jsx("option",{value:"7",children:"1 Week"}),d.jsx("option",{value:"14",children:"2 Weeks"}),d.jsx("option",{value:"30",children:"1 Month"}),d.jsx("option",{value:"90",children:"3 Months"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>{b(!1),_("")},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium bg-secondary/50 text-foreground border border-border hover:bg-secondary transition-all",children:"Cancel"}),d.jsx("button",{onClick:W,disabled:v==="ban",className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium bg-destructive text-destructive-foreground hover:bg-destructive/90 transition-all disabled:opacity-50",children:v==="ban"?"Processing...":"Stop User"})]})]})}),w&&x&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"glass glow-border rounded-2xl p-6 w-full max-w-md space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:d.jsx(T_,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-base font-bold text-foreground",children:"Access Expiry "}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.display_name," (",x.email,")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-foreground block mb-1.5",children:"Expiry Date"}),d.jsx("input",{type:"date",value:P,onChange:O=>R(O.target.value),className:"w-full bg-secondary/50 border border-border rounded-lg px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"}),d.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:" expiry "})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>{T(!1),R("")},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium bg-secondary/50 text-foreground border border-border hover:bg-secondary transition-all",children:"Cancel"}),d.jsx("button",{onClick:q,disabled:v==="expiry",className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 transition-all disabled:opacity-50",children:v==="expiry"?"Processing...":P?"Set Expiry":"Remove Expiry"})]})]})})]})},Mr=({icon:n,label:e,value:t,color:i})=>{const s={primary:{bg:"bg-primary/10",text:"text-primary"},accent:{bg:"bg-accent/10",text:"text-accent"},destructive:{bg:"bg-destructive/10",text:"text-destructive"}}[i];return d.jsxs("div",{className:"glass glow-border rounded-xl p-5",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:`w-9 h-9 rounded-lg ${s.bg} flex items-center justify-center`,children:d.jsx(n,{className:`w-5 h-5 ${s.text}`})})}),d.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.toLocaleString()}),d.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:e})]})},zp=({label:n,value:e,total:t,icon:i})=>{const r=t>0?Math.round(e/t*100):0;return d.jsxs("div",{className:"bg-secondary/30 rounded-lg p-4 border border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-base",children:i}),d.jsx("span",{className:"text-xs text-muted-foreground",children:n})]}),d.jsx("p",{className:"text-xl font-bold text-foreground",children:e}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("div",{className:"flex-1 h-1.5 bg-secondary/50 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${r}%`}})}),d.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[r,"%"]})]})]})},Up=({label:n,value:e,max:t,colorClass:i})=>{const r=t>0?Math.round(e/t*100):0;return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-sm text-foreground w-36 shrink-0",children:n}),d.jsx("div",{className:"flex-1 h-3 bg-secondary/50 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full ${i} rounded-full transition-all duration-500`,style:{width:`${r}%`}})}),d.jsx("span",{className:"text-sm font-medium text-foreground w-12 text-right",children:e})]})},PE=({log:n,showUser:e=!1})=>{const t={prompt:"",image:"","image-prompt":"",ad_poster:""},i={prompt:"Text Prompt",image:"Image","image-prompt":"Image Prompt",ad_poster:"Ad Poster"},r=s=>{const a=Date.now()-new Date(s).getTime(),o=Math.floor(a/6e4);if(o<1)return"Just now";if(o<60)return`${o}m ago`;const l=Math.floor(o/60);return l<24?`${l}h ago`:`${Math.floor(l/24)}d ago`};return d.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 rounded-lg hover:bg-secondary/20 transition-colors",children:[d.jsx("span",{className:"text-base",children:t[n.action_type]||""}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-medium text-foreground",children:i[n.action_type]||n.action_type}),e&&n.user_name&&d.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["by ",n.user_name]})]}),n.topic&&d.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-xs",children:n.topic})]}),d.jsx("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap",children:r(n.created_at)})]})},JY=()=>{const n=Pf();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},QY=new d4,ZY=()=>d.jsx(h4,{client:QY,children:d.jsx(BU,{children:d.jsxs(zB,{children:[d.jsx(SO,{}),d.jsx(eF,{}),d.jsx(r5,{children:d.jsx(FU,{children:d.jsxs(t5,{children:[d.jsx(dl,{path:"/auth",element:d.jsx(YY,{})}),d.jsx(dl,{path:"/reset-password",element:d.jsx(KY,{})}),d.jsx(dl,{path:"/",element:d.jsx(k1,{children:d.jsx(S6,{})})}),d.jsx(dl,{path:"/admin",element:d.jsx(k1,{children:d.jsx(XY,{})})}),d.jsx(dl,{path:"*",element:d.jsx(JY,{})})]})})})]})})});ZM(document.getElementById("root")).render(d.jsx(ZY,{}));export{Ds as L,Ur as S,jk as T,Qs as X,yn as a,DD as b,tK as c,BE as g,d as j,S as r,Ee as s,yf as u};
